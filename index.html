
<p><font color=#00ff08>
<p style='font-size: 70px;'><b>ZGames</b></p>
  <style>
    body { background: #111111;}
 </style>
<p style='font-size: 45px;'><b>Games</b></p>
<a href="https://nomaz10.github.io/ZGames-Dark-theme-scratch-games-index.html/"><p style='font-size: 35px;'>Scratch Games</p></a> 
<title>ZGames</title>
</font>
</font>
</p>
  <p><font color=#29fff8>
<p style='font-size: 35px;'><b>Settings</b></p>
<!DOCTYPE html>
<html>
<head>
<style>
a:link {
  color: #ffffff;
  background-color: transparent;
  text-decoration: underline;
}
a:visited {
  color: #ffffff;
  background-color: transparent;
  text-decoration: underline;
}
a:hover {
  color: red;
  background-color: transparent;
  text-decoration: underline;
}
a:active {
  color: red;
  background-color: transparent;
  text-decoration: underline;
}
</style>
</head>
<body>
<div>
<a href="https://nomaz10.github.io/ZGames"><p style='font-size: 22px;'>Light Theme</p></a> 
</body>
</html>
<p style='font-size: 16px;'>Â©2023 ZGames</p>
</p>
</font>
</font>
<div>
<p><font color=#111111>
  <p style='font-size: 1px;'>        
   </p>
  <p style='font-size: 1px;'> 
  </p>
  <p style='font-size: 1px;'>
 </p>
  <p style='font-size: 1px;'>
  </p> <p
    style='font-size: 1px;'> 
  </p>
  <p style='font-size: 1px;'> </p>
  <p style='font-size: 1px;'></p>
<p style='font-size: 1px;'> </p>
  <div
    >
    <p style='font-size: 1px;'> </p>
  <p style='font-size: 1px;'> </p>  <p style='font-size: 1px;'> </p>
  <p style='font-size: 1px;'> </p>  <p style='font-size: 1px;'></p>
  <p style='font-size: 1px;'> </p>  <p style='font-size: 1px;'> </p>
  <p style='font-size: 1px;'> </p> </div>
</div>
  </div>
<html><head><meta charset="utf-8"><meta name="viewport" content="initial-scale=1,maximum-scale=1"><style>.transplanted-form-element-container input,
.transplanted-form-element-container textarea,
.transplanted-form-element {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}

.celtra-display-image-overlay {
    position: absolute;
    top: 0; right: 0; bottom: 0; left: 0;
    z-index: 30;
    background-repeat: no-repeat;
    background-position: center center;
    /* background-color and background-image set in code */
}

.celtra-display-image-overlay .celtra-back-button {
    position: absolute;
    top: 0;
    width: 30px; height: 30px;
    background: url('https://cache-ssl.celtra.com/api/static/vda5d009053/runner/clazzes/CreativeUnit/back.png');
    background-size: 30px 60px;
}

.celtra-display-image-overlay .celtra-back-button.left {
    left: 0;
}

.celtra-display-image-overlay .celtra-back-button.right {
    right: 0;
}

.celtra-display-image-overlay .celtra-back-button.touched {
    background-position: 0 100%;
}

.celtra-fit-to-container {
    max-width: 100%;
    max-height: 100%;
}

.celtra-center-content {
    width: 100%;
    height: 100%;
    text-align: center;
}
.celtra-center-content::before {
    content: '';
    display: inline-block;
    height: 100%;
    vertical-align: middle;
}
.celtra-center-content > * {
    vertical-align: middle;
}

.celtra-creative-border {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 20;
    border-style: solid;
    box-sizing: border-box;
    pointer-events: none;
}

/* Disables green outline on tapped objects on HTC phones running Android */
* {
    -webkit-tap-highlight-color : rgba(0,0,0,0);
    tap-highlight-color         : rgba(0,0,0,0);
}

.celtra-creative-unit {
    font-family: Helvetica;
    font-size: 12pt;

    position: relative; /* so contained elements are positioned OK and 'overflow: hidden' works */

    /*
      z-indices:
        10 - screenHolder
        20 - placeboBar
        40 - alert
        30 - displayImageAction overlay
        100 - close button
    */
}

.celtra-screen-holder {
    position: absolute; top: 0; left: 0; bottom: 0; right: 0;
    z-index: 10;
}

.celtra-creative-unit, .celtra-creative-unit * {
    -webkit-text-size-adjust: none;
        -ms-text-size-adjust: none;
            text-size-adjust: none;
    tap-highlight-color: transparent;
    touch-callout: none;
    -webkit-user-select: none;
       -moz-user-select: none;
        -ms-user-select: none;
            user-select: none; /* override to 'text' manually if needed */

    margin: 0;
    padding: 0;
}

.celtra-close-button {
    position: absolute;
    top: 0; right: 0;
    width: 30px; height: 30px;
    z-index: 99999999;
    overflow: hidden;
    -webkit-transform: translateZ(0);
}

.celtra-close-button-text {
    font-family: Arial, Helvetica, Tahoma, sans-serif;
    font-size: 12px;
    line-height: 12px;
    padding: 10px;
    white-space: nowrap;
    width: auto;
    height: auto;
    cursor: pointer;
}

.celtra-close-button.touched {
    visibility: hidden;
}

.celtra-close-button-down {
    visibility: hidden;
}

.celtra-close-button-up.touched+.celtra-close-button-down {
    visibility: visible;
}

.celtra-close-button-text.touched {
    visibility: visible;
    padding-top: 11px;
    padding-right: 9px;
}

.celtra-creative-unit input,
.celtra-creative-unit textarea {
    -webkit-user-select: text;
       -moz-user-select: text;
        -ms-user-select: text;
            user-select: text;
    text-align: center;
}
.celtra-screen {
    /*
      Screens themselves have 0 area and visible overflow (default), so
      click-through from base to master screen works.
      
      The master has z-index 0 and the primary screen has z-index 1.
    */
    position: absolute;
    top: 0; left: 0; 
    
    pointer-events: none;
    overflow: hidden;
}

.celtra-screen > * {
    pointer-events: auto;
}
/*
This extra CSS attribute is required for Internet Explorer 10+ to correctly
route Pointer events to the object being touched. This is mutually exclusive
with scrolling, so there's no way to have both at the same time. This will
also prevent swipeable banners if any element on stage has the `touchable`
CSS class, but will generate `tap` events.
*/
.touchable { -ms-touch-action: none; }

/*
On IE, if a background is not set on an element, it is
transparent to mouse and touch events. This forces the
element to become opaque to user events.
*/
.celtra-screen-object { background: rgba(0,0,0,0); }

/*
Pointer cursor for hotspot component on desktop.
*/
.celtra-hotspot { cursor: pointer; }


/*
Force GPU rendering for all children of animated layers in order to prevent jittery scaling animations.
Because the `animated` class is added to objects only when SceneOverrides.js is included, this style rule
will not affect any elements in creatives which are not using scenes.
*/
.celtra-screen-object.animated div,
.celtra-screen-object.animated > img,
.celtra-screen-object.animated .celtra-screen-object div,
.celtra-screen-object.animated .celtra-screen-object > img {
    transform: perspective(1px);
}

.celtra-picture {
    overflow: hidden;
}

.celtra-picture.empty {
    background-color: #000000;
    background-position: center;
    background-repeat: no-repeat;
    background-size: 28px;
    border: 2px solid #404040;
    box-sizing: border-box;
}

.celtra-button {
	box-sizing: border-box;
	cursor: pointer;
}

.celtra-button div {
	overflow: hidden;
	box-sizing: border-box;
	background-clip: padding-box;

	border-width: 0;
	border-style: solid;
	border-color: transparent;

	background-color: transparent;
	background-position: center center;
	background-repeat: no-repeat;
}

.celtra-button div,
.celtra-button img {
	position: absolute;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;
	transition: inherit;
}

.celtra-button .background,
.celtra-button .background img,
.celtra-button .foreground,
.celtra-button .foreground div {
	pointer-events: none;
}

.celtra-button .call-to-action {
	padding: 0 3px;
	white-space: pre;
}

.celtra-button .image-fit div {
	background-size: auto;
}

.celtra-button .image-stretch div {
	background-size: 100% 100%;
}

.celtra-texty .no-break {
    white-space: nowrap;
    word-break: keep-all;
    overflow-wrap: normal;
    word-wrap: normal;
}

.celtra-texty .scroll-container {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    outline: 1px solid transparent; /* node looses overflow: hidden if object is translated on Android native browser ... line below magically solves that */
}

.celtra-texty .scroll-container > div {
    position: absolute;
    width: 100%;
    box-sizing: border-box;
}

.celtra-texty .celtra-vertical-scrollbar {
    position: absolute;
    top: 0;
    right: 0;
    width: 5px;
    z-index: 2;
}

.celtra-texty .celtra-vertical-scrollbar.outer {
    right: -5px;
}

/*
Workaround for smooth text animation in baking for animated Texty and animated containers that contain Texty.
*/
.celtra-texty.baking-animated div,
.celtra-screen-object.baking-animated .celtra-texty div {
    will-change: transform;
}

.celtra-shapey {
	box-sizing: border-box;
}

.celtra-shapey div {
	position: absolute;
	left: 0;
	top: 0;
	height: 100%;
	width: 100%;

	overflow: hidden;
	box-sizing: border-box;
	background-clip: padding-box;

	border-width: 0;
	border-style: solid;
	border-color: transparent;

	transition: inherit;
}

.celtra-store-locator3 {
    overflow: hidden;
    background-color: #e5e3df;
}

.celtra-store-locator3.arabic {
    direction: rtl;
}

    .celtra-store-locator3 .initial-map-dialog {
        position: absolute;
        top: 0;
        left: 0;
        bottom: 0;
        right: 0;
        z-index: 10;
    }

    .celtra-store-locator3 .initial-map-dialog .touchable {
        cursor: pointer;
    }

        .celtra-store-locator3 .initial-map-dialog .map-placeholder {
            position: absolute;
            top: -100px;
            left: -100px;
            right: -100px;
            bottom: -100px;
            background-position: center center;
            background-repeat: repeat;
            z-index: 9;
            transform: rotate(10deg);
        }

        .celtra-store-locator3 .initial-map-dialog .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 10;
        }

            .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content {
                width: 100%;
                position: absolute;
                top: 50%;
                left: 50%;
                font-size: 14px;
                line-height: 20px;
                color: white;
                text-align: center;
                transform: translate(-50%, -50%);
            }

                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content > div {
                    display: none;
                    margin: 10px;
                }

                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .user-consent .consent-button {
                    display: inline-block;
                    padding: 10px;
                    margin: 20px 15px;
                    color: white;
                    text-align: center;
                    border-radius: 5px;
                    font-weight: bold;
                    font-size: 14px;
                    min-width: 45px;
                    width: -moz-max-content;
                    width: max-content;
                }

                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .consent-button.button-yes {
                    background-color: green;
                }

                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .consent-button.button-no {
                    background-color: red;
                }

            .celtra-store-locator3 .initial-map-dialog .icon {
                width: 42px;
                height: 42px;
                border-radius: 50%;
                box-shadow: 0 0 7px rgba(0,0,0,0.2);
                background-color: white;
                margin: 17px auto 0;
            }

                .celtra-store-locator3 .initial-map-dialog .icon svg {
                    width: 20px;
                    height: 20px;
                    margin: 11px;
                }

    .celtra-store-locator3 .map-container {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
    }

    /* -- Button ------------------------------------------------------------------------------------- */

    .celtra-store-locator3 .btn {
        position: absolute;
        z-index: 2;
        cursor: pointer;
        width: 36px;
        height: 36px;
        border-radius: 50%;
        left: -100px;
        top: -100px;
        z-index: 2;
        box-shadow: 0 0 4px rgba(0,0,0,0.2);
    }

    .celtra-store-locator3 .btn.animated {
        transition: all 0.3s cubic-bezier(.97,.01,.05,1);
    }

        .celtra-store-locator3 .btn.zoomIn,
        .celtra-store-locator3 .btn.zoomOut {
            width: 29px;
            height: 29px;
            border-radius: 3px;
        }

        .celtra-store-locator3.dark .btn {
            box-shadow: 0 0 4px rgba(255,255,255,0.5);
        }

        .celtra-store-locator3 .btn.zoomIn {
            border-bottom-right-radius: 0;
            border-bottom-left-radius: 0;
        }

        .celtra-store-locator3 .btn.zoomOut {
            border-top-right-radius: 0;
            border-top-left-radius: 0;
        }

            .celtra-store-locator3 .btn svg {
                width: 16px;
                height: 16px;
                margin: 10px;
            }

            .celtra-store-locator3 .btn.zoomIn svg,
            .celtra-store-locator3 .btn.zoomOut svg {
                margin: 7px;
            }

                .celtra-store-locator3.light .btn.refocus,
                .celtra-store-locator3.light .btn.zoomIn,
                .celtra-store-locator3.light .btn.zoomOut,
                .celtra-store-locator3.light .btn.search {
                    background-color: white;
                }

                .celtra-store-locator3.dark .btn.refocus,
                .celtra-store-locator3.dark .btn.zoomIn,
                .celtra-store-locator3.dark .btn.zoomOut,
                .celtra-store-locator3.dark .btn.search {
                    background-color: black;
                }

                .celtra-store-locator3.light .btn.refocus svg,
                .celtra-store-locator3.light .btn.search svg,
                .celtra-store-locator3.light .btn.zoomOut svg,
                .celtra-store-locator3.light .btn.zoomIn svg {
                    fill: black;
                }

                .celtra-store-locator3.dark .btn.refocus svg,
                .celtra-store-locator3.dark .btn.search svg,
                .celtra-store-locator3.dark .btn.zoomIn svg,
                .celtra-store-locator3.dark .btn.zoomOut svg {
                    fill: white;
                }

    /* -- List --------------------------------------------------------------------------------------- */

    .celtra-store-locator3 .list-container {
        position: absolute;
        width: 100%;
        height: 100%;
        z-index: 4;
        overflow: hidden;
        background-color: white;
        opacity: 0;
        visibility: hidden;
    }

    .celtra-store-locator3 .list-container.animated {
        transition: top .3s cubic-bezier(0,0,.3,1.1), left .3s cubic-bezier(0,0,.3,1.1), opacity .3s ease-out;
    }

        .celtra-store-locator3 .header.animated {
            transition: top .3s cubic-bezier(0,.5,.5,1), opacity .3s cubic-bezier(1,0,0,1);
        }

        .celtra-store-locator3 .header {
            position: absolute;
            top: -50px;
            left: 0;
            width: 100%;
            height: 50px;
            font-size: 14px;
            line-height: 21px;
            box-sizing: border-box;
            z-index: 6;
            opacity: 0;
        }

            .celtra-store-locator3 .list-header,
            .celtra-store-locator3 .search-header,
            .celtra-store-locator3 .map-header,
            .celtra-store-locator3 .infobox-header,
            .celtra-store-locator3 .cluster-header {
                position: relative;
                width: 100%;
                height: 100%;
                transition: opacity .1s linear;
            }

        .celtra-store-locator3 .list-header.no-header {
            display: none;
        }

            .celtra-store-locator3 .list-header .back,
            .celtra-store-locator3 .map-header .back,
            .celtra-store-locator3 .cluster-header .back,
            .celtra-store-locator3 .infobox-header .back,
            .celtra-store-locator3 .search-header .back {
                float: left;
                cursor: pointer;
                height: 50px;
                line-height: 50px;
                text-overflow: ellipsis;
                overflow: hidden;
                white-space: nowrap;
            }

            .celtra-store-locator3 .search-header .back {
                position: relative;
                z-index: 1;
                width: 36px;
            }

                .celtra-store-locator3 .cluster-header .back.with-text h5,
                .celtra-store-locator3 .cluster-header .back.with-text p {
                    width: auto;
                    padding-left: 0;
                }

                    .celtra-store-locator3 .back svg {
                        float: left;
                        width: 16px;
                        height: 16px;
                        margin: 17px 10px;
                    }

            .celtra-store-locator3 .list-header .search {
                float: right;
                cursor: pointer;
                height: 100%;
                width: 44px;
            }

                .celtra-store-locator3 .list-header .search svg {
                    width: 16px;
                    height: 16px;
                    margin: 17px 14px;
                }

            .celtra-store-locator3 .search-header .query {
                position: absolute;
                top: 0;
                left: 0;
                padding: 0 44px 0 36px;
                box-sizing: border-box;
                margin: 0;
                border: none;
                background: none;
                height: 100%;
                width: 100%;
                font-size: 14px;
                text-align: left;
                font-weight: normal;
            }

            .celtra-store-locator3.arabic .search-header .query {
                text-align: right;
            }

            .celtra-store-locator3 .search-header .query:focus {
                outline-width: 0;
            }

            .celtra-store-locator3 .search-header .cancel {
                position: absolute;
                top: 0;
                right: 0;
                width: 44px;
                height: 100%;
                cursor: pointer;
                display: none;
                z-index: 1;
            }

                .celtra-store-locator3 .search-header .cancel svg {
                    width: 16px;
                    height: 16px;
                    margin: 17px 14px;
                }

        .celtra-store-locator3 .list-content-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .celtra-store-locator3 .list-container.with-header .list-content-container {
            top: 50px;
            height: calc(100% - 50px);
        }

        .celtra-store-locator3 .list-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            text-align: center;
            font-size: 14px;
        }

            .celtra-store-locator3 .list-container .details {
                width: 100%;
                height: 75px;
                padding: 10px 85px 10px 10px;
                overflow: hidden;
                border-bottom: 1px solid rgba(0,0,0,0.2);
            }

    .celtra-store-locator3 .celtra-vertical-scrollbar {
        position: absolute;
        top: 0;
        right: 3px;
        width: 4px;
        padding: 5px 0;
        opacity: 0.15;
        z-index: 2;
        box-sizing: border-box;
    }

        .celtra-store-locator3 .celtra-vertical-scrollbar div {
            background-color: black;
            border-radius: 2px;
            width: 100%;
            height: 100%;
        }

    /* -- List - modifications ----------------------------------------------------------------------- */

    .celtra-store-locator3.dark .list-container {
        background-color: black;
    }

    .celtra-store-locator3.dark .list-container .details {
        border-bottom: 1px solid rgba(255,255,255,0.2);
    }

    .celtra-store-locator3.dark .list-wrapper {
        color: white;
    }

    .celtra-store-locator3.light .list-wrapper {
        color: black;
    }

    .celtra-store-locator3.dark .celtra-vertical-scrollbar div {
        background-color: white;
    }

    /* -- Infobox ------------------------------------------------------------------------------------ */

    .celtra-store-locator3 .infobox-container {
        position: absolute;
        z-index: 5;
        height: 150px;
        overflow: hidden;
        box-sizing: border-box;
        box-shadow: 0 0 4px rgba(0,0,0,0.2);
        margin: 0 10px 10px;
        background-color: white;
        opacity: 0;
        visibility: hidden;
    }

    .celtra-store-locator3 .infobox-container.animated {
        transition: top 0.3s cubic-bezier(.25,.1,.25,1), left 0.3s cubic-bezier(.25,.1,.25,1), opacity 0.3s cubic-bezier(.25,.1,.25,1);
    }

        .celtra-store-locator3 .cluster-header.static {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 50px;
            padding-right: 60px;
            overflow: hidden;
            box-sizing: border-box;
            color: white;
            opacity: 1;
        }

            .celtra-store-locator3 .cluster-header .title {
                float: left;
            }

            .celtra-store-locator3 .cluster-header h5 {
                float: left;
                width: 100%;
                font-size: 14px;
                padding: 8px 0 0 11px;
                box-sizing: border-box;
                line-height: 20px;
                font-weight: bold;
            }

            .celtra-store-locator3 .cluster-header .instructions {
                float: left;
                width: 100%;
                padding: 0 0 0 11px;
                box-sizing: border-box;
                font-size: 11px;
                line-height: 14px;
                clear: both;
            }

            .celtra-store-locator3 .cluster-header .navigation {
                position: absolute;
                top: 0;
                right: 14px;
                font-size: 18px;
                line-height: 50px;
            }

        .celtra-store-locator3 .infobox-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            box-sizing: border-box;
        }

        .celtra-store-locator3 .infobox-container.cluster .infobox-wrapper,
        .celtra-store-locator3.small .infobox-wrapper,
        .celtra-store-locator3.tiny .infobox-wrapper {
            padding-top: 50px;
        }

            .celtra-store-locator3 .infobox-location {
                float: left;
                position: relative;
                width: 100%;
                height: 100%;
                box-sizing: border-box;
            }

    /* -- Infobox - modifications -------------------------------------------------------------------- */

    .celtra-store-locator3.small .infobox-container,
    .celtra-store-locator3.tiny .infobox-container {
        margin: 0;
    }

    .celtra-store-locator3.wide .infobox-container {
        height: 75px;
    }

    .celtra-store-locator3.wide .infobox-container.cluster {
        height: 125px;
        bottom: -140px;
    }

    .celtra-store-locator3.dark .infobox-container {
        background-color: black;
    }

    /* -- Details ------------------------------------------------------------------------------------ */

    .celtra-store-locator3 .details {
        position: relative;
        width: 100%;
        height: calc(100% - 50px);
        overflow: hidden;
        white-space: nowrap;
        color: black;
        text-align: left;
        padding: 15px 85px 15px 15px;
        box-sizing: border-box;
    }

    .celtra-store-locator3.arabic .details {
        text-align: right;
    }

    .celtra-store-locator3 .infobox-container .details.no-actions {
        height: 100%;
    }

    .celtra-store-locator3 .infobox-container .details:before {
        content: '';
        display: inline-block;
        height: 100%;
        width: 0;
        vertical-align: middle;
    }

    .celtra-store-locator3 .details .center {
        display: inline-block;
        vertical-align: middle;
        width: 100%;
    }

        .celtra-store-locator3 .details h3 {
            font-size: 14px;
            line-height: 20px;
            font-weight: normal;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            cursor: pointer;
        }

        .celtra-store-locator3 .details p {
            font-size: 12px;
            line-height: 17px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

            .celtra-store-locator3 .details p.dimmed,
            .celtra-store-locator3 .details span.dimmed {
                opacity: 0.5;
            }

        .celtra-store-locator3 .details .open,
        .celtra-store-locator3 .details .closed {
            color: #54BF78;
            font-weight: bold;
            opacity: 1;
        }

        .celtra-store-locator3 .details .closed {
            color: #D42238;
        }

        .celtra-store-locator3 .details .directions {
            position: absolute;
            top: 0;
            right: 0;
            width: 70px;
            height: 100%;
            overflow: hidden;
            cursor: pointer;
        }

            .celtra-store-locator3 .details .directions .icon {
                position: relative;
                width: 100%;
                height: 50%;
            }

                .celtra-store-locator3 .details .directions .icon svg {
                    position: absolute;
                    bottom: 0;
                    left: 19px;
                    width: 30px;
                    height: 27px;
                }

            .celtra-store-locator3 .details .directions .distance {
                width: 100%;
                height: 50%;
                padding-top: 19px;
                font-size: 12px;
                line-height: 17px;
                text-align: center;
                box-sizing: border-box;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

    /* -- Details - modifications -------------------------------------------------------------------- */

    .celtra-store-locator3.tiny .infobox-container .details {
        padding: 10px 85px 10px 10px;
    }

    .celtra-store-locator3.wide .details,
    .celtra-store-locator3.wide.tiny .infobox-container .details {
        padding: 10px 285px 10px 10px;
    }

    .celtra-store-locator3.small .list-container .details,
    .celtra-store-locator3.tiny .list-container .details {
        padding: 8px 85px 8px 10px;
        height: 50px;
    }

    .celtra-store-locator3.wide .infobox-container .details {
        height: 100%;
    }

    .celtra-store-locator3.dark .details {
        color: white;
    }

    .celtra-store-locator3.small .list-container .details h3,
    .celtra-store-locator3.tiny .list-container .details h3 {
        line-height: 17px;
    }

    .celtra-store-locator3 .list-container .details .directions .icon,
    .celtra-store-locator3.wide .infobox-container .details .directions .icon,
    .celtra-store-locator3.tiny .infobox-container .details .directions .icon {
        height: 60%;
    }

        .celtra-store-locator3 .list-container .details .directions .icon svg,
        .celtra-store-locator3.wide .infobox-container .details .directions .icon svg,
        .celtra-store-locator3.tiny .infobox-container .details .directions .icon svg {
            bottom: 5px;
        }

    .celtra-store-locator3.wide.small .infobox-container .details .directions .icon,
    .celtra-store-locator3.wide.tiny .infobox-container .details .directions .icon {
        height: 55%;
    }

    .celtra-store-locator3 .list-container .details .directions .distance,
    .celtra-store-locator3.wide .infobox-container .details .directions .distance,
    .celtra-store-locator3.tiny .infobox-container .details .directions .distance {
        height: 40%;
        padding-top: 2px;
    }

    .celtra-store-locator3.wide.small .infobox-container .details .directions .distance,
    .celtra-store-locator3.wide.tiny .infobox-container .details .directions .distance {
        height: 45%;
    }

    .celtra-store-locator3.small .list-container .details .directions .icon,
    .celtra-store-locator3.tiny .list-container .details .directions .icon {
        height: 100%;
    }

        .celtra-store-locator3.small .list-container .details .directions .icon svg,
        .celtra-store-locator3.tiny .list-container .details .directions .icon svg {
            bottom: 11px;
        }

    /* -- Actions ------------------------------------------------------------------------------------ */

    .celtra-store-locator3 .actions {
        list-style: none;
        margin: 0;
        padding: 0;
        width: 100%;
        height: 49px;
        border-top: 1px solid rgba(0,0,0,0.2);
    }

    .celtra-store-locator3 .actions.no-phone.no-website.no-email {
        display: none;
    }

        .celtra-store-locator3 .actions li {
            float: right;
            width: 33%;
            height: 100%;
            cursor: pointer;
        }

            .celtra-store-locator3 .actions.no-phone li,
            .celtra-store-locator3 .actions.no-website li,
            .celtra-store-locator3 .actions.no-email li {
                width: 50%;
            }

            .celtra-store-locator3 .actions.no-phone.no-email li,
            .celtra-store-locator3 .actions.no-phone.no-website li,
            .celtra-store-locator3 .actions.no-email.no-website li {
                width: 100%;
            }

        .celtra-store-locator3 .actions .icon {
            width: 100%;
            height: 100%;
            text-align: center;
        }

            .celtra-store-locator3 .actions .icon svg {
                width: 24px;
                height: 24px;
                margin: 13px 0;
                fill: black;
            }

    /* -- Actions - modifications -------------------------------------------------------------------- */

    .celtra-store-locator3.dark .actions {
        border-top: 1px solid rgba(255,255,255,0.2);
    }

    .celtra-store-locator3.wide .actions {
        width: 210px;
        height: 100%;
        position: absolute;
        top: 0;
        right: 70px;
        border: none;
    }

        .celtra-store-locator3.wide .actions li {
            float: right;
            width: 70px;
            height: 100%;
            overflow: hidden;
            cursor: pointer;
        }

        .celtra-store-locator3.wide .actions.no-phone li,
        .celtra-store-locator3.wide .actions.no-website li,
        .celtra-store-locator3.wide .actions.no-email li,
        .celtra-store-locator3.wide .actions.no-phone.no-email li,
        .celtra-store-locator3.wide .actions.no-phone.no-website li,
        .celtra-store-locator3.wide .actions.no-email.no-website li {
            width: 70px;
        }

            .celtra-store-locator3.wide .actions .label {
                display: block;
                width: 100%;
                font-size: 12px;
                line-height: 17px;
                color: black;
                opacity: 0.5;
                text-align: center;
                box-sizing: border-box;
            }

            .celtra-store-locator3.wide .actions .icon svg {
                width: 32px;
                height: 32px;
                opacity: 0.5;
            }

            .celtra-store-locator3.wide .actions .icon {
                height: 60%;
            }

            .celtra-store-locator3.wide .actions .label {
                height: 40%;
                padding-top: 2px;
            }

            .celtra-store-locator3.wide.small .actions .icon,
            .celtra-store-locator3.wide.tiny .actions .icon {
                position: relative;
                height: 55%;
            }

                .celtra-store-locator3.wide.small .actions .icon svg,
                .celtra-store-locator3.wide.tiny .actions .icon svg {
                    position: absolute;
                    bottom: 0;
                    left: 19px;
                    margin: 0;
                }

            .celtra-store-locator3.wide.small .actions .label,
            .celtra-store-locator3.wide.tiny .actions .label {
                height: 45%;
            }

            .celtra-store-locator3.wide.small .list-container .actions .icon,
            .celtra-store-locator3.wide.tiny .list-container .actions .icon {
                height: 100%;
            }

            .celtra-store-locator3.dark .actions .icon svg {
                fill: white;
            }

            .celtra-store-locator3.small .actions .label,
            .celtra-store-locator3.tiny .actions .label {
                display: none;
            }

            .celtra-store-locator3.wide.small .actions .label,
            .celtra-store-locator3.wide.tiny .actions .label {
                display: block;
            }

            .celtra-store-locator3.wide.dark .actions .label {
                color: white;
            }

</style><script>function inherit(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n=n||setTimeout(function(){n=null,e()},t)}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||"undefined"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return"url('"+e.replace(/'/g,"\\'")+"')"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);t=Math.max(0,t-(""+e).length);return(""+Math.pow(10,t)).slice(1)+e}function htmlentitize(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function removeHtmlTags(e){for(var t,n="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*",r=new RegExp("<(?:!--(?:(?:-*[^->])*--+|-?)|script\\b"+n+">[\\s\\S]*?</script\\s*|style\\b"+n+">[\\s\\S]*?</style\\s*|/?[a-z]"+n+")>","gi");(e=(t=e).replace(r,""))!==t;);return e.replace(/</g,"&lt;")}function trim(e){return e.replace(/^\s+|\s+$/g,"")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return!!(e=String(e).charCodeAt(0))&&(1424<=e&&e<=1535||1536<=e&&e<=1791||1792<=e&&e<=1871||1872<=e&&e<=1919||2144<=e&&e<=2159||2208<=e&&e<=2303||64288<=e&&e<=64335||64336<=e&&e<=65023||65136<=e&&e<=65279||8207===e||8235===e||8238===e)}function isLTRChar(e){return!!(e=String(e).charCodeAt(0))&&(65<=e&&e<=90||97<=e&&e<=122||192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=696||768<=e&&e<=1424||2048<=e&&e<=8191||11264<=e&&e<=64284||65022<=e&&e<=65135||65277<=e&&e<=65535||8206===e||8234===e||8237===e)}function guessWritingDirection(e){for(var t=Math.min(25,e.length),n=0;n<t;n++){var r=e.charAt(n);if(isLTRChar(r))return"ltr";if(isRTLChar(r))return"rtl"}return null}function randInt(){return(Math.random()+"").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(void 0===t[e]){t[e]=!1;try{window.addEventListener("listener-test",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(e){}}return t[e]}function _buildNativeListenerOptions(e){var t;return"object"!=typeof e?!!e:_isListenerOptionSupported("capture")?(t={capture:!!e.capture},_isListenerOptionSupported("passive")&&(t.passive=!!e.passive),t):!!e.capture}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return"y"===e.validAxis?t=r>e.minDistanceForSwipe:"x"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:r<n,isConsideredSwipe:t}}function attach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.addEventListener(t,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(t,n,_buildNativeListenerOptions(r))}function once(t,n,r,o){attach(t,n,function e(){detach(t,n,e,o),r.apply(this,arguments)},o)}function trigger(e,t,n,r){var o=document.createEvent("HTMLEvents"),n=(o.initEvent(t,n,r),"on"+ucfirst(t));return"function"==typeof e[n]&&e[n](),e.dispatchEvent(o)}function fakeclick(t,e){var n=(e=e||window).document.createElement("a"),e=(n.cssText="visibility: hidden",n.addEventListener("click",function(e){t(),e.preventDefault(),e.stopPropagation(),n.parentNode.removeChild(n)},!0),e.document.body.appendChild(n),document.createEvent("MouseEvents"));e.initEvent("click",!0,!0),n.dispatchEvent(e)}function fakeClickAhrefBlank(e,t,n){t=t||noop;var r=(n=n||window).document.createElement("a"),e=(r.style.cssText="visibility: hidden",r.setAttribute("href",e),r.setAttribute("target","_blank"),r.addEventListener("click",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r),n.document.createEvent("MouseEvents"));e.initEvent("click",!0,!0),r.dispatchEvent(e)}!function(a){if(!this.defer){try{for(;void 0!==a.parent.location.href&&a.parent.document!==a.document;)a=a.parent}catch(e){}e="function"==typeof(u=a).setImmediate;var t,n,r,o,i,c,u,e,s=u.MutationObserver?function(e){t=document.createElement("div"),new MutationObserver(function(){e(),t=null}).observe(t,{attributes:!0}),t.setAttribute("i","1")}:!e&&u.postMessage&&!u.importScripts&&u.addEventListener?(o="com.setImmediate"+Math.random(),i=0,c={},u.addEventListener("message",function(e){e.source===u&&0===e.data.indexOf(o)&&(e=e.data.split(":")[1],c[e](),delete c[e])},!1),function(e){var t=9007199254740991===i?0:++i;c[t]=e,u.postMessage(o+":"+t,"*")}):!e&&u.document&&"onreadystatechange"in document.createElement("script")?function(e){(n=document.createElement("script")).onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,e()},document.body.appendChild(n)}:(r=e&&setImmediate||setTimeout,function(e){r(e)});this.defer=function(e,t,n,r){var o,i,t=0|t;n&&(void 0!==defer.perf?i=defer.perf:"undefined"!=typeof creative?i=creative.perf:"undefined"!=typeof perf&&(i=perf),i&&!i._stopTrackingDefers&&(o=i.start("defer",{deferId:n,delay:t}))),e&&(i=function(){o&&o.end(),e()},r?s(i):a.setTimeout(i,t))}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(t){t.getEventNames=function(){var e={};return"WebKitAnimationEvent"in t&&(e.animationstart="webkitAnimationStart",e.animationiteration="webkitAnimationIteration",e.animationend="webkitAnimationEnd"),"WebKitTransitionEvent"in t&&(e.transitionend="webkitTransitionEnd"),e}}(window),_isListenerOptionSupported.opts={};var getTimestamp=void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance);function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement("style");r.textContent=e+" {"+t+"}",(n?n.document:document).getElementsByTagName("head")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement("style");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return(e=e.replace(/\&$/,"").replace(/\+/g,"%20")).split("&").forEach(function(e){e=e.split("=").map(decodeURIComponent);t[e[0]]=e[1]}),t}function buildQuery(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return n.join("&")}function postBlob(e,t){var n=new XMLHttpRequest;n.open("POST",creative.apiUrl+"blobs?base64=1"),n.setRequestHeader("Content-Type","application/octet-stream"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){if(!e)return"";var n;if(-1==e.indexOf("<%"))n=function(){return e};else{var r=e.split(/<%\s*|\s*%>/g),o="var p = []; with(o) {\n",i=!1;r.forEach(function(e){i?"="==e[0]?o+="  p.push("+e.replace(/^=\s*|\s*$/g,"")+");\n":o+="  "+e+"\n":e&&(o+="  p.push('"+e.replace(/'/g,"\\'").split(/\r?\n/g).join("\\n');\n  p.push('")+"');\n"),i=!i}),o+='} return p.join("");';try{n=new Function("o",o)}catch(e){r=new Error("Cannot parse template! (see `template` property)");throw r.template=o,r}}return t?n(t):n}function flash(){var e=document.createElement("div");e.style.background="white",e.style.opacity=.005,e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.width="100%",e.style.height="100%",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){"use strict";for(var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599],n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp("([?|&])"+t+"=.*?(&|$)","i");return separator=-1!==e.indexOf("?")?"&":"?",e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+separator+t+"="+n}function fetchShortenedUrl(r,e,t){t=t||noop;var n,o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;function c(t,n){i[r].forEach(function(e){e[t](n)}),delete i[r]}"http"==!r.slice(0,4)?t():a[r]?defer(function(){e(a[r])},0,"fetchShortenedUrl defer success callback"):(i[r]||(i[r]=[],o=!0),i[r].push({success:e,error:t}),o&&(t=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"shortenedUrls/",o={url:r,fields:"shortUrlKey"},n={cbName:"shortener_"+btoa(to_utf8(r)).replace(/\//g,"$").replace(/\+/g,"_").replace(/=/g,"")},loadJSONP(t+"?"+buildQuery(o),n,function(e){e=creative.shareUrl+e.shortUrlKey;c("success",a[r]=e)},function(){requestCreateShortenedUrl(r,c)})))}function requestCreateShortenedUrl(t,n){var e=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+"shortenedUrls/",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open("POST",e),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onreadystatechange=function(){var e;4===o.readyState&&(201===o.status?(e=JSON.parse(o.responseText),e=creative.shareUrl+e.shortUrlKey,r[t]=e,n("success",e)):n("error"))},o.send(JSON.stringify({url:t}))}function isMediaPlaying(e){try{return 0<e.currentTime&&!e.paused&&!e.ended}catch(e){return!1}}function merge(){for(var e,t={},n=0;n<arguments.length;n+=1)if(null!=(e=arguments[n]))for(var r in e)t[r]=e[r];return t}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return t<e?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){n=clamp(0,1,(n-e)/(t-e));return n*n*n*((6*n-15)*n+10)}function bump(e,t,n){n=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*n)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&void 0!==e.inDapIF&&e.inDapIF;void 0!==n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;void 0===e.top.document&&(t.hostileIframe=!0)}catch(e){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return"function"==typeof e&&-1<e.toString().indexOf("[native code]")}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&"BackCompat"!=e.document.compatMode,r=deviceInfo.os.ios("9",null),o=e.document.documentElement||{};return{width:"win"!==t&&(n||r||"doc"===t)?o.clientWidth:e.innerWidth,height:"win"!==t&&(n||"doc"===t)?o.clientHeight:e.innerHeight,left:e.scrollX||o.scrollLeft||0,top:e.scrollY||o.scrollTop||0}}function safeQuerySelector(e,t){try{return e.querySelector(t)}catch(e){return null}}function safeQuerySelectorAll(e,t){try{return e.querySelectorAll(t)}catch(e){return[]}}function getElementRectRelativeToTopViewport(e){var t=e?CRect.adopt(e.getBoundingClientRect()):CRect.ZERO,n=e.ownerDocument&&e.ownerDocument.defaultView||null;try{for(;n&&n!==n.parent&&void 0!==n.parent.location.href&&n.parent.document!==n.document&&n.frameElement;){var r=CRect.adopt(n.frameElement.getBoundingClientRect());t.left+=r.left,t.top+=r.top,n=n.parent}}catch(e){}return t}Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,"waitForEach",{value:function(o,i,a){var c=this.length;c?this.forEach(function(e,t,n){var r=!1;o.call(a,e,function(){if(r)throw"Called `done` multiple times for element "+t;r=!0,--c||i()},t,n)},a):i()}}),function(i){i.loadJS=function(t,e,n,r){var o=i.loadJS.externals,e={success:e||noop,error:n||noop};if(!/^[A-Za-z0-9]*:\/\/|^\/\//.test(t)){var n=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(void 0===n)return console.warn('Hosted file "'+t+'" was not found.'),void e.error();if(!1!==n.loaded)return console.warn('Hosted file "'+t+'" is already loaded.'),void setTimeout(e.success,0);n.loaded=!0,t=creative.cachedApiUrl+"hostedFiles/"+creative.id+"/"+creative.version+"/"+t}t in o&&!r?o[t].loaded?setTimeout(e.success,0):o[t].cbs.push(e):(o[t]={cbs:[e]},(n=document.createElement("script")).type="text/javascript",n.onload=function(){o[t].loaded=!0,o[t].cbs.forEach(function(e){e.success()}),o[t].cbs=[]},n.onerror=function(){o[t].cbs.forEach(function(e){e.error()}),o[t].cbs=[],delete o[t]},n.src=t,i.loadJS.appendToRoot(n))},i.loadJS.externals={},i.loadJS.appendToRoot=function(e){return document.querySelector("head").appendChild(e)},i.loadJSONP=function(e,t,n,r){"function"==typeof t&&(r=n,n=t,t={});var o=t.cbName||"__jsonp"+randInt();e+=(-1==e.indexOf("?")?"?":"&")+(t.paramName||"jsonp")+"="+o,i[o]=function(e){n(e),delete i[o]},loadJS(e,noop,r,!0)}}(window),void 0===Function.prototype.name&&function(){var t=/^function\s+(\w+?)\s*?\(/;Object.defineProperty(Function.prototype,"name",{get:function(){var e=this.constructor.prototype.toString.call(this);return t.test(e)?e.match(t)[1]:""}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;
function CPoint(t,i){this.x=+t||0,this.y=+i||0}function CRect(t,i,e,o){this.left=+t||0,this.top=+i||0,this.width=+e||0,this.height=+o||0}CPoint.offset=function(t){t=offset(t);return new CPoint(t.left,t.top)},CPoint.convertPointFromNodeToPage=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)+(t?t.x:0),(i?i.y:0)+(t?t.y:0))):null},CPoint.convertPointFromPageToNode=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)-(t?t.x:0),(i?i.y:0)-(t?t.y:0))):null},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;s<n;s++)for(var f=0;f<o;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){var i,e,o;return!!t&&(i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right)-i,t=Math.min(this.bottom,t.bottom)-e,o<0||t<0?CRect.ZERO:new CRect(i,e,o,t))},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return"CRect: "+JSON.stringify(this)};;
function Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||"";var n=noop;(0<=Logger.enabledNames.indexOf(e)||0<=Logger.enabledNames.indexOf("all"))&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+" ["+Logger.sessionId+(this.name?" "+this.name:"")+"]"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){var e=new Date;function n(e,n){for(e+="";e.length<n;)e="0"+e;return e}return e.getFullYear()+"-"+n(e.getMonth()+1,2)+"-"+n(e.getDate(),2)+" "+n(e.getHours(),2)+":"+n(e.getMinutes(),2)+":"+n(e.getSeconds(),2)+"."+n(e.getTime()-1e3*Math.floor(e.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+"").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(","):[],e.sessionId)};;
window.CeltraDeviceInfo={},function(o){function s(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new a(e.deviceType,e.mobileDevice),this.vendor=e.vendor||"",this.model=e.model||"",this.userAgent=n}function t(e,n){this.name=e||"",this.version=n||"0"}function r(e,n,t){this.name=e||"",this.version=n||"0",this.userAgent=t}function i(e,n){this.name=e||"",this.version=n||"0"}function a(e,n){this.hardwareType=e||"",this.mobile=n||""}function h(e,n){var t,r,i;if(!e)return!0;if(0===n.length)i=r=null;else if(1===n.length)r=n[0],i=n[0];else{if(2!==n.length)throw"Invalid number of arguments";r=n[0],i=n[1]}function o(e){return parseInt(e.replace(/\D/g,""),10)}for(e=e.split(".").map(o),r=r?r.split(".").map(o):[],i=i?i.split(".").map(o):[],t=Math.max(r.length,i.length)-e.length;0<=t;t--)e.push(0);function s(e,n){for(var t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}return!(-1===s(e,r)||1===s(e,i))}t.prototype.android=function(){return"Android"===this.name&&h(this.version,arguments)},t.prototype.osx=function(){return"OSX"===this.name&&h(this.version,arguments)},t.prototype.ios=function(){return"IOS"===this.name&&h(this.version,arguments)},t.prototype.windows=function(){return"Windows"===this.name&&h(this.version,arguments)},t.prototype.windowsPhone=function(){return"WindowsPhone"===this.name&&h(this.version,arguments)},t.prototype.linux=function(){return"Linux"===this.name},r.prototype.safari=function(){return"Safari"===this.name&&h(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf("Chrom")&&h(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf("Internet Explorer")&&h(this.version,arguments)},r.prototype.android=function(){return"Android Browser"===this.name&&h(this.version,arguments)},r.prototype.samsung=function(){return"Samsung Browser"===this.name&&h(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf("Opera")&&h(this.version,arguments)},r.prototype.silk=function(){return"Amazon Silk"===this.name&&h(this.version,arguments)},r.prototype.firefox=function(){return 0===this.name.indexOf("Firefox")&&h(this.version,arguments)},r.prototype.edge=function(){return"Edge"===this.name&&h(this.version,arguments)},r.prototype.miui=function(){return"MIUI Browser"===this.name&&h(this.version,arguments)},r.prototype.webView=function(){var e,n,t=null;return"iP"===(o.navigator.platform||"").substr(0,2)?(e=-1!==(e=this.userAgent).indexOf("Safari")&&-1!==e.indexOf("Version"),n=!/constructor/i.test(o.HTMLElement),e&&!o.navigator.standalone?t="iOS Safari or Safari Controller":(n||o.indexedDB)&&o.statusbar.visible?(o.webkit&&o.webkit.messageHandlers||n||o.indexedDB)&&(t="WKWebView"):t="UIWebView"):/^.*\/\d\.\d \(.*wv\).*/.test(this.userAgent)&&(t="AndroidWebView"),t},r.prototype.facebookApp=function(){var e=this.userAgent;return-1<e.indexOf("FBAN")||-1<e.indexOf("FBAV")},i.prototype.webkit=function(){return"WebKit"===this.name&&h(this.version,arguments)},i.prototype.gecko=function(){return"Gecko"===this.name&&h(this.version,arguments)},i.prototype.trident=function(){return"Trident"===this.name&&h(this.version,arguments)},i.prototype.presto=function(){return"Presto"===this.name&&h(this.version,arguments)},i.prototype.blink=function(){return"Blink"===this.name&&h(this.version,arguments)},a.prototype.phone=function(){return"Phone"===this.hardwareType},a.prototype.tablet=function(){return"Tablet"===this.hardwareType},a.prototype.desktop=function(){return"Desktop"===this.hardwareType},a.prototype.mobileDevice=function(){return!0===this.mobile},o.CeltraDeviceInfo.create=function(e,n){var t,r,i;return e=e||o.navigator.userAgent||"",r=n=n||{},-1===(t=e).indexOf("Playstation")&&(i=t.match(/\bSilk\/([0-9._-]+)\b/))&&(r.browserName="Amazon Silk",r.browserVersion=i[1]),r.browserName&&r.browserVersion&&(0===r.browserName.indexOf("Chrome")&&h(r.browserVersion,["28",null])||0===r.browserName.indexOf("Opera")&&h(r.browserVersion,["15",null]))&&(r.browserRenderingEngine="Blink"),r.browserRenderingEngineVersion||(r.browserRenderingEngineVersion=(i=(i=(i=t.match(/Trident\/([0-9.]+)/))||((i=t.match(/Presto\/([0-9.]+)/))||t.match(/AppleWebKit\/*([0-9.]+)/i)))||t.match(/Gecko\/*([0-9.]+)/))?i[1]:""),new s(n,e)}}(window);;
window.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;
!function(e){e.celtra=e.celtra||{};var t={},u=(t.ios=i,t.android=r,t.webkit=function(){var e=n().match(/AppleWebKit\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windowsPhone=o,t.gecko=function(){var e=n().match(/Gecko\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windows=function(){var e=n().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&a(e[1]||e[2],arguments)},t.kindleSilk=function(){var e=n().match(/Silk\/([0-9.]+)/);return!!e&&a(e[1],arguments)},t.kindle=function(){var e=n().toLowerCase();return!!/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)&&a("2",arguments)},t.iframe=function(){return u.top!==e},t.desktop=function(){return!(r()||i()||o())},t.tablet=function(){return/iPad/.test(n())||550<("undefined"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight)))},t.chromeBased=function(){if(!(i()||window.chrome&&"Google Inc."===window.navigator.vendor))return!1;var e;e=i()?n().match(/CriOS\/([0-9]+.)/):n().match(/Chrome\/([0-9]+.)/);return!!e&&a(e[1],arguments)},t.isHighDensityDisplay=function(){return 1<window.devicePixelRatio||window.matchMedia&&window.matchMedia("(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)").matches},extend(e.celtra,t),delete t.webkit,extend(e,t),{max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top}),n=function(){return void 0!==e.userAgentOverride?e.userAgentOverride:u.userAgent};function i(){var e=n().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&a(e[2].replace(/_/g,"."),arguments)}function r(){var e=n().match(/Android ([0-9.]+)/);return!n().match(/Windows Phone/)&&!!e&&a(e[1],arguments)}function o(){var e=n().match(/Windows Phone ([0-9.]+)/);return!!e&&a(e[1],arguments)}function a(e,t){if(!e)return!0;if(0===t.length)r=i=null;else if(1===t.length)i=t[0],r=t[0];else{if(2!==t.length)throw"Invalid number of arguments";i=t[0],r=t[1]}function n(e){return parseInt(e.replace(/\D/g,""),10)}e=e.split(".").map(n);for(var i=i?i.split(".").map(n):[],r=r?r.split(".").map(n):[],o=u.max(i.length,r.length)-e.length;0<=o;o--)e.push(0);function a(e,t){for(var n=0;n<u.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}return!(-1===a(e,i)||1===a(e,r))}}(window);;
!function(n){var e=n.navigator.userAgent,r=function(){var e=n;try{for(;void 0!==e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(e){}return e}(),t=/rv:.*Gecko\//.test(e),i=/MSIE|Trident\//.test(e),o=/WebKit/.test(e),a=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,l={},s=[],f=o?"webkit":i?"ms":t?"Moz":"",u=(e=e.match(/AppleWebKit\/(\d+)/))&&~~e[1]<540,c=["transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","backface-visibility","perspective","perspective-origin"],m=d();function d(){return r.getComputedStyle(r.document.body,null)}function p(e,t,i){if(!e)throw new Error("No element specified!");if(E(t)){if(!(t in e.style)&&p.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+t);if(void 0===i)return e.style[t];e.style[t]=i}else{if(-1==s.indexOf(t)&&y(t),void 0===i)return e.style[l[t]];e.style[l[t]]=i}}function w(e,t){if(!e)throw new Error("No element specified!");var i,e=e.ownerDocument.defaultView.getComputedStyle(e,null);if(u&&-1<c.indexOf(t)&&(t="webkit"+v(t)),!e||"none"==e.display||!(n===r||(i=n.frameElement.ownerDocument.defaultView.getComputedStyle(n.frameElement,null))&&"none"!=i.display))return null;if(t in e||!p.BREAK_ON_ERROR)return E(t)?e[t]:(-1==s.indexOf(t)&&y(t),e[l[t]]);throw new Error("Invalid CSS attribute "+t)}function y(e){m=m||d();var t=f+v(e);if(u&&-1<c.indexOf(e))l[e]=t;else if(m&&e in m)l[e]=e;else if(m&&t in m)l[e]=t;else if(!m&&deviceInfo.browser.firefox)l[e]=e;else if(p.BREAK_ON_ERROR)throw new Error("Invalid CSS attribute "+e+' or iframe still display "none" in FF');s.push(e)}function E(e){return a.test(e)}function v(e){return(e+="")?e[0].toUpperCase()+e.slice(1):""}p.BREAK_ON_ERROR=!1,n.celtra=n.celtra||{},n.celtra.styler={css:p,computedCSS:w,isWebkit:o,isGecko:t,isIE:i},n.css=p,n.computedCSS=w}(window);;
var Freezer={};Freezer.unfreeze=function(n,r,e){var l=[],s={},f=0,d=null;function z(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+"ActionDryRun"]?e[n.method+"ActionDryRun"](o,t,a):a()):e[n.method+"Action"](o,t,a)}var o,t=function n(a){if(a instanceof Array)return a.map(n);if(a instanceof Object){var e,o;if("ActionInvocation"===a.clazz){a.internalId=++f;var i=d,c=function(n,e){if(!n)throw"Cannot execute an action without a context.";e=e||noop;var o=c.isStatic;if(void 0===o&&(o=!c.instance),c.disabled)e();else if(o){if(c.instance)throw"ActionInvocation for a static method must not have an instance assigned.";if("function"!=typeof c.actionClazz[c.method+"Action"])throw"Clazz "+c.actionClazz+' does not define the static action "'+c.method+'".';var t=extend({},c.args,{triggerId:i,caller:a});z(c,c.actionClazz,n,t,e)}else if(c.instance){if(!(c.instance instanceof c.actionClazz))throw"Instance "+c.instance+" is not an instance of clazz "+c.actionClazz;if("function"!=typeof c.instance[c.method+"Action"])throw"Instance of clazz "+c.actionClazz+' does not define the instance action "'+c.method+'".';t=extend({},c.args,{triggerId:i,caller:a}),z(c,c.instance,n,t,e)}else ActionInvocationSimulator.isDryRun()?e():defer(e,0,"Freezer.unfreeze defer c")}}else if(a.clazz){var t=r[a.clazz];if(!t)throw new Error("Unsupported clazz: "+a.clazz);c=Object.create(t.prototype)}else c={},a.onFire&&(d=a.type);for(e in a)a.hasOwnProperty(e)&&"clazz"!==e&&(c[e]=n(a[e]));for(e in l.push(c),c.localId&&(s[c.localId]&&console.error("Duplicate localId: "+c.localId),s[c.localId]=c),c)"clazz"===e.slice(-5).toLowerCase()&&(o=c[e])&&(r[o]?c[e]=r[o]:console.error("Unsupported clazz: "+c.clazz));return c}return a}(n);for(o in l.forEach(function(n){for(var e in n)if("LocalId"===e.slice(-7)){var o=n[e];o instanceof Function||(null===o?i=null:(i=s[o])||console.error("Invalid localId reference: "+o),n[e.slice(0,-7)]=i,delete n[e])}else if("LocalIds"===e.slice(-8)){for(var t=[],a=0;a<n[e].length;a++){var i,c=n[e][a];(i=s[c])||console.error("Invalid localId reference: "+c),t.push(i)}n[e.slice(0,-8)]=t,delete n[e]}}),e)t[o]=e[o];return l.reverse().forEach(function(n){n.awake&&n.awake()}),t};;
function Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,t){var a,r,n,c=this;if("function"!=typeof t)throw"getDataURI callback is not a function";if(-1!==e.indexOf("://"))a=e;else{if("/"===e[0])throw"An absolute path as URL?";a=this._base+e}0===a.indexOf(creative.cachedApiUrl)?(r=a.slice(creative.cachedApiUrl.length),n=!0):0===a.indexOf(creative.insecureCachedApiUrl)&&(r=a.slice(creative.insecureCachedApiUrl.length),n=!1),r?r in this._cache?defer(function(){t(c._cache[r])},0,"Batcher.getDataUri in cache",useAsap()):(this._downloadQueue[r]||(this._downloadQueue[r]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[r].callbacks.push(t),n&&(this._downloadQueue[r].secure=!0),defer(function(){var e,t=[],a=!1;for(e in c._downloadQueue){var r;7992<c._generateBatchUrl(!0,t.concat(e)).length||((r=c._downloadQueue[e]).requested||(r.requested=!0,t.push(e),r.secure&&(a=!0)))}t.length&&(Logger("batcher").log(t.length+" new batchable URLs requested during last runloop iteration ("+(a?"at least one secure":"none secure")+"):\n - "+t.join("\n - ")),c._loadBatch(a,t,function(e){for(var t in e){var a=e[t];!1===a&&(a=(c._downloadQueue[t].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+t),c._cache[t]=a,c._downloadQueue[t].callbacks.forEach(function(e){e(a)}),delete c._downloadQueue[t]}}))},0,"Batcher.getDataUri downloadQueue",useAsap())):defer(function(){t(e)},0,"Batcher.getDataUri url not batchable",useAsap())},Batcher.prototype._generateBatchUrl=function(e,t){return(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"batch?urls="+t.sort().map(encodeURIComponent).join(",")},Batcher.prototype._loadBatch=function(e,t,o){var a,i=this._generateBatchUrl(e,t);isFetchSupported()&&this._protoLoading.blobURIsSupported?fetch(i+"&binary=1").then(function(e){return e.arrayBuffer()}).then(function(e){for(var t={},a=new DataView(e),r=0;r<e.byteLength;){var n=a.getUint32(r),c=(r+=4,JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(r,r+n))))),n=(r+=n,e.slice(r,r+c.bodyLength));r+=c.bodyLength,200===c.code?t[c.path]=URL.createObjectURL(new Blob([n],{type:c.contentType})):(Logger("batcher").warn("Batcher: Could not retrieve URL '"+c.path+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:i,path:c.path,binary:!0}),t[c.path]=!1)}o(t)}):this._protoLoading.dataURIsSupported?loadJSONP(i,{cbName:"__batcher_jsonp_"+Math.abs(function(e){for(var t=5381,a=0;a<e.length;a++)t=(t<<5)+t+(char=e.charCodeAt(a));return t}(i))},function(e){var t,a={};for(t in e){var r=e[t];200===r.code?a[t]=r.data:(Logger("batcher").warn("Batcher: Could not retrieve URL '"+t+"' using batcher, returning it directly."),creative.track({name:"batcherError",url:i,path:t,binary:!1}),a[t]=!1)}o(a)}):(a=t.reduce(function(e,t){return e[t]=!1,e},{}),defer(function(){o(a)},0,"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly."))};;
function EngagementTracker(e,t){var i,c,u=15,l=150,d=1e3,s=15,p=s+5,v={capture:!0,passive:!0},m=e,f=t,n=t.adapter,o=n.trackingCenter,h=t.units,g=!1,I=null,w=!0,b={},L=0,T=null,j=Date.now(),M=0,y=0,E=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;function a(e){var t,n,o,a,r;g||(t=D(e.target))&&(g=!0,n=randInt(),o=m.getBoundingClientRect(),a=t.node.getBoundingClientRect(),r=m.parentNode.getBoundingClientRect(),i=Math.round(o.left-r.left),c=Math.round(o.top-r.top),f.setUniversalInteractionId(n),"touchstart"===e.type?(w=!0,M=e.targetTouches[0].pageX,y=e.targetTouches[0].pageY,m.addEventListener("touchmove",U,v),m.addEventListener("touchend",P,v)):"mousedown"===e.type&&(w=!1,M=e.clientX,y=e.clientY,m.addEventListener("mousemove",U,v),m.addEventListener("mouseup",P,v)),deviceInfo.deviceType.desktop()&&m.addEventListener("mouseout",C,v),j=T=Date.now(),L=0,(b=function(e,t){var n=null,o=null,a=null,r=!1;t instanceof Screen?(o=null,a=(n=t).parentUnitVariant,r=!0):"undefined"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):"undefined"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(a=t,r=!(o=n=null));if(r)return extend({unitName:(a||n).parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date/1e3},e);return e}(b={name:"universalInteraction",universalInteractionId:n,unitSize:{w:m.offsetWidth,h:m.offsetHeight},objectSize:t?{t:Math.round(a.top-o.top),l:Math.round(a.left-o.left),w:Math.round(a.width),h:Math.round(a.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-i),y:Math.round(t-c),clientTimestamp:n,objectLocalId:o?o.localId:null})}},t)).addPoint(M,y,j/1e3,t))}function U(e){var t,n,o,a,r;g&&(I&&(E.clearTimeout(I),I=null),"touchmove"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):"mousemove"===e.type&&(t=e.clientX,n=e.clientY),L+=(e=t-M,o=n-y,Math.sqrt(e*e+o*o)),M=t,y=n,o=(e=Date.now())-j,a=Math.pow(b.path.length/(.5*s),6),r=Math.pow((e-T)/d,6),b.path.length<p&&(u+a*u<L||l+r*l<o)&&(b.addPoint(t,n,e/1e3,D(document.elementFromPoint(t,n))),j=e,L=0))}function C(e){var t=Date.now();I=E.setTimeout(function(){P(0,t)},200)}function P(e,t){g&&(g=!1,t=t||Date.now(),b.addPoint(M,y,t/1e3,D(document.elementFromPoint(M,y))),o.track(b),n.sendUserInteractionToPreview&&n.sendUserInteractionToPreview(),w?(m.removeEventListener("touchmove",U,v),m.removeEventListener("touchend",P,v)):(m.removeEventListener("mousemove",U,v),m.removeEventListener("mouseup",P,v)),deviceInfo.deviceType.desktop()&&m.removeEventListener("mouseout",C,v))}function D(e){if(e)for(var a,r,t=e;;){if(t.id&&0==t.id.indexOf("celtra-")){r=t.id.replace("celtra-",""),0==t.id.indexOf("celtra-object-")&&(a=t.id.replace("celtra-object-",""));var n=function e(t){for(var n in t)if(t.hasOwnProperty(n)){if(t[n].name&&t[n].name==r)return t[n];if(t[n].localId&&t[n].localId==a)return t[n];var o;if(t[n].variants?o=e(t[n].variants):t[n].screens?o=e(t[n].screens):t[n].objects?o=e(t[n].objects):t[n].content&&t[n].content.objects?o=e(t[n].content.objects):t[n].component&&(o=t[n].component),o)return o}}(h);if(n)return"undefined"!=typeof CreativeUnit&&n instanceof CreativeUnit?n.currentScreen:n}if(!t.parentNode)break;t=t.parentNode}return null}attach(m,"touchstart",a,v),attach(m,"mousedown",a,v)};
function Tapper(T,m){var C="undefined"!=typeof creative&&creative.adapter||adapter;function w(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,"touchable")||"a"===n&&e.href||"button"===n||"img"===n||"input"===n&&e.type&&"button"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function k(t,e){t=t.ownerDocument.createEvent("MouseEvents");t.initEvent("tap",!0,!0),e.dispatchEvent(t)}(m=m||C.useNativeClickForTapDetection)&&(attach(T,"click",function(t){t=w(t.target);t&&k(T,t)},!C.nativeClickEmittedOnSwipe),C.useNativeClickForTapDetection)||attach(T,"touchstart",function(t){var a,n,c,o,r,i,u,h,s,d,l,v,p,e,f,g=w(t.target);g&&(c=!1,celtra.iframe()&&(n=(a=function(){var t=C.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]})(),c=!0),o=t.targetTouches[0].clientX-10,r=t.targetTouches[0].clientX+10,i=t.targetTouches[0].clientY-10,u=t.targetTouches[0].clientY+10,addClass(g,"touched"),l=d=s=h=!1,v=new Date,p=function(t){var e;h||s||(e=t.targetTouches[0].clientX,t=t.targetTouches[0].clientY,h=c&&n.toString()!=a().toString(),((s=!(o<=e&&e<=r&&i<=t&&t<=u))||h?removeClass:addClass)(g,"touched"))},e=function(t){var e;l||(l=!0,detach(T,"touchmove",p,!1),detach(T,"touchend",arguments.callee,!1),hasClass(g,"touched")&&(e=200<new Date-v&&!deviceInfo.deviceType.desktop(),removeClass(g,"touched"),s||h||d||e||m||k(T,g)))},f=function(){detach(T,"touchend",f,!0),nextFrame(function(){d=!0,e()})},attach(T,"touchcancel",function(t){removeClass(g,"touched"),e(t)},!1),attach(T,"touchmove",p,!1),attach(T,"touchend",e,!1),attach(T,"touchend",f,!0))},!0)};
function TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument||t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){this._initialised?"function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator already initialised!"):("function"==typeof Logger&&Logger("TouchEventSimulator").log("Enabling touch event simulation"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener("touchstart",this.captureBubbleEvents,!1),this.el.addEventListener("touchmove",this.captureBubbleEvents,!1),this.el.addEventListener("touchend",this.captureBubbleEvents,!1),this.el.addEventListener("touchcancel",this.captureBubbleEvents,!1),this.el.addEventListener("tap",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){this._initialised?("function"==typeof Logger&&Logger("TouchEventSimulator").log("Disabling touch event simulation"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener("touchstart",this.captureBubbleEvents,!1),this.el.removeEventListener("touchmove",this.captureBubbleEvents,!1),this.el.removeEventListener("touchend",this.captureBubbleEvents,!1),this.el.removeEventListener("touchcancel",this.captureBubbleEvents,!1),this.el.removeEventListener("tap",this.captureBubbleEvents,!1)):"function"==typeof Logger&&Logger("TouchEventSimulator").warn("Touch event simulator not running!")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener("mousedown",this.handleMouseDown,!0),this.el.addEventListener("mousemove",this.handleMouseMove,!0),this.el.addEventListener("mouseup",this.handleMouseUp,!0),this.el.addEventListener("mouseout",this.handleMouseOut,!0),this.el.addEventListener("dragstart",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener("mousedown",this.handleMouseDown,!0),this.el.removeEventListener("mousemove",this.handleMouseMove,!0),this.el.removeEventListener("mouseup",this.handleMouseUp,!0),this.el.removeEventListener("mouseout",this.handleMouseOut,!0),this.el.removeEventListener("dragstart",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.addEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.addEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.addEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener("MSPointerDown",this.handlePointerDown,!0),this.el.removeEventListener("MSPointerMove",this.handlePointerMove,!0),this.el.removeEventListener("MSPointerUp",this.handlePointerUp,!0),this.el.removeEventListener("MSPointerCancel",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener("touchstart",this.handleFirstEvent,!0),this.el.addEventListener("mousedown",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=["select","input","textarea"],TouchEventSimulator.prototype.isFormElement=function(t){return-1<this.ignorables.indexOf(t.nodeName.toLowerCase())},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,"ignore-toucheventsimulator"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener("touchstart",this.handleFirstEvent,!0),this.el.removeEventListener("mousedown",this.handleFirstEvent,!0),"touch"!=TouchEventSimulator.mode&&"mousedown"==t.type?(TouchEventSimulator.mode="mouse",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode="touch")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent("touchend",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent("touchstart",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchmove",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchend",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent("touchcancel",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent("HTMLEvents");n.initEvent(t,!0,!0),"touchend"==t||"touchcancel"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent("touchcancel",this.touch),this.touch=null)};;
function SwipeListener(t){var a,n,c,h,e=t.target,o=t.swipeNodeGetter,i=t.swipe,u=t.minLength||50,r=Object.create(ClickPreventer).initClickPrevention(function(){return e});function s(t,e){return Math.abs(t)>Math.abs(e)?0<t?"east":"west":0<e?"south":"north"}function d(){detach(o(),"touchmove",l,!1),detach(o(),"touchend",g,!1)}function l(t){var e;1<t.touches.length?d():(e=t.changedTouches[0].pageX-a,t=t.changedTouches[0].pageY-n,(h=Math.max(Math.abs(e),Math.abs(t)))>Math.min(50,u)&&(null===c?c=s(e,t):(e=s(e,t),c!=e&&d())))}function g(t){d(),u<=h&&(i(c,h),r.attachClickPreventionHandler())}attach(window,"touchstart",noop,!1),attach(e,"touchstart",function(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(a=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY,h=0,c=null,attach(o(),"touchmove",l,!1),attach(o(),"touchend",g,!1),r.detachClickPreventionHandler())},!1)};
var ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,"click",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;
function PlaceboBar(i,n,r,e){var t=!1,l=document.createElement("div"),a=(l.className="celtra-placebobar",l.style.cssText="position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;",document.createElement("img")),a=(a.src=creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-back.png",a.style.position="absolute",a.style.width="100%",a.style.height="100%",l.appendChild(a),document.createElement("div")),o=(a.style.position="absolute",a.style.top="2px",a.style.bottom="2px",a.style.left="3px",a.style.right="3px",l.appendChild(a),document.createElement("div"));return o.style.background="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/loading-over.png) "+e+" repeat-x",o.style.position="absolute",o.style.width="0",o.style.height="100%",a.appendChild(o),l.start=function(){var a;t||(t=!0,a=new Date,setTimeout(function e(){if(!l.parentNode)return;var t=Math.min((new Date-a)/i,n);o.style.width=100*t+"%";t<n&&setTimeout(e,2*r*Math.random())},0))},l};
var EventEmitter={emit:function(e){var t,n=this._listeners;n&&n[e]&&(t=[].slice.call(arguments,1),n[e].forEach(function(e){if("undefined"!=typeof window)e.apply(window,t);else{if("undefined"==typeof self)throw"EventEmitter not supported in current scope.";e.apply(self,t)}}))},emits:function(e){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(e,t){var n=this._listeners;(n=n||(this._listeners={}))[e]||(n[e]=[]),n[e].push(t)},removeListener:function(e,t){var n=this._listeners;n&&n[e]&&(n[e]=n[e].filter(function(e){return e!==t}))},once:function(t,n){var i=this;i.on(t,function e(){i.off(t,e),n.apply(this,arguments)})},onAll:function(e,t){e.split(" ").waitForEach(function(e,t){this.once(e,t)},t,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,"undefined"!=typeof module&&null!==module&&(module.exports=EventEmitter);;
function InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),t=t.intersect(e),i=!1,e=(this.rectInView.equals(t)||(this.rectInView=t,i=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims()),0<this._maxPossibleDimensions.area?t.area/this._maxPossibleDimensions.area:0),n=!1;e!==this.areaInViewRatio&&(this.areaInViewRatio=e,n=!0),i&&(this.emit("rectInViewChanged",t),Logger("InViewObject").debug(this.view.toString()+", rectInViewChanged: "+this.rectInView.toString())),n&&(this.emit("areaInViewRatioChanged",e),Logger("InViewObject").debug(this.view.toString()+", areaInViewRatioChanged: "+e))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on("rectInViewChanged",this.computeRectInView),this.inViewParent.on("areaInViewRatioChanged",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off("rectInViewChanged",this.computeRectInView),this.inViewParent.off("areaInViewRatioChanged",this.computeRectInView)};;
function TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var n=this,e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return{run:function(t){e.waitForEach(function(t,e){n.hub.once(t,e)},t)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;
function DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(e,o){return this._actions.some(function(t){var n=e==t.method,t=!o||o==t.instance;return n&&t})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;
var ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;
var TriggerHost={_getTriggers:function(i,t){return t=t||retTrue,this.triggers.filter(function(r){return r.type==i&&t(r.parameters,r)})},_fireArrayOfTriggers:function(r,i,t){i=i||noop,t=t||new ActionContext(this),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return 0<this._getTriggers(r,i).length},fireTriggersDryRun:function(r,i,t,e){try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{r=ActionInvocationSimulator.endDryRun()}return r},fireTriggers:function(r,i,t,e){r=this._getTriggers(r,i);this._fireArrayOfTriggers(r,t,e)},fireSortedTriggers:function(r,i,t,e,n){r=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(r.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});0<e.length&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){i=i.event?[i.event]:[];this._fireArrayOfTriggers(i,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;
var SceneHost={_initImmediatelyPlayedScenes:function(){var e;this.immediatelyPlayedScenes&&(e=[],this instanceof Screen?(e=this.immediatelyPlayedScenes.appear.scenes,this.appearedAtLeastOnce||(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))):e=this.immediatelyPlayedScenes.conditionMet.scenes,e.forEach(function(e){e.renderFirstFrame()}))}};;
function ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,"object"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error("Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!("undefined"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error("Initiator ("+e+") is not a Screen or a ScreenObject. Analytics would be confused.");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration&&(t=function(){this.inUserInitiatedIteration=!1}.bind(this),defer(t),nextFrame(t)),this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error("Parent unit missing name.")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:(this.unitVariant||this.screen).parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.initiatedBeforeScreenShown=function(){return this.screen&&!this._isAttributable},ActionContext.prototype.track=function(e,t){this.initiatedBeforeScreenShown()&&console.warn('Event "'+e.name+'" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){var e;creative.getUserInteracted()?creative.interactionTrackingTimeout||(this.track({name:"interaction"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3)):(creative.runtimeParams.userInteracted=1,creative.experiments.get("TrackViewableAreaChange")&&(e=creative.adapter).canMeasureViewportPlacementGeometry&&"function"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio(),this.track({name:"firstInteraction"})),defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e=e||noop,creative.runtimeParams.clickedThrough?this.track({name:"clickThrough"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:"firstClickThrough"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;
function VideoContext(e,t,i){VideoContext.uberConstructor.call(this,e instanceof ActionContext?e.initiator:e,e&&e.userInitiated),this.file=t,this.url=t.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=["videoDurationUpdate","videoPlayAttempted","videoPresetSelected","videoPlayedSegment","videoStart","videoFirstQuartile","videoMidpoint","videoThirdQuartile","videoComplete"],VideoContext.prototype.registerSource=function(e){if(!e)throw"Not a valid source of video events.";this.source=e,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(e,t){this.track(extend(JSON.parse(JSON.stringify(t||{})),{name:e}))},VideoContext.prototype.track=function(e){var t;"videoPlayAttempted"==e.name&&(t=this.file.url?"URL":"File",extend(e,{sourceType:t,source:"URL"==t?this.file.url:this.file.blobHash,label:this.label})),VideoContext.uber.track.call(this,e)};;
function ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){"granted"==i?this.topWindow.addEventListener("devicemotion",this.handleMotion):this.emit("shakeFallback")}.bind(this)).catch(function(i){console.warn(i.message+". Triggering fallback behaviour"),this.emit("shakeFallback")}.bind(this)):this.topWindow.addEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener("devicemotion",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){var e,t,n,s,h;this.canListen&&(this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift(),i={x:(i=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}})).x/this.signals.length,y:i.y/this.signals.length,z:i.z/this.signals.length},this.prevSignal&&(e=null,h=Math.abs(i.x-this.prevSignal.x),s=Math.abs(i.y-this.prevSignal.y),t=Math.abs(i.z-this.prevSignal.z),90===Math.abs(creative.adapter.orientation)&&(n=s,s=h,h=n),s<h&&t<h&&h>this.shakeThreshold?e="x":h<s&&t<s&&s>this.shakeThreshold?e="y":h<t&&s<t&&t>this.shakeThreshold&&(e="z"),(h>this.shakeThreshold||s>this.shakeThreshold||t>this.shakeThreshold)&&this.emit("shake",e)),this.prevSignal=i)};;
!function(){"use strict";t=window.navigator.userAgent,e=window.navigator.vendor,i=!!document.fonts;var t,e,i,r=/Apple/.test(e)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(t))?i&&603<parseInt(e[1],10):i:(e=/Gecko.*Firefox\/(\d+)/.exec(t))?i&&46<parseInt(e[1],10):i,o=["Droid Sans"];function l(t){var e=t.family.replace(/ /g,"+"),i=(i=t.style,"italic"===String(i).toLowerCase()?"italic":"");t=t.weight;t=(void 0===(t=/normal|bold|([1-9])00/i.exec(t))?"":"normal"===(t=t[0])?"400":"bold"===t?"700":t)+i;return 0<t.length?e+":"+t:e}function h(t,e,i){var o,n;r?(o=t.style+" "+t.weight+' 300px "'+t.getBrowserCompatibleFontFamily()+'"',n=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():" ",document.fonts.load(o,n).then(function(t){(1<=t.length?e:i)()},function(t){i()})):"undefined"==typeof FontLoader?i("Font Loader is not initialized."):FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}function f(t,e,i,o){var n,s=[].slice.apply(document.getElementsByTagName("link")).filter(function(t){return t.href===e})[0];s||((s=document.createElement("link")).setAttribute("rel","stylesheet"),s.setAttribute("media","all"),s.setAttribute("href",e)),r?(n=function(){s._finished=!0,h(t,i,o)},s._finished?h(t,i,o):(s.addEventListener("load",n),s.addEventListener("error",n))):setTimeout(function(){h(t,i,o)},0),s.parentNode||document.getElementsByTagName("head")[0].appendChild(s)}function n(t){for(var e in t)this[e]=t[e]}n.prototype.getId=function(){return this.typefaceId||this.id},n.prototype.getSubsetString=function(){return this.subset},n.prototype.getTrackingUrl=function(){return this.trackingUrl},n.prototype.getUnicodeRange=function(){return this.unicodes},n.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?" "+this.stretch:"")+" "+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=" "+encodeURIComponent(this.getSubsetString())),25<t.length){for(var e=5381,i=0,o=t.length;i<o;i++)e=(e<<5)+e+t.charCodeAt(i);return e.toString()}return t},n.prototype.setBaseUrl=function(t){this.baseUrl=t},n.prototype.isAdobe=function(){return"adobe"===this.provider},n.prototype.isCustom=function(){return"custom"===this.provider},n.prototype.isGoogle=function(){return"google"===this.provider},n.prototype.isMonotype=function(){return"monotype"===this.provider},n.prototype.isSystem=function(){return"system"===this.provider},n.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return"string"==typeof t&&0<t.length},n.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return"string"==typeof t&&0<t.length},n.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return"string"==typeof t&&0<t.length},n.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},n.prototype.useGoogleFontsAPI=function(){return"google"===this.provider&&-1!==o.indexOf(this.family)},n.prototype.getCssProperties=function(){return{"font-family":this.needsLoading()?'"'+this.getBrowserCompatibleFontFamily()+'", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),"font-style":this.style,"font-weight":this.weight}},n.prototype.getFileUrl=function(t){if("string"==typeof this.baseUrl){var e=this.hasSubsetStringDefined();if(this.isGoogle())var i=l(this),i=this.baseUrl+"google/"+i+"/3_webfont."+t;else if(void 0!==this.files&&void 0!==this.files[t]){var o=this.getId();if("string"!=typeof o)return this.baseUrl+this.files[t]+"."+t;var n=this.files[t].blobHash,s=this.files[t].name||"webfont",n=e?"3_"+n:n;i=this.baseUrl+o+"/"+n+"/"+encodeURIComponent(s)+"."+t}return"string"==typeof i&&e&&(i+="?subset="+encodeURIComponent(this.getSubsetString())),i}},n.prototype.generateFontFace=function(){var t="",e=[],i=this.getFileUrl("woff2"),i=(i&&e.push('url("'+i+'") format("woff2")'),this.getFileUrl("woff")),i=(i&&e.push('url("'+i+'") format("woff")'),this.getFileUrl("ttf"));return i&&e.push('url("'+i+'") format("truetype")'),this.style&&this.weight&&0<e.length&&(t="@font-face {",t=(t=(t=(t+='font-family: "'+this.getBrowserCompatibleFontFamily()+'";')+"font-style: "+this.style+";")+"font-weight: "+this.weight+";")+"src:"+e.join(",")+";",this.hasUnicodeRangeDefined()&&(t+="unicode-range: "+this.getUnicodeRange()+";"),t+="}"),t},n.prototype.loadStyle=function(e){e=e||function(){};function t(t){e(t||"Failed to load font files.")}var i,o,n,s,r,a;this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype()?(o=this,n=e,s=t,r="font-style-manager",(a=document.getElementById(r))||((a=document.createElement("style")).id=r,document.getElementsByTagName("head")[0].appendChild(a)),(r=o.generateFontFace())?([].slice.apply(a.sheet.cssRules).some(function(t){return t.style.getPropertyValue("font-family").replace(/^['"](.+)['"]$/,"$1")==o.getBrowserCompatibleFontFamily()&&t.style.getPropertyValue("font-style")==o.style&&t.style.getPropertyValue("font-weight")==o.weight})||a.sheet.insertRule(r,a.sheet.cssRules.length),h(o,n,s)):s("Unable to define style for font without specifying files, style and weight.")):this.isAdobe()?"string"==typeof this.projectId?f(this,i="https://use.typekit.net/"+this.projectId+".css",e,t):t("Missing Adobe web project id."):this.useGoogleFontsAPI()?(i="https://fonts.googleapis.com/css?family="+l(this),this.hasSubsetStringDefined()&&(i+="&text="+encodeURIComponent(this.getSubsetString())),f(this,i,e,t)):this.isSystem()?e():t("Invalid or unsupported provider.")},Object.defineProperty(n,"useCSSFontLoadingAPI",{value:r}),window.FontBase=n}();;
var ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display="none",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display="block",s.style.display="block",e.style.display="none",once(t,"transitionend",function(){celtra.styler.css(r,"transition",""),celtra.styler.css(t,"transition",""),t.style.display="none",nextFrame(a||noop)}),nextFrame(function(){celtra.styler.css(t,"transition","opacity "+i.duration+"ms ease-out"),celtra.styler.css(r,"transition","opacity "+i.duration+"ms ease-out"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"};switch(i.direction||"west"){case"north":n.startingFrom="translateY(0)",n.endingFrom="translateY("+-i.unitSize.height+"px)",n.startingTo="translateY("+i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"south":n.startingFrom="translateY(0)",n.endingFrom="translateY("+i.unitSize.height+"px)",n.startingTo="translateY("+-i.unitSize.height+"px)",n.endingTo="translateY(0)";break;case"east":n.startingFrom="translateX(0)",n.endingFrom="translateX("+i.unitSize.width+"px)",n.startingTo="translateX("+-i.unitSize.width+"px)",n.endingTo="translateX(0)";break;case"west":n.startingFrom="translateX(0)",n.endingFrom="translateX("+-i.unitSize.width+"px)",n.startingTo="translateX("+i.unitSize.width+"px)",n.endingTo="translateX(0)"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(180deg)",n.startingTo=o+"rotateX(-180deg)",n.endingTo=o+"rotateX(0)";break;case"south":n.startingFrom=o+"rotateX(0)",n.endingFrom=o+"rotateX(-180deg)",n.startingTo=o+"rotateX(180deg)",n.endingTo=o+"rotateX(0)";break;case"east":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(180deg)",n.startingTo=o+"rotateY(-180deg)",n.endingTo=o+"rotateY(0)";break;case"west":n.startingFrom=o+"rotateY(0)",n.endingFrom=o+"rotateY(-180deg)",n.startingTo=o+"rotateY(180deg)",n.endingTo=o+"rotateY(0)"}celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),celtra.styler.css(t,"transformOrigin","50% 50% 0"),celtra.styler.css(e,"transformOrigin","50% 50% 0"),celtra.styler.css(r,"transformOrigin","50% 50% 0"),celtra.styler.css(s,"transformOrigin","50% 50% 0"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:"all "+i.duration+"ms ease-out"},o="perspective("+2*i.unitSize.width+"px) ";switch(i.direction||"west"){case"north":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"south":n.startingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.height/2+"px) rotateX(0)     ";break;case"east":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ";break;case"west":n.startingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     ",n.endingFrom=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(-90deg)",n.startingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(90deg) ",n.endingTo=o+"translateZ("+-i.unitSize.width/2+"px) rotateY(0)     "}deviceInfo.browser.chrome()&&(n.startingFrom+=" rotateZ(0.01deg)",n.startingTo+=" rotateZ(0.01deg)");var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,"transformStyle","preserve-3d"),t.style.overflow=e.style.overflow="hidden",r.style.overflow=s.style.overflow="hidden",celtra.styler.css(t,"backfaceVisibility","hidden"),celtra.styler.css(e,"backfaceVisibility","hidden"),celtra.styler.css(r,"backfaceVisibility","hidden"),celtra.styler.css(s,"backfaceVisibility","hidden"),i.direction||"west"){case"north":case"south":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.height/2+"px");break;case"east":case"west":celtra.styler.css(t,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(e,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(r,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px"),celtra.styler.css(s,"transformOrigin","50% 50% "+-i.unitSize.width/2+"px")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,"transformStyle",""),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,"transformOrigin",""),celtra.styler.css(e,"transformOrigin",""),celtra.styler.css(r,"transformOrigin",""),celtra.styler.css(s,"transformOrigin",""),celtra.styler.css(t,"backfaceVisibility",""),celtra.styler.css(e,"backfaceVisibility",""),celtra.styler.css(r,"backfaceVisibility",""),celtra.styler.css(s,"backfaceVisibility",""),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){celtra.styler.css(t,"transform",i.startingFrom),celtra.styler.css(e,"transform",i.startingFrom),celtra.styler.css(r,"transform",i.startingTo),celtra.styler.css(s,"transform",i.startingTo),t.style.opacity=e.style.opacity=void 0===i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.startingToOpacity?1:i.startingToOpacity;var o=!(r.style.display=s.style.display="block"),l=this._runOnce(function(){o||(o=!0,celtra.styler.css(r,"transition",""),celtra.styler.css(s,"transition",""),celtra.styler.css(t,"transition",""),celtra.styler.css(e,"transition",""),celtra.styler.css(r,"transform",""),celtra.styler.css(s,"transform",""),celtra.styler.css(t,"transform",""),celtra.styler.css(e,"transform",""),t.style.display=e.style.display="none",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity="",nextFrame(n||noop))});once(r,"transitionend",l),setTimeout(function(){celtra.styler.css(r,"transition",i.transition),celtra.styler.css(t,"transition",i.transition),celtra.styler.css(s,"transition",i.transition),celtra.styler.css(e,"transition",i.transition),nextFrame(function(){o||(celtra.styler.css(t,"transform",i.endingFrom),celtra.styler.css(e,"transform",i.endingFrom),celtra.styler.css(r,"transform",i.endingTo),celtra.styler.css(s,"transform",i.endingTo),t.style.opacity=e.style.opacity=void 0===i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(l,a+150)},20)},run:function(t,e,r,s,i,a){var n=this._getSupportedAnimation(i.animation||"replace");if(!(n in this))throw new Error("The transition function does not exist!");this[n].apply(this,arguments)},_getSupportedAnimation:function(t){return!android("4")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||"cube"!==t&&"flip"!==t?t:"fade"},_runOnce:function(t){var e=!1;return function(){if(!e)return e=!0,t()}}};;
var ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(this.isAppearing){var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(e.loaded){var s=this.currentScreen;if(n=n||{},this.goingToScreen)return r();(this.goingToScreen=e).triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this))}else e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this))}else this.once("appeared",function(){this.goToScreen.apply(this,i)}.bind(this))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();var i,r,s,o,a=(this.visibleScreen=e)===this.loadingScreen;a&&e.loaded?this._screenTransition(e.getNode(),null,n,t):e.loaded&&this.master.loaded?(this.loadingScreen&&(this.loadingScreen.getNode().style.display="none"),this._screenTransition(e.getNode(),this.master.getNode(),n,t)):(Logger("unit").warn("Screens should be loaded but were not"),s=function(){--o||this._screenTransition(i,r,n,t)},o=a?(i=this.loadingScreen.getNode(s.bind(this)),r=null,1):(i=e.getNode(s.bind(this)),r=this.master.getNode(s.bind(this)),2))},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}var s;e.style.display="none",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display="block",n.style.display="none"),null!=this.currentScreen?(t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display="block",this._masterClone.display="none",i()}.bind(this))):(n&&(n.style.display="block",this._masterClone.style.display="none"),s=!(e.style.display="block"),nextFrame(r),defer(r))},_preloadReachableScreens:function(){setTimeout(function(){var i=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var e=n.split("/"),t=creative.experiments.get(e[0],e.slice(1));null!=t&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(e){e!=t.chosenVariant&&(i=i.concat(this.currentScreen.dynamicReachableScreenConditions[n][e]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(e){-1==i.indexOf(e.localId.toString())&&e.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display="none",this._masterClone.style.zIndex=-1,this._masterClone}};;
function AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(e){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(e){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(e){throw new Error("AdViewableInViewObjectObserver.readyToShow not implemented!")},AdViewableTimeObserver.prototype.registerUnit=function(e){throw new Error("AdViewableInViewObjectObserver.registerUnit not implemented!")},AdViewableTimeObserver.prototype.registerAdapter=function(e){throw new Error("AdViewableTimeObserver.registerAdapter not implemented!")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var r=e.inView,e=this._inViewObjects,a=this._viewableInViewObjects,n=this._tracker;-1===e.indexOf(r)&&(e.push(r),!(-1!==a.indexOf(r))&&0<r.getAreaInViewRatio()&&a.push(r),this._tryStartTracker(),r.on("areaInViewRatioChanged",function(e){var t=a.indexOf(r),i=-1!==t;!i&&0<e?(a.push(r),this._tryStartTracker()):0===e&&i&&(a.splice(t,1),0===a.length&&n.stop())}.bind(this)))},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,e=e&&e.mediaState.playingVideo;return!(!this._readyToShow||!(0<this._viewableInViewObjects.length||e))&&(this._tracker.start(),!0)},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on("containerViewableChange",function(e){(this._containerIsViewable=e)?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on("videoStarted",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on("videoStopped",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(t){if(!this._adapter)throw new Error("adapter was not registered yet!");var e=this._units,i=this._viewableUnits,r=this._tracker;-1===e.indexOf(t)&&(e.push(t),-1===i.indexOf(t)&&t._visible&&(i.push(t),this._tryStartTracker()),t.on("appeared",function(){-1===i.indexOf(t)&&(i.push(t),this._tryStartTracker())}.bind(this)),t.on("disappeared",function(){var e=i.indexOf(t);-1!==e&&(i.splice(e,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return!!(e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&0<this._viewableUnits.length)&&(this._tracker.start(),!0)};;
function AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName="viewableTime",AdViewableTimeTracker.TrackingData=function(i,e){return{name:AdViewableTimeTracker.eventName,from:i/1e3,to:(e=e<i?i:e)/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){var i,e;this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()&&(e=(i=Date.now())-this._fromTime,this._viewableMilliseconds+=e,e=new AdViewableTimeTracker.TrackingData(this._fromTime,i),this._track(e)),this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){this._clearPendingPing();var t=this._getPingInterval();this._isRunning&&-1!==t&&(this._pendingPingTimeoutId=this._win.setTimeout(function(){var e;this._isRunning&&(e=Date.now(),this._viewableMilliseconds+=t,this._normalizeFromTime(e,t),this._pendingPingRafId=this._raf.nextFrame(function(){var i=new AdViewableTimeTracker.TrackingData(this._fromTime,e);this._track(i),this._setFromTimeForNextPing(e,t),this._setNextPing()}.bind(this)))}.bind(this),t))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime;e+this._maxRafLatency<t&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now();this._fromTime=e<t-i?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var e=this._viewableMilliseconds,t=this._intervals,i=Object.keys(this._intervals),n=+i[i.length-1],r=-1;return i.some(function(i){return e<+i&&(r=t[i],n<e+r&&(r=-1),!0)}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;
!function(t){var i=e.prototype;function e(){this.playingVideo=!1}extend(i,EventEmitter),i.stopVideo=function(){this.playingVideo=!1,this.emit("videoStopped")},i.startVideo=function(){this.playingVideo=!0,this.emit("videoStarted")},t.MediaState=e}(window);;
function StateObject(e){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(e).forEach(function(t){this.registerValue(t,e[t])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(r,t){this.values[r]={dirty:!1,value:t},Object.defineProperty(this,r,{get:function(){return this.values[r].value},set:function(t){var e=this.values[r],i=e.value;t!=i&&(e.dirty=!0,e.value=t,this._isDirty=!0,this.emit("change:"+r,t,i))},enumerable:!0})},StateObject.prototype.markClean=function(e){var i=!1;Object.keys(this.values).forEach(function(t){e&&t!==e||(this[t].dirty=!1),i=i||this[t].dirty},this.values),this._isDirty=i},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return void 0===t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){1<arguments.length&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t,e={};for(t in this.values)e[t]=this[t];return new StateObject(e)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;
function StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,"update"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,"update"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(t){throw new Error("Not implemented")},Object.defineProperty(StateAnimation.prototype,"value",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),"function"==typeof i&&(e=i,i=0),this.d=t,this.state.v="number"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){t=Math.min(.03,t/1e3);Math.abs(this.state.x-this.d)<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,t),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){return void 0===e?{dx:t.v,dv:this._acceleration(t)}:{dx:(t={x:t.x+e.dx*i,v:t.v+e.dv*i}).v,dv:this._acceleration(t,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(t){var i=Date.now()-this._startTime,e=this._targetValue-this._startValue;i>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(i/this._targetTime,this.options.exp)*e+this._startValue};;
function ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,"value",{get:function(){return this._value},set:function(e){var t,h;null!==this._value&&this._value!==e&&(t=this._value-this.threshold)*(h=e-this.threshold)<=0&&(t<0?this.emit("up"):h<0&&this.emit("down")),this._value=e}});;
function BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=["INPUT","SELECT","TEXTAREA","BUTTON"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger("unit").log("Starting to load "+this),this.on("loaded",creative.adapter.perf.start("CreativeUnit.load").end),creative.experiments.get("TrackingLoadingTimes")&&this.once("_firstScreenLoaded",function(){var e,t=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;t<3e4&&(e={unitName:this.name},creative.aggregatorTracking.trackAggregator("unitLoadTime",t,e),creative.aggregatorTracking.trackAggregator("unitLoadSuccesses",e))}.bind(this)),creative.adapter.on("mediaStopRequested",function(e){this.emit("mediaStopRequested",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,"touchstart",this._handleTouchStart.bind(this)),attach(this.unitDiv,"touchmove",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},BaseCreativeUnit.prototype.getAccessibilityProperties=function(){throw new Error("Not implemented")},BaseCreativeUnit.prototype.openAccessibilityUrl=function(e){var t=new ActionContext(this.currentScreen);this.goToURLAction(t,{url:e,reportLabel:e},noop)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,"map-container"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){var t;this._rxState&&(e=getElementRectRelativeToTopViewport(e),t=creative.adapter.getTopWindow(),this._rxState.left=~~e.left,this._rxState.top=~~e.top,this._rxState.right=~~e.right,this._rxState.bottom=~~e.bottom,this._rxState.width=~~e.width,this._rxState.height=~~e.height,this._rxState.vw=t.innerWidth,this._rxState.vh=t.innerHeight,this._rxState.pageYOffset=t.pageYOffset,this._rxState.x=~~(e.left+e.width/2-t.innerWidth/2),this._rxState.y=~~(e.top+e.height/2-t.innerHeight/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this)))},BaseCreativeUnit.prototype.getRxStateObject=function(){var e;return this._rxState?((e=this._generateNewRxStateObject()).copyFrom(this._rxState),this._rxStateCopies.push(e),e):null},BaseCreativeUnit.prototype.goToScreenAction=function(e,t,r){throw new Error("Not implemented")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:-90!=i&&90!=i||(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return"string"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){var t;return creative.urlOpenedUrlAppendage?(t=this.size.width+"x"+this.size.height,e+(0<=e.indexOf("?")?"&":"?")+creative.urlOpenedUrlAppendage.replace(new RegExp("{celtraFirstUnitSize}","ig"),t)):e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){if(!t)return(r||noop)();creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a)},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o="clickThroughDestinationOpened",s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this);a&&-1==["http://","https://"].indexOf(a)?(creative.adapter._stopAllMedia(),0<a.indexOf("itunes.apple.com/us/app/")||0===a.indexOf("market://details?id=")?(e.track({name:o,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:o,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),s()):(creative.adapter.trackingCenter.flush(s),defer(s,2e3)))):e.track({name:"userError",userErrorId:"exitUriIsEmpty"}),e.screen&&creative.adapter.sendToEventMonitor(o,t.triggerId,e.screen.name,a||"",null,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){function a(e,t,r){c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactor",1,{branch:e,logic:t,environment:r})}var i=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,n=creative.shouldClickThroughToNewWindow(e),o=!1,s=function(){o||(o=!0,creative.adapter.openBrowser(this._processURLParams(i),n))}.bind(this),c=(creative.experiments.get("OpenBrowserRefactor")||{}).chosenVariant,l=(creative.experiments.get("WindowOpenWithDelay")||{}).chosenVariant;if(!i||-1<["http://","https://"].indexOf(i))return e.track({name:"userError",userErrorId:"exitUriIsEmpty"}),r();var d,i=this._addUrlAppendage(i),p="urlOpened";creative.adapter._stopAllMedia(),e.track({name:p,url:i,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge()?!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","flush-and-open","desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(a("same-window","flush-then-open","desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):"on"==c?!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","flush-and-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(),s()):(a("same-window","flush-then-open","all-except-desktop-windows"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):!creative.adapter.canOpenUrlInSameWindow||n?(a("new-window","wrap+open","all-except-desktop-windows"),l&&creative.aggregatorTracking.trackAggregator("windowOpenWithDelay",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"wrap"}),d=creative.wrapRedirectPageUrl(this._processURLParams(i)),c&&(creative.aggregatorTracking.trackAggregator("openBrowserRefactorFlushVsWrap",1,{trackingWith:"flush"}),creative.adapter.trackingCenter.flush()),void 0===l||"control"===l?creative.adapter.openBrowser(d,n):setTimeout(function(){creative.adapter.openBrowser(d,n)},0)):(a("same-window","wrap+open","all-except-desktop-windows"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(i)),n)),creative.adapter.sendToEventMonitor(p,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();var a="facebookShareAttempt",i=(creative.adapter._stopAllMedia(),e.track({name:a,url:t.url,label:t.reportLabel}),e.trackClickThrough(),"http://m.facebook.com/sharer.php?u="+encodeURIComponent(t.url));creative.adapter.openBrowser(creative.wrapRedirectPageUrl(i),creative.shouldClickThroughToNewWindow(e)),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var t=this._processURLParams(t.url),a=new Image;a.onload=a.onerror=function(){r()},a.src=t},BaseCreativeUnit.prototype.displayImageAction=function(e,a,i){if(!a.file)return i();var t,r=function(e,t){var r=document.createElement("div"),e=(r.className="celtra-display-image-overlay touchable",r.style.backgroundImage='url("'+a.file.getUrl()+'")',this.unitDiv.appendChild(r),(e>this.size.width||t>this.size.height)&&(r.style.backgroundSize="contain"),a.color&&(r.style.backgroundColor=a.color),attach(r,"tap",function(e){r.parentNode.removeChild(r),i()},!1),document.createElement("div"));e.className="celtra-back-button touchable "+this.alignBackButtonHorizontal,r.appendChild(e)}.bind(this);a.file.meta?r(a.file.meta.width,a.file.meta.height):((t=new Image).onload=function(){r(this.width,this.height)},t.onerror=function(e){return console.error("Couldn't display image: "+a.file.getUrl()),i()},t.src=a.file.getUrl())},BaseCreativeUnit.prototype.saveImageAction=function(i,n,o){var e,s="imageSaveAttempted";function r(e,t){var r=e.getOriginalUrl(),a=e.name,e=e.blobHash;i.track({name:s,blobHash:e,label:n.reportLabel}),i.trackClickThrough(),creative.adapter.canSaveImage()?creative.adapter.trackingCenter.flush(function(){var e="shared.png",e=(void 0!==a?e=a:"string"==typeof t&&0<t.trim().length&&(e=t.trim()+".png"),creative.adapter.saveImage(r,encodeURIComponent(e),o),t||a);creative.adapter.sendToEventMonitor(s,n.triggerId,i.screen.name,e,n.reportLabel,i.initiatedBeforeScreenShown())}):new SaveImageDialog(creative.adapter,creative.resourceUrl,r).show(o)}n.imageOrigin=n.imageOrigin||"asset","component"==n.imageOrigin&&n.component?n.component.file?r(n.component.file,n.component.name):null===(e=n.component.getField())?o():-1===creative.runtimeParams.enabledServices.indexOf("contentSharing")?this.alertAction(i,{text:"This feature is not available in your region"},o):(e=e.url.split(",")[1],creative.adapter.createPlacements({preloader:{attachment:"body",positioning:"screen",type:"layer"}},function(){var e=creative.adapter.placements.preloader,t=(e.setZIndex("max"),e.setSize("100%","100%"),e.setPosition(0,0),e.createElement("link")),t=(t.rel="stylesheet",t.type="text/css",t.href=creative.resourceUrl+"runner/clazzes/PostBlobPreloader.css",e.getContainer().appendChild(t),e.createElement("div")),r=(addClass(t,"celtra-preloader-container"),e.createElement("div"));addClass(r,"celtra-preloader-image"),r.style.backgroundImage="url("+creative.resourceUrl+"runner/clazzes/CreativeUnit/preloader.png)",t.appendChild(r),e.populate(t,function(){e.show()})}),postBlob(e,function(e,t){creative.adapter.destroyPlacement("preloader"),200<=t&&t<300?(t=JSON.parse(e),e=creative.cachedApiUrl+"blobs/"+t.hash+"/shared.png",r(new File(e),n.component.name)):o()})):"asset"==n.imageOrigin&&n.file?r(n.file):o()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();t=new Audio(t.file.getUrl());attach(t,"ended",function(){r()},!1),t.play()},BaseCreativeUnit.prototype.playAudioAction=function(e,t,r){this.playSoundAction(e,t,r),e.track({name:"audioPlayed",source:t.file.getUrl(),label:t.reportLabel})},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(t,r,a){if(!r.file)return a();var e=creative.adapter.useFSVP,i=r.file.url?"URL":"File",n=new VideoContext(t,r.file,r.reportLabel);n.track({engineType:"html5",name:"videoPlayAttempted",trackable:e,filename:r.file.name,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",sourceType:i,source:"URL"==i?r.file.url:r.file.blobHash,label:r.reportLabel}),n.track({name:"videoPresetSelected",videoPreset:null}),creative.adapter.playVideoInPlayer(n,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){if(!t.file)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(t,r,a){if(!r.url)return a();var e=r.file=new File(r.url),i=creative.adapter.useFSVP,n=e.url?"URL":"File",o=(creative.adapter._stopAllMedia(),new VideoContext(t,e,r.reportLabel));o.track({engineType:"html5",name:"videoPlayAttempted",trackable:i,filename:null,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:"fullscreen",sourceType:n,source:"URL"==n?e.url:e.blobHash,label:r.reportLabel}),o.track({name:"videoPresetSelected",videoPreset:null}),creative.adapter.playVideoInPlayer(o,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){if(!t.url)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(t,r,e){function a(){return new RegExp("^\\d+$").test(r.appStoreUrl)?"https://itunes.apple.com/app/id"+r.appStoreUrl:(u(r.appStoreUrl)?"":"http://")+r.appStoreUrl}function i(){return u(r.androidMarketAppId)?r.androidMarketAppId:android()||"Android"===p.osName?"market://details?id="+r.androidMarketAppId:"https://play.google.com/store/apps/details?id="+r.androidMarketAppId}var n,o,s,c,l,d,p=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,u=function(e){return new RegExp("(^http(s)?://)|(^market://)","i").test(e)};creative.adapter._stopAllMedia(),creative.storeOpenedOverrideUrls[r.reportLabel]?n=creative.storeOpenedOverrideUrls[r.reportLabel]:r.appStoreUrl&&(ios()||-1!==["OSX","IOS"].indexOf(p.osName))?n=a():r.androidMarketAppId&&(n=i()),n&&-1==["http://","https://"].indexOf(n)?(o=!ios("9",null),s="storeOpened",c=2,l=function(){creative.adapter.getApp(this._processURLParams(n))}.bind(this),d=function(){var e;!--c&&o&&(l(),e={},r.appStoreUrl&&(e.appStoreUrl=a()),r.androidMarketAppId&&(e.androidMarketAppId=i()),creative.adapter.sendToEventMonitor(s,r.triggerId,t.screen.name,e,r.reportLabel,t.initiatedBeforeScreenShown()))}.bind(this),t.track({name:s,appUri:n,label:r.reportLabel},d),t.trackClickThrough(d),o||setTimeout(l,0)):t.track({name:"userError",userErrorId:"exitUriIsEmpty"}),e()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();function a(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(i,t.triggerId,e.screen.name,t.number,t.reportLabel,e.initiatedBeforeScreenShown())}var i="phoneCalled",n=deviceInfo.os.ios()&&deviceInfo.browser.safari();e.track({name:i,number:t.number,label:t.reportLabel}),e.trackClickThrough(),n?(creative.adapter.trackingCenter.flush(),defer(a)):creative.adapter.trackingCenter.flush(a),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=/[0-9a-f]{8}/;["answerIds","questionId","surveyId","answers"].forEach(function(e){if("answerIds"===e){if(!(t.answerIds instanceof Array))throw new Error("args.answerIds must be an array");t.answerIds.forEach(function(e){if(!a.test(e))throw new Error("args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters")})}else if("answers"===e){if(!(t.answers instanceof Array)||t.answers.length!==t.answerIds.length)throw new Error("args."+e+" length should be the same as args.answerIds")}else if(!a.test(t[e]))throw new Error("args."+e+" must be hexadecimal formatted string containing 8 characters")}),e.track({name:"surveyQuestionAnswered",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId,surveyVersion:t.surveyVersion,answerIdTextMappings:t.answers.map(function(e){return{id:e.id,text:e.text,orderIndex:e.orderIndex}})}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,r,t){return r.eventName&&r.location&&r.start?(r.end=r.end||new Date(r.start.getTime()+36e5),r.timezone=r.timezone||"my",i(r.start)?i(r.end)?r.end<r.start?(console.error("End date must be after the start date!"),t()):-1===["my","utc","user"].indexOf(r.timezone)?(console.error("Invalid timezone argument!"),t()):void 0!==r.reminder&&-1===["5m","15m","30m","1h","2h","1d","2d","date"].indexOf(r.reminder)?(console.error("Invalid reminder argument!"),t()):(r.start=a(r.start),r.end=a(r.end),void CCalendar.saveTheDateAction(e,r,t)):(console.error("Invalid end date"),t()):(console.error("Invalid start date"),t())):(console.error("saveTheDateAction must have eventName, location and start date defined!"),t());function a(e){var t;return r.allDay?(t=new CDate).value=e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate()):(e="my"===r.timezone?e.getUTCFullYear()+"-"+zeroPad(e.getUTCMonth()+1)+"-"+zeroPad(e.getUTCDate())+" "+zeroPad(e.getUTCHours())+":"+zeroPad(e.getUTCMinutes())+":"+zeroPad(e.getUTCSeconds()):e.getFullYear()+"-"+zeroPad(e.getMonth()+1)+"-"+zeroPad(e.getDate())+" "+zeroPad(e.getHours())+":"+zeroPad(e.getMinutes())+":"+zeroPad(e.getSeconds()),(t=new CDateTime).value=e,t.tz=r.timezone),t}function i(e){return e instanceof Date&&!isNaN(e)}},BaseCreativeUnit.prototype.resizeAction=function(e,t,r){throw new Error("Resize action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){return-1!==["intro","collapsed","maximum","fullscreen"].indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(e,t,r){throw new Error("Expand action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:"userError",userErrorId:"expandBeforeAppear"})},BaseCreativeUnit.prototype.collapseAction=function(e,t,r){throw new Error("Collapse action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.dismissAction=function(e,t,r){throw new Error("Dismiss action is not available for this ad format or creative unit")},BaseCreativeUnit.prototype.findAll=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.findByType=function(){throw new Error("Not implemented!")},BaseCreativeUnit.prototype.find=function(e){e=this.findAll(e);return 0<e.length?e[0]:null};;
!function(e){"use strict";function t(e,r,t,n){if(-1===["PUT","DELETE"].indexOf(e))throw new Error("Unsupported request method: "+e);if(void 0===creative.runtimeParams.customAudiences[r])throw new Error('Custom audience "'+r+'" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var i,u,s,o=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,c="/audiences/"+r,a=creative.userIdentifiers;for(i in a)for(var d in a[i])d=a[u=i][d],s=void 0,(s=new XMLHttpRequest).open(e,o+c+"/"+encodeURIComponent(u)+"/"+encodeURIComponent(d)+"?"+creative.authTokenUrlParam),s.send(n)}var r={toString:function(){return"[Clazz CustomAudiences]"}};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t("PUT",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t("DELETE",e,!1)},e.CustomAudiences=r}(window);;
!function(e){"use strict";function n(t,n){var o=[];function a(e){n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e),e.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)})})}function i(e){!e||n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e)})}return"Screen"==this.constructor.name?(a(this.objects),i(this.scenes)):"function"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)}),o}function o(e){return 0<(e=n.call(this,e,!0)).length?e[0]:null}function t(t){return function(e){return void 0===t||e.name==t}}var a={ambience:"Ambience",animatey:"Animatey",abtest:"Best",basket:"Basket",button:"Button",canvas:"Canvas",celebration:"Celebration",checkbox:"CheckBox",feedbasedchoice:"ChoiceFeed",countdown:"Countdown",draggy:"Draggy",dropdown:"Dropdown",dynamiccontent:"DynamicContent",facebookshare:"FacebookShareButton",fallback:"Fallback",frame:"Frame",flippy:"Flippy",group:"Group",gyro:"Gyro",hotspot:"Hotspot",input:"Input",map:"Map",transitions:"Transitions",slider:"BeforeAfterSlider",mastervideo:"MasterVideo",nearby:"Nearby",painty:"Painty",pannable:"Pannable",particles:"Particle",picture:"Picture",puzzle:"Puzzle",shapey:"Shapey",smoke:"Smoke",stack:"Stack",stopwatch:"Stopwatch",locatorclassic:"StoreLocator2",locator:"StoreLocator3",swipeygallery:"Swipey",swipeygroup:"SwipeyGroup",cube3d:"Cube3d",takephoto:"TakePhotoButton",texty:"Texty",twitterfeed:"TwitterFeed",twittershare:"TwitterShareButton",inlinevideo:"Video","360view":"View360","360video":"Video360","360Â°video":"Video360",weather:"Weather",whatsappshare:"WhatsAppShareButton",wipeable:"Wipeable",youtube:"Youtube",scene:"Scene",brandtracksurvey:"BrandTrackSurvey",brandtrackquestion:"BrandTrackQuestion",customcode:"CustomCode",videoasset:"VideoAsset"};e.DiscoverableTrait={findAll:function(e){return n.call(this,t(e))},findByType:function(t){return void 0===t?[]:n.call(this,function(e){return e.constructor.name==((e=(e=t).toLowerCase().replace(/\W+/g,""))in a?a[e]:"")})},findByLocalId:function(t){return o.call(this,function(e){return e.localId==t})},find:function(e){return o.call(this,t(e))}}}(window);;
!function(e){"use strict";var n={choice:{checkChoiceFeed:["feedFieldKey"],ChoiceFeed:["choiceFeedFieldKey"],ChoiceFeedECD:["choiceFeedFieldKey"]},color:{Shapey:["backgroundColorFeedFieldKey"],Texty:["textColorFeedFieldKey"],RichTexty:["textFillFeedFieldKey"]},font:{Texty:["textFontFeedFieldKey"],Button:["textFontFeedFieldKey"],RichTexty:["fontFeedFieldKey"]},html:{CustomCode:["htmlContentFeedFieldKey"],CustomCodeECD:["htmlContentFeedFieldKey"]},image:{Picture:["imageSourceFeedFieldKey"],Swipey:["contentItemsFeedFieldKey"],Video:["posterImageFeedFieldKey"]},text:{Texty:["textContentFeedFieldKey"],Button:["callToActionTextFeedFieldKey"],RichTexty:["textFeedFieldKey"]},url:{goToFeedURL:["feedFieldKey"],QRCode:["destinationUrlFeedFieldKey"]},video:{MasterVideo:["videoSourceFeedFieldKey"],VideoAsset:["videoSourceFeedFieldKey"],Video:["videoSourceFeedFieldKey"],VideoAssetECD:["videoSourceFeedFieldKey"]},audio:{AudioECD:["audioSourceFeedFieldKey"]}};function d(e){e="string"==typeof e?e.split("/"):[];if(!(e.length<2))return e[1]}var i={};function r(e){var t;return void 0===i[e]&&(i[e]={type:"unknown",rows:[]}),0===e.indexOf("LocationTableImplicitField")&&"unknown"===i[e].type&&(t="text","/website"===e.slice(-8)&&(t="url"),i[e].type=t),i[e]}var t=!1;function o(){return t||(creative.runtimeParams.dynamicContent.forEach(function(i){i.rows.forEach(function(e,n){var d=e.fieldValues;Object.keys(d).forEach(function(e){var t=r(e),i=d[e].metaData,e=d[e].value;t.rows[n]={metadata:"object"==typeof i?JSON.parse(JSON.stringify(i)):null,value:e}})}),i.fields.forEach(function(e){var t=r("CustomFeedField/"+e.id);t.id=e.id,t.feedId=i.feedId,t.name=e.name,t.type=e.fieldType})}),t=!0),i}e.FeedData={checkAndTrackValue:function(e,t,i,n){e&&(this.isCorrectFieldType(e,i,n)?this.getFieldValueByKey(e,t)||(console.warn("Feed source missing for key on "+i+": "+e+"."),creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueMissing"})):creative.adapter.trackingCenter.track({name:"userError",userErrorId:"feedValueUnlinked"}))},getCustomFields:function(){var t=o();return Object.keys(t).filter(function(e){return 0===e.indexOf("CustomFeedField")}).map(function(e){e=t[e];return{id:e.id,feedId:e.feedId,name:e.name,type:e.type,values:e.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=d(e);if(t)for(var i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].id===t)return i[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].name===e){t=i[n];break}return t},getFeedByFieldKey:function(e){var t=d(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){return o()[e]},getFieldRowsByKey:function(e){e=this.getFieldByKey(e),e=e?e.rows:[];return 1===e.length&&"string"==typeof e[0].value||1<e.length?e:[]},getFieldRowByKey:function(e,t){return t="number"==typeof t?t:0,this.getFieldRowsByKey(e)[t]},getFieldValueByKey:function(e,t){e=this.getFieldRowByKey(e,t);return e&&e.value},isCorrectFieldType:function(e,t,i){var e=this.getFieldByKey(e);return!!e&&("RichTexty"===t&&(i=i.split("#")[0]+"FeedFieldKey"),e=e.type,-1!==((n[e]||{})[t]||[]).indexOf(i))}}}(window);;
var FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(i){if(this.feedImageOptimizationSettings)for(var t=0;t<this.feedImageOptimizationSettings.length;t++)if(this.feedImageOptimizationSettings[t].feedFieldKey===i)return this.feedImageOptimizationSettings[t];return null}};;
var FeedImageCreator={_createFeedImageFile:function(e,t){var i,n,e=e+"FeedFieldKey",t=FeedData.getFieldValueByKey(this[e],t);return"string"==typeof t&&FeedData.isCorrectFieldType(this[e],this.constructor.name,e)?(i=[],n=void 0,(e=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[e]):{})&&e.optimizedWidth&&e.optimizedHeight&&e.fitting&&(i=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:e.optimizedWidth,optimizedHeight:e.optimizedHeight}],n=e.fitting),e=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),e={height:Math.max(1,e.height),width:Math.max(1,e.width)},new File({url:t,dynamic:!0,meta:e,optimizationSettings:i,fitting:n})):null}};;
!function(t){"use strict";var p={stringPatternAngle:"(?:[+-]?\\d*\\.?\\d+)(?:deg|grad|rad|turn)",stringPatternColor:"(?:#(?:[A-Fa-f0-9]{3,8})|(?:hsl(?:a)?)\\(\\s*(?:\\d+)\\s*,\\s*(?:\\d+(?:\\.\\d+)?%)\\s*,\\s*(?:\\d+(?:\\.\\d+)?%)\\s*(?:,\\s*(?:\\d+|\\d*.\\d+)\\s*)?\\s*\\)|(?:rgb(?:a)?)\\(\\s*(?:\\d+)\\s*,\\s*(?:\\d+)\\s*,\\s*(?:\\d+)\\s*(?:,\\s*(?:\\d+|\\d*.\\d+)\\s*)?\\s*\\))",stringPatternSideCorner:"top|bottom|left|right",stringPatternValue:"(?:[+-]?\\d*\\.?\\d+)(?:%|[a-z]+)?",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,patternHexa:/^(#|)([A-Fa-f0-9]{8})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*((?:\d\.)?\d\d?)\s*\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\((.*?)\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=["(?:to\\s+)?((?:",p.stringPatternSideCorner,")\\s*(?:",p.stringPatternSideCorner,")?)"].join(""),t=["(",["(",p.stringPatternAngle,")"].join(""),"|",t,")"].join(""),e=[p.stringPatternColor,"\\s*(?:",p.stringPatternValue,")?"].join(""),t=["^\\s*",t,"\\s*,\\s*(",["(?:",e,"\\s*,\\s*)*",e].join(""),")\\s*$"].join("");return p.generatedGradientSyntax=new RegExp(t,"i"),p.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=["(ellipse)?\\s*","(",p.stringPatternValue,")\\s+","(",p.stringPatternValue,")\\s+at\\s+","(",p.stringPatternValue,")\\s+","(",p.stringPatternValue,")"].join(""),e=[p.stringPatternColor,"\\s*(?:",p.stringPatternValue,")?"].join(""),t=["^\\s*",t,"\\s*,\\s*(",["(?:",e,"\\s*,\\s*)*",e].join(""),")\\s*$"].join("");return p.generatedRadialGradientSyntax=new RegExp(t,"i"),p.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=["\\s*(",p.stringPatternColor,")","(?:\\s+","(",p.stringPatternValue,"))?","(?:\\s*,\\s*)?"].join("");return p.generatedGradientStopList=new RegExp(t,"gi"),p.generatedGradientStopList},gradientOldSideCorner:{"to top":"left bottom, left top","to left":"right top, left top","to bottom":"left top, left bottom","to right":"left top, right top","to top right":"left bottom, right top","to top left":"right bottom, left top","to bottom right":"left top, right bottom","to bottom left":"right top, left bottom"},gradientPrefixedSideCorner:{"to top":"bottom","to left":"right","to bottom":"top","to right":"left","to top right":"bottom left","to top left":"bottom right","to bottom right":"top left","to bottom left":"top right"}};Object.defineProperties(p,{patternGradientSyntax:{get:function(){return null===p.generatedGradientSyntax?p.buildGradientSyntax():p.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===p.generatedRadialGradientSyntax?p.buildRadialGradientSyntax():p.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===p.generatedGradientStopList?p.buildGradientStopList():p.generatedGradientStopList}}}),p.convertAngleToSideCorner=function(t,e){e=((t=/\-?(moz|webkit|o|ms)/.test(e)?90-t:t)+360)%360,t="to top";return 347<e||e<14?t="to top":14<=e&&e<=75?t="to top right":75<e&&e<105?t="to right":105<=e&&e<=167?t="to bottom right":167<e&&e<194?t="to bottom":194<=e&&e<=255?t="to bottom left":255<e&&e<285?t="to left":285<=e&&e<=347&&(t="to left top"),t},p.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case"bottom":case"to top":a=0;break;case"left":case"to right":a=90;break;case"right":case"to left":a=270;break;case"top":case"to bottom":a=180;break;case"to bottom right":case"to right bottom":a=167;break;case"to bottom left":case"to left bottom":a=194;break;case"to top right":case"to right top":a=14;break;case"to top left":case"to left top":a=347;break;case"bottom right":case"right bottom":a=285;break;case"bottom left":case"left bottom":a=75;break;case"top right":case"right top":a=255;break;case"top left":case"left top":a=105}return((a=/\-?(moz|webkit|o|ms)/.test(e)?90-a:a)+360)%360},p.convertHexToRgba=function(t,e){var a,r=0,n=0,i=0,t=p.patternHex.exec(t);return null!==t&&t[p.matchHexColor]&&(3==(t=t[p.matchHexColor]).length&&(t=(a=t).substr(0,1)+a.substr(0,1)+a.substr(1,1)+a.substr(1,1)+a.substr(2,1)+a.substr(2,1)),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16)),e=parseInt(e,10)/100,"rgba("+r+","+n+","+i+","+(e=isNaN(e)?1:e)+")"},p.isHex=function(t){return p.patternHex.test(t)},p.isHexa=function(t){return p.patternHexa.test(t)},p.isRgb=function(t){return p.patternRgb.test(t)},p.isRgba=function(t){return p.patternRgba.test(t)},p.isGradient=function(t){return p.patternGradient.test(t)},p.parseColorStopList=function(t){for(var e,a=p.patternGradientStopList.exec(t),r=[];null!==a;)e={color:a[p.matchGradientStopListColor]},a[p.matchGradientStopListPosition]&&(e.position=a[p.matchGradientStopListPosition]),r.push(e),a=p.patternGradientStopList.exec(t);return r},p.parseGradient=function(t){var e,a=null,t=p.patternGradient.exec(t);return null!==t&&(a={original:t[0],oldSyntax:!t[p.matchGradientType],prefix:t[p.matchGradientPrefix],type:t[p.matchGradientType],colorStopList:[]},null!==(e=p.patternGradientSyntax.exec(t[p.matchGradientValues]))&&(e[p.matchGradientSyntaxLine]&&(a.line=e[p.matchGradientSyntaxLine]),e[p.matchGradientSyntaxAngle]&&(a.angle=e[p.matchGradientSyntaxAngle]),e[p.matchGradientSyntaxSideCorner]&&(a.sideCorner=e[p.matchGradientSyntaxSideCorner]),a.colorStopList=p.parseColorStopList(e[p.matchGradientSyntaxStopList])),null!==(e=p.patternRadialGradientSyntax.exec(t[p.matchGradientValues]))&&(a.radialGradientEllipse=e[p.matchRadialGradientSyntaxEllipse],e[p.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=e[p.matchRadialGradientSyntaxWidth]),e[p.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=e[p.matchRadialGradientSyntaxHeight]),e[p.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=e[p.matchRadialGradientSyntaxXPosition]),e[p.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=e[p.matchRadialGradientSyntaxYPosition]),a.colorStopList=p.parseColorStopList(e[p.matchRadialGradientSyntaxStopList]))),a},p.createGradient=function(t){var e={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},a=p.parseGradient(t)||t;if(a.oldSyntax)throw new Error('[Not supported] Can not create gradient from old "webkit-gradient" syntax.');for(var r,n,i,o,s="",d="",l=a.colorStopList.length,c=0;c<l;c++){var g=a.colorStopList[c];g.color&&(0!==c?(s+=",",d+=","):e.backgroundColor=g.color,s+=g.color,d+="color-stop(",g.position?(s+=" "+g.position,d+=g.position):d+=100/(l-1)*c+"%",d+=", "+g.color+")")}return"linear"===a.type?(void(t=0)!==a.angle?t=parseInt(a.angle,10):void 0!==a.sideCorner&&(t=p.convertSideCornerToAngle(a.line,a.prefix)),n=t,/\-?(moz|webkit|o|ms)/.test(a.prefix)?t=90-n:n=90-t,r=p.convertAngleToSideCorner(t),r=p.gradientOldSideCorner[r],e.webkitGradient="-webkit-gradient(linear, "+r+", "+d+")",e.mozLinearGradient="-moz-linear-gradient("+n+"deg, "+s+")",e.msLinearGradient="-ms-linear-gradient("+n+"deg, "+s+")",e.oLinearGradient="-o-linear-gradient("+n+"deg, "+s+")",e.webkitLinearGradient="-webkit-linear-gradient("+n+"deg, "+s+")",e.linearGradient="linear-gradient("+t+"deg,"+s+")"):"radial"===a.type&&(r=(r=(a.radialGradientEllipse||"")+" ").replace(/^\s+/,""),n=parseInt(a.radialGradientWidth,10),t=parseInt(a.radialGradientHeight,10),i=parseInt(a.radialGradientXPosition,10),o=parseInt(a.radialGradientYPosition,10),e.radialGradient="radial-gradient("+r+(n+"% "+t+"%"+" at "+(i+"% "+o+"%"))+","+s+")"),e},p.createGradientStyle=function(t){var e,a=p.createGradient(t),r="";for(e in a){var n=a[e];null!==n&&p.isGradient(n)&&(r+="background-image: "+n+"; ")}return r},p.parseRgb=function(t){var e,a=0,r=0,n=0,i=1;if(p.isRgb(t))e=p.patternRgb.exec(t);else{if(!p.isRgba(t))throw new Error("Color format ["+t+"] is not supported, please provide rgb or rgba color format input.");e=p.patternRgba.exec(t)}return null!==e&&(e[p.matchRgbaRed]&&(a=parseInt(e[p.matchRgbaRed],10)),e[p.matchRgbaGreen]&&(r=parseInt(e[p.matchRgbaGreen],10)),e[p.matchRgbaBlue]&&(n=parseInt(e[p.matchRgbaBlue],10)),e[p.matchRgbaAlpha]&&(i=parseFloat(e[p.matchRgbaAlpha]))),[a,r,n,i]},p.tint=function(t,e){return!0!==this.isGradient(t)?this.tintRgb(t,e):this.tintGradient(t,e)},p.shade=function(t,e){return!0!==this.isGradient(t)?this.shadeRgb(t,e):this.shadeGradient(t,e)},p.tintGradient=function(t,e){return this._transformGradient(t,e,255)},p.shadeGradient=function(t,e){return this._transformGradient(t,e,0)},p.shadeRgb=function(t,e){return this._transformRgb(t,e,0)},p.tintRgb=function(t,e){return this._transformRgb(t,e,255)},p._transformGradient=function(t,r,n){if(null===(t=this.parseGradient(t)))return null;t.colorStopList=t.colorStopList.map(function(t){var e="";switch(!0){case this.isHex(t.color)||this.isHexa(t.color):var a=this.convertHexToRgba(t.color),e=this._transformRgb(a,r,n);break;case this.isRgba(t.color)||this.isRgb(t.color):e=this._transformRgb(t.color,r,n)}return Object.assign({},t,{color:e})},this);var e=this.createGradient(t);switch(t.type){case"linear":return e.linearGradient;case"radial":return e.radialGradient;default:return null}},p._transformRgb=function(t,e,a){var t=p.parseRgb(t),r=t[0],n=t[1],i=t[2],t=t[3];return"rgba("+parseInt(r*(1-e)+a*e)+","+parseInt(n*(1-e)+a*e)+","+parseInt(i*(1-e)+a*e)+","+t+")"},t.Color=p}(window),"undefined"!=typeof module&&void 0!==module.exports&&(module.exports=window.Color);;
"use strict";!function(n){var o={_isContentInsideContainer:function(n,t){return n.height<=Math.round(t.height)&&n.width<=Math.round(t.width)},_isContentInsideContainerForFontSizeFn:function(t,i){return function(n){return o._isContentInsideContainer(i(n),t)}},getCalculatedFontSize:function(n,t,i,e){n=o._isContentInsideContainerForFontSizeFn(n,t);return o._findFittingPoint(e,i,n,1)},getCalculatedFactor:function(n,t,i,e){n=o._isContentInsideContainerForFontSizeFn(n,t);return o._findFittingPoint(e,i,n,.01)},_findFittingPoint:function(n,t,i,e){if(i(t))return t;for(var o=n,r=e%1==0;n<=t;){var u=(n+t)/2,d=i(u=r?Math.floor(u):u),a=i(u+e);if(d&&!a)return u;if(!d&&a)return console.error("Binary font size search invalid state!"),o;d&&a&&(n=u+e),d||a||(t=u-e)}return n}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=o:n.ShrinkToFit=o}(this);;
"use strict";!function(t){function e(t,n){e.isValidInput(t,n),this.start=t,this.end=n}e.prototype.doesRangeOverlap=function(t){return 0<=this._getLengthOfIntersectionInterval(t)},e.prototype._getLengthOfIntersectionInterval=function(t){return Math.min(this.end,t.end)-Math.max(this.start,t.start)},e.prototype.isSuperRangeOf=function(t){return this.start<=t.start&&this.end>=t.end},e.isValidInput=function(t,n){if(null==t||null==n||"number"!=typeof t||"number"!=typeof n)throw new Error("Invalid input type!");if(t<0||n<0)throw new Error("Range border can not be negative!");if(n<=t)throw new Error("Start should be less than the end!")},e.compareRanges=function(t,n){return t.start-n.start},e.obtainValidRanges=function(t){t=e._filterValidRanges(t);return e._mapToRanges(t)},e._filterValidRanges=function(t){return t.filter(function(t){try{return e.isValidInput(t.start,t.end),!0}catch(t){return!1}})},e._mapToRanges=function(t){return t.map(function(t){return new e(t.start,t.end)})},t.TextRange=e,"undefined"!=typeof module&&null!==module&&(module.exports=e)}(window);;
"use strict";!function(){function e(e){this._ranges=e||[],this.getRanges=function(){return this._ranges},this.getRangeIndices=function(){return this.getRanges().map(function(e){return[e.start,e.end]})},this.addRange=function(n){var s=n.start,a=n.end,e=this.getRanges().filter(function(e){var t=e.doesRangeOverlap(n);return t&&(s=Math.min(s,e.start),a=Math.max(a,e.end)),!t});this.getRanges().length===e.length?this._ranges.push(n):(this._ranges=e,this._ranges.push(new TextRange(s,a))),this._ranges.sort(TextRange.compareRanges)},this.removeRange=function(n){var s=[],e=this.getRanges().filter(function(e){var t=e.doesRangeOverlap(n);return t&&(e=this._recreateAppliedRange(e,n),s=s.concat(e)),!t},this);this._ranges=e.concat(s),this._ranges.sort(TextRange.compareRanges)},this._recreateAppliedRange=function(e,t){var n=[];return t.start>e.start&&t.end<e.end?(n.push(new TextRange(e.start,t.start)),n.push(new TextRange(t.end,e.end))):t.end<e.end?n.push(new TextRange(t.end,e.end)):t.start>e.start&&n.push(new TextRange(e.start,t.start)),n},this.setRanges=function(e){this.removeAllRanges(),e.forEach(function(e){this.addRange(e)},this)},this.removeAllRanges=function(){this._ranges=[]},this.apply=function(e){throw new Error("Unsupported")},this.isAppliedToRange=function(t){return this.getRanges().some(function(e){return e.isSuperRangeOf(t)})}}window.BaseTextStyle=e,"undefined"!=typeof module&&null!==module&&(module.exports=e)}();;
"use strict";!function(){function e(e){BaseTextStyle.call(this,e),this.apply=function(e){return e?'<span class="no-break">'+e+"</span>":""}}window.UnbreakableTextStyle=e,"undefined"!=typeof module&&null!==module&&(module.exports=e)}();;
"use strict";!function(e){function t(){}t.UNBREAKABLE_START="\\[",t.UNBREAKABLE_END="\\]",t.extractStyleFromText=function(e){return this.hasUnbreakableCharacters(e)?this._extract(e):this._formatResponse(e,null)},t.hasUnbreakableCharacters=function(e){return e&&-1<e.indexOf(this.UNBREAKABLE_START)},t._formatResponse=function(e,t){return{text:e,style:t=e?t:null}},t._extract=function(e){for(var t=e.split(this.UNBREAKABLE_START),n=new UnbreakableTextStyle,r=this._removeClosingBrackets(t[0]),a=1;a<t.length;a++){var i=t[a];this._addSectionRange(n,r.length,i),r+=this._removeClosingBrackets(i)}return this._formatResponse(r,n)},t._removeClosingBrackets=function(e){return e.split(this.UNBREAKABLE_END).join("")},t._addSectionRange=function(e,t,n){var r=this._getUnbreakableClosingIndex(n);n.substring(0,r)&&e.addRange(this._calculateRange(t,r))},t._getUnbreakableClosingIndex=function(e){var t=e.indexOf(this.UNBREAKABLE_END);return t=-1===t?e.length:t},t._calculateRange=function(e,t){return new TextRange(e,e+t)},e.UnbreakableTextStyleConverter=t,"undefined"!=typeof module&&null!==module&&(module.exports=t)}(window);;
"use strict";!function(e){function d(){}d.encode=function(e){return this._replace(e,"decoded","encoded")},d.decode=function(e){return this._replace(e,"encoded","decoded")},d._replace=function(d,o,c){return this.SPECIAL_CHARACTERS.forEach(function(e){d=d.replace(new RegExp(e[o],"g"),e[c])}),d},d.SPECIAL_CHARACTERS=[{decoded:"&",encoded:"&amp;"},{decoded:'"',encoded:"&quot;"},{decoded:"'",encoded:"&apos;"},{decoded:"<",encoded:"&lt;"},{decoded:">",encoded:"&gt;"}],"undefined"!=typeof module&&void 0!==module.exports?module.exports=d:e.HtmlEntitizer=d}(this);;
"use strict";!function(n){var e=!0;function t(){}function r(n,t){var e,r,i,t=new TextStyleCompiler(t).compile();return 0===t.length?o(n):(i=function(n,t){return o(n.substring(0,t[0].range.start))}(e=n,r=t),r.forEach(function(n,t){i+=function(n,t){n=o(n.slice(t.range.start,t.range.end));return t.apply(n)}(e,n),t+1<r.length&&(i+=(t=r[t+1],o(e.slice(n.range.end,t.range.start))))}),i+function(n,t){t=t[t.length-1];return o(n.substring(t.range.end,n.length))}(e,r))}function o(n){return e?HtmlEntitizer.encode(n):n}t.processAndSanitize=function(n,t){return e=!0,r(n,t)},t.processWithoutSanitization=function(n,t){return e=!1,r(n,t)},n.TextStyleProcessor=t,"undefined"!=typeof module&&null!==module&&(module.exports=t)}(window);;
"use strict";!function(t){function n(t,e){this.range=t,this.styles=e||[],this.apply=function(t){for(var e=t,n=0;n<this.styles.length;n++)e=this.styles[n].apply(e);return e}}function e(t){this.styles=t||[]}t.TextStyleContainer=n,e.prototype.compile=function(){for(var t=this._extractIntervalIndices(),e=[],n=0;n<t.length-1;n++){var r=this._createContainer(t[n],t[n+1]);r&&e.push(r)}return e},e.prototype._createContainer=function(t,e){t=new TextRange(t,e),e=this._getStylesApplicableForRange(t);if(0<e.length)return new n(t,e)},e.prototype._getStylesApplicableForRange=function(e){return this.styles.filter(function(t){return t.isAppliedToRange(e)})},e.prototype._extractIntervalIndices=function(){var e=[];return this.styles.forEach(function(t){t.getRanges().forEach(function(t){this._pushIfNewIndex(e,t.start),this._pushIfNewIndex(e,t.end)},this)},this),e.sort(this._sortIndices),e},e.prototype._pushIfNewIndex=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.prototype._sortIndices=function(t,e){return t-e},t.TextStyleCompiler=e,"undefined"!=typeof module&&null!==module&&(exports.TextStyleCompiler=e,exports.TextStyleContainer=n)}(window);;
"use strict";!function(o){var e={buildTextColor:function(o){return Color.isGradient(o)?{color:"transparent","background-image":o,"-webkit-background-clip":"text","background-clip":"text"}:{color:o}}};"undefined"!=typeof module&&void 0!==module.exports?module.exports=e:o.TextCssPropertiesBuilder=e}(window);;
!function(){"use strict";var e=[],o=["provider","family","style","weight","stretch"],t=["adobe","custom","google","system"],a=o.concat(["baseUrl","files","projectId","subset"]);window.TextStyleIntegrator={updateTextStyle:function(){},initializeFont:function(t){this._initialFont instanceof FontBase||(this._initialFont=this.font),this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"fonts/"),t||(this.incrementLoadingCount(),this.loadFont(deferred(this.decrementLoadingCount.bind(this),0,"TextStyleIntegrator.initializeFont deferred loadFont callback"))),this.updateTextStyle()},resetFont:function(){this._initialFont instanceof FontBase&&this.font!==this._initialFont&&(this.font=this._initialFont,this.updateTextStyle())},toSizePx:function(t,e){var i=parseFloat(t);return i=-1<t.toString().indexOf("vh")?Math.round(e*i/100):i},getFontSize:function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},lineHeightInPx:function(t,e){return Math.max(1,t+e)},toSizePxBasedOnFontSize:function(t,e){var i=parseFloat(t);return-1<String(t).indexOf("em")&&(i*=e),i},getLineSpacing:function(){var t=this.toSizePx(this.fontSize,this.parentScreen.size.height);return this.toSizePxBasedOnFontSize(this.lineSpacing,t)},getLetterSpacing:function(){var t=this.toSizePx(this.fontSize,this.parentScreen.size.height);return this.toSizePxBasedOnFontSize(this.letterSpacing,t)},getScaleBaseHeight:function(){return this.scaleBaseHeight},getScaleBaseWidth:function(){return this.scaleBaseWidth},getTextColor:function(){return this.textColor},getTextShadowOffset:function(){var t,e={x:0,y:0};return void 0!==this.textShadow&&this.textShadow&&(t=this.textShadowAngle*(Math.PI/180),e.x=Math.round(this.textShadowDistance*Math.cos(t)),e.y=Math.round(this.textShadowDistance*Math.sin(t))),e},getTextShadowBlur:function(){return android("2")&&this.textShadowBlur<1?1:this.textShadowBlur},getTextPaddingTop:function(){return this.textPaddingTop},getTextPaddingRight:function(){return this.textPaddingRight},getTextPaddingBottom:function(){return this.textPaddingBottom},getTextPaddingLeft:function(){return this.textPaddingLeft},applyTextStyle:function(t){var e=this.font.getCssProperties(),e={fontFamily:e["font-family"],fontStyle:e["font-style"],fontWeight:e["font-weight"],letterSpacing:"",textAlign:"",textDecoration:"",textTransform:"",textShadow:"",paddingTop:"",paddingRight:"",paddingBottom:"",paddingLeft:""},i=(extend(e,TextCssPropertiesBuilder.buildTextColor(this.getTextColor())),void 0!==this.textAlign&&(e.textAlign=this.textAlign),void 0!==this.textDecoration&&(e.textDecoration=this.textDecoration),void 0!==this.textTransform&&(e.textTransform=this.textTransform),void 0!==this.letterSpacing&&(e.letterSpacing=this.getLetterSpacing()+"px"),void 0!==this.textShadow&&this.textShadow&&(i=this.getTextShadowOffset(),e.textShadow=i.x+"px "+i.y+"px "+this.getTextShadowBlur()+"px "+this.textShadowColor),this.getTextPaddingTop()),n=this.getTextPaddingRight(),o=this.getTextPaddingBottom(),a=this.getTextPaddingLeft();"number"==typeof i&&(e.paddingTop=i+"px"),"number"==typeof n&&(e.paddingRight=n+"px"),"number"==typeof o&&(e.paddingBottom=o+"px"),"number"==typeof a&&(e.paddingLeft=a+"px"),extend(t.style,e),t.setAttribute("dir",this.textDirection||""),this.checkAndFixAutoWritingDirectionSupport(t)},_writingDirectionFallbackInputListenerRegistered:!1,checkAndFixAutoWritingDirectionSupport:function(t){var e="auto"===this.textDirection&&t.dir!==this.textDirection,i=("start"===this.textAlign||"end"===this.textAlign)&&t.style.textAlign!=this.textAlign;(e||i)&&((i="textarea"===(e=t.tagName.toLowerCase())||"input"===e&&"text"===t.type.toLowerCase())&&!this._writingDirectionFallbackInputListenerRegistered&&(this._writingDirectionFallbackInputListenerRegistered=!0,attach(t,"input",function(){this._applyWritingDirectionFallbacks(t,t.value)}.bind(this))),!i&&"input"===e||this._applyWritingDirectionFallbacks(t,t.innerText))},_applyWritingDirectionFallbacks:function(t,e){var i,e=guessWritingDirection(e)||"ltr";"start"===this.textAlign&&(i="ltr"===e?"left":"right"),"end"===this.textAlign&&(i="ltr"===e?"right":"left"),t.setAttribute("dir",e||""),i&&(t.style.textAlign=i)},applyTextSize:function(t){var e=this.getNaturalSize(),i=this.getFontSize(),n=(this.scaleFont&&0<this.getScaleBaseWidth()&&void 0!==this.scaleBaseHeight&&0<this.getScaleBaseHeight()?i=Math.min(i/(this.getScaleBaseWidth()/e.width),i/(this.getScaleBaseHeight()/e.height)):this.scaleFont&&0<this.getScaleBaseWidth()&&(i/=this.getScaleBaseWidth()/e.width),{fontSize:i+"px",lineHeight:"",paddingLeft:"",paddingRight:""});if(void 0!==this.lineSpacing&&(n.lineHeight=this.lineHeightInPx(this.getLineSpacing(),i)+"px"),this.scaleFont&&void 0!==this.scaleBaseHeight){var i=this.getScaleBaseWidth()/this.getScaleBaseHeight()*e.height,o=e.width-i;if(0<o)switch(this.textAlign){case"center":n.paddingRight=Math.round(o/2)+"px",n.paddingLeft=Math.round(o/2)+"px";break;case"right":n.paddingLeft=Math.round(o)+"px";break;default:n.paddingRight=Math.round(o)+"px"}}extend(t.style,n)},getFontLoader:function(t){t=t||noop,!this.font.needsLoading()||FontBase.useCSSFontLoadingAPI||"undefined"!=typeof FontLoader?t():loadJS(creative.resourceUrl+"runner-min/FontLoader.js",t)},loadFont:function(i){i=i||noop;var n={fontFamily:this.font.family,fontProvider:this.font.provider,fontStretch:this.font.stretch||"",fontStyle:this.font.style,fontWeight:this.font.weight,fontTtfUrl:this.font.getFileUrl("ttf")||"",fontWoffUrl:this.font.getFileUrl("woff")||"",fontWoff2Url:this.font.getFileUrl("woff2")||""},o=creative.perf.start("TextStyleIntegrator.loadFont",n);this.getFontLoader(function(){var e=creative.perf.start("TextStyleIntegrator.loadStyle",n);this.font.loadStyle(function(t){n.errorMessage=t||"",e.end(),o.end(),t||(this.font.isCustom()&&this.callExternalPageViewCounter(),this.font.isMonotype()&&this.trackMonotypeUsage()),i(t)}.bind(this))}.bind(this))},setFont:function(e){var i=this.font.hasOwnProperty("localId"),n=(!i||this._initialFont instanceof FontBase||(this._initialFont=this.font),{baseUrl:(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"fonts/"});a.forEach(function(t){i&&-1!==o.indexOf(t)&&(n[t]=this.font[t]),void 0!==e[t]&&(n[t]=e[t])}.bind(this)),"web"===n.provider&&(n.provider="system"),-1===t.indexOf(n.provider)&&(n.provider="custom"),this.font.localId?("custom"===n.provider&&n.family===this.font.family&&(n.family=this.font.family+" (custom)"),this.font=new FontBase(n)):extend(this.font,n),creative.track({name:"retiredFeatureUsed",featureType:"apifunction",featureName:"TextStyleIntegrator.setFont"})},callExternalPageViewCounter:function(){var t;this.font.hasTrackingUrlDefined()&&"live"===creative.runtimeParams.purpose&&(t=this.font.getTrackingUrl(),-1===e.indexOf(t)&&(e.push(t),document.createElement("img").src=this.font.getTrackingUrl()))},trackMonotypeUsage:function(){creative.runtimeParams.monotypeProjectId&&!creative.runtimeParams.monotypeUsageReported&&(creative.runtimeParams.monotypeUsageReported=1,creative.aggregatorTracking.trackAggregator("monotypeUsageReported",{monotypeProjectId:creative.runtimeParams.monotypeProjectId,creativeId:creative.id}))}}}();;
var ZyngaScroller;!function(e){var _,i,l,n,t,T=Date.now||function(){return+new Date},d={},v=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:(t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,e=!!t,(e=!(t&&!/requestAnimationFrame\(\)\s*\{\s*\[native code\]\s*\}/i.test(t.toString()))&&e)?function(e,o){t(e,o)}:(_={},i=1,l=null,n=+new Date,function(e,o){var t=i++;return _[t]=e,null===l&&(l=setInterval(function(){var e,o=+new Date,t=_;for(e in _={},t)t.hasOwnProperty(e)&&(t[e](o),n=o);2500<o-n&&(clearInterval(l),l=null)},1e3/60)),t})),stop:function(e){var o=null!=d[e];return o&&(d[e]=null),o},isRunning:function(e){return null!=d[e]},start:function(l,n,r,a,c,s){var h=T(),p=h,m=0,f=0,u=v++;if(s=s||document.body,u%20==0){var e,o={};for(e in d)o[e]=!0;d=o}function g(e){var e=!0!==e,o=T();if(!d[u]||n&&!n(u))d[u]=null,r&&r(60-f/((o-h)/1e3),u,!1);else{if(e)for(var t=Math.round((o-p)/(1e3/60))-1,_=0;_<Math.min(t,4);_++)g(!0),f++;a&&1<(m=(o-h)/a)&&(m=1);var i=c?c(m):m;!1!==l(i,o,e)&&1!==m||!e?e&&(p=o,core.effect.Animate.requestAnimationFrame(g,s)):(d[u]=null,r&&r(60-f/((o-h)/1e3),u,1===m||null==a))}}return d[u]=!0,core.effect.Animate.requestAnimationFrame(g,s),u}}}(window),function(){function _(){}function p(e){return Math.pow(e-1,3)+1}function m(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}var e,o={__isSingleTouch:!(ZyngaScroller=function(e,o){for(var t in this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:_,penetrationDeceleration:.03,penetrationAcceleration:.08},o)this.options[t]=o[t]}),__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){this.__clientLeft=e||0,this.__clientTop=o||0},setSnapSize:function(e,o){this.__snapWidth=e,this.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){this.__refreshHeight=e,this.__refreshActivate=o,this.__refreshDeactivate=t,this.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel,isDragging:this.__isDragging}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error("Zooming is not enabled!");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);i=l.__zoomLevel,null==t&&(t=l.__clientWidth/2),null==_&&(_=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e),t=(t+l.__scrollLeft)*e/i-t,i=(_+l.__scrollTop)*e/i-_;t>l.__maxScrollLeft?t=l.__maxScrollLeft:t<0&&(t=0),i>l.__maxScrollTop?i=l.__maxScrollTop:i<0&&(i=0),l.__publish(t,i,e,o)},zoomBy:function(e,o,t,_,i){this.zoomTo(this.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error("Zooming is not enabled!");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){return this.zoomTo(this.__zoomLevel*(0<e?.97:1.03),!1,t-this.__clientLeft,_-this.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error("Invalid touch list: "+e);if("number"!=typeof(o=o instanceof Date?o.valueOf():o))throw new Error("Invalid timestamp value: "+o);var t,_=this,i=(_.__interruptedAnimation=!0,_.__isDecelerating&&(core.effect.Animate.stop(_.__isDecelerating),_.__isDecelerating=!1,_.__interruptedAnimation=!0),_.__isAnimating&&(core.effect.Animate.stop(_.__isAnimating),_.__isAnimating=!1,_.__interruptedAnimation=!0),1===e.length),e=i?(t=e[0].pageX,e[0].pageY):(t=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2);_.__initialTouchLeft=t,_.__initialTouchTop=e,_.__zoomLevelStart=_.__zoomLevel,_.__lastTouchLeft=t,_.__lastTouchTop=e,_.__lastTouchMove=o,_.__lastScale=1,_.__enableScrollX=!i&&_.options.scrollingX,_.__enableScrollY=!i&&_.options.scrollingY,_.__isTracking=!0,_.__didDecelerationComplete=!1,_.__isDragging=!i,_.__isSingleTouch=i,_.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error("Invalid touch list: "+e);if("number"!=typeof(o=o instanceof Date?o.valueOf():o))throw new Error("Invalid timestamp value: "+o);var _,i,l,n,r,a,c,s,h,p=this;p.__isTracking&&(e=2===e.length?(_=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2):(_=e[0].pageX,e[0].pageY),i=p.__positions,p.__isDragging?(c=_-p.__lastTouchLeft,h=e-p.__lastTouchTop,l=p.__scrollLeft,n=p.__scrollTop,r=p.__zoomLevel,null!=t&&p.options.zooming&&(r=(s=r)/p.__lastScale*t,s!==(r=Math.max(Math.min(r,p.options.maxZoom),p.options.minZoom))&&(l=((a=_-p.__clientLeft)+l)*r/s-a,n=((a=e-p.__clientTop)+n)*r/s-a,p.__computeScrollMax(r))),p.__enableScrollX&&(l-=c*this.options.speedMultiplier,((s=p.__maxScrollLeft)<l||l<0)&&(p.options.bouncing?l+=c/2*this.options.speedMultiplier:l=s<l?s:0)),p.__enableScrollY&&(n-=h*this.options.speedMultiplier,((a=p.__maxScrollTop)<n||n<0)&&(p.options.bouncing?(n+=h/2*this.options.speedMultiplier,p.__enableScrollX||null==p.__refreshHeight||(!p.__refreshActive&&n<=-p.__refreshHeight?(p.__refreshActive=!0,p.__refreshActivate&&p.__refreshActivate()):p.__refreshActive&&n>-p.__refreshHeight&&(p.__refreshActive=!1,p.__refreshDeactivate&&p.__refreshDeactivate()))):n=a<n?a:0)),60<i.length&&i.splice(0,30),i.push(l,n,o),p.__publish(l,n,r)):(c=p.options.locking?3:0,s=Math.abs(_-p.__initialTouchLeft),h=Math.abs(e-p.__initialTouchTop),p.__enableScrollX=p.options.scrollingX&&c<=s,p.__enableScrollY=p.options.scrollingY&&c<=h,i.push(p.__scrollLeft,p.__scrollTop,o),p.__isDragging=(p.__enableScrollX||p.__enableScrollY)&&(5<=s||5<=h),p.__isDragging&&(p.__interruptedAnimation=!1)),p.__lastTouchLeft=_,p.__lastTouchTop=e,p.__lastTouchMove=o,p.__lastScale=t)},doTouchEnd:function(e){if("number"!=typeof(e=e instanceof Date?e.valueOf():e))throw new Error("Invalid timestamp value: "+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t,_,i=o.__positions,l=i.length-1,n=l,r=l;0<r&&i[r]>o.__lastTouchMove-100;r-=3)n=r;n!==l?(l=i[l]-i[n],_=o.__scrollLeft-i[n-2],t=o.__scrollTop-i[n-1],o.__decelerationVelocityX=_/l*(1e3/60),o.__decelerationVelocityY=t/l*(1e3/60),_=o.options.paging||o.options.snapping?4:1,(Math.abs(o.__decelerationVelocityX)>_||Math.abs(o.__decelerationVelocityY)>_)&&!o.__refreshActive&&o.__startDeceleration(e)):o.options.scrollingComplete()}else 100<e-o.__lastTouchMove&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,o,t,_){var i,l,n,r,a,c,s=this,h=s.__isAnimating;h&&(core.effect.Animate.stop(h),s.__isAnimating=!1),_&&s.options.animating?(s.__scheduledLeft=e,s.__scheduledTop=o,s.__scheduledZoom=t,i=s.__scrollLeft,l=s.__scrollTop,n=s.__zoomLevel,r=e-i,a=o-l,c=t-n,s.__isAnimating=core.effect.Animate.start(function(e,o,t){t&&(s.__scrollLeft=i+r*e,s.__scrollTop=l+a*e,s.__zoomLevel=n+c*e,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel))},function(e){return s.__isAnimating===e},function(e,o,t){o===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||t)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},s.options.animationDuration,h?p:m)):(s.__scheduledLeft=s.__scrollLeft=e,s.__scheduledTop=s.__scrollTop=o,s.__scheduledZoom=s.__zoomLevel=t,s.__callback&&s.__callback(e,o,t),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null)))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(e){var o,t,_,i,l=this,n=(l.options.paging?(o=Math.max(Math.min(l.__scrollLeft,l.__maxScrollLeft),0),t=Math.max(Math.min(l.__scrollTop,l.__maxScrollTop),0),_=l.__clientWidth,i=l.__clientHeight,l.__minDecelerationScrollLeft=Math.floor(o/_)*_,l.__minDecelerationScrollTop=Math.floor(t/i)*i,l.__maxDecelerationScrollLeft=Math.ceil(o/_)*_,l.__maxDecelerationScrollTop=Math.ceil(t/i)*i):(l.__minDecelerationScrollLeft=0,l.__minDecelerationScrollTop=0,l.__maxDecelerationScrollLeft=l.__maxScrollLeft,l.__maxDecelerationScrollTop=l.__maxScrollTop),l.options.snapping?4:.1);l.__isDecelerating=core.effect.Animate.start(function(e,o,t){l.__stepThroughDeceleration(t)},function(){var e=Math.abs(l.__decelerationVelocityX)>=n||Math.abs(l.__decelerationVelocityY)>=n;return e||(l.__didDecelerationComplete=!0),e},function(e,o,t){l.__isDecelerating=!1,l.__didDecelerationComplete&&l.options.scrollingComplete(),l.scrollTo(l.__scrollLeft,l.__scrollTop,l.options.snapping)})},__stepThroughDeceleration:function(e){var o,t,_,i=this,l=i.__scrollLeft+i.__decelerationVelocityX,n=i.__scrollTop+i.__decelerationVelocityY;i.options.bouncing||((o=Math.max(Math.min(i.__maxDecelerationScrollLeft,l),i.__minDecelerationScrollLeft))!==l&&(l=o,i.__decelerationVelocityX=0),(o=Math.max(Math.min(i.__maxDecelerationScrollTop,n),i.__minDecelerationScrollTop))!==n&&(n=o,i.__decelerationVelocityY=0)),e?i.__publish(l,n,i.__zoomLevel):(i.__scrollLeft=l,i.__scrollTop=n),i.options.paging||(i.__decelerationVelocityX*=.95,i.__decelerationVelocityY*=.95),i.options.bouncing&&(e=o=0,t=i.options.penetrationDeceleration,_=i.options.penetrationAcceleration,l<i.__minDecelerationScrollLeft?o=i.__minDecelerationScrollLeft-l:l>i.__maxDecelerationScrollLeft&&(o=i.__maxDecelerationScrollLeft-l),n<i.__minDecelerationScrollTop?e=i.__minDecelerationScrollTop-n:n>i.__maxDecelerationScrollTop&&(e=i.__maxDecelerationScrollTop-n),0!==o&&(o*i.__decelerationVelocityX<=0?i.__decelerationVelocityX+=o*t:i.__decelerationVelocityX=o*_),0!==e&&(e*i.__decelerationVelocityY<=0?i.__decelerationVelocityY+=e*t:i.__decelerationVelocityY=e*_))}};for(e in o)ZyngaScroller.prototype[e]=o[e]}();;
function Scroller(t,i,o){this.container=t,this.list=i,this.options=o||{},this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleScroll=this._handleScroll.bind(this),this.silentScrolling=!1,this.zyngaScroller=new ZyngaScroller(this._handleScroll,{scrollingX:"vertical"!==this.options.direction,scrollingY:"horizontal"!==this.options.direction,bouncing:!!this.options.bouncing,animating:!!this.options.animating,locking:!!this.options.locking,snapping:!!this.options.snapping,animationDuration:void 0!==this.options.animationDuration?this.options.animationDuration:250,scrollingComplete:deferred(this.emits("scrollingEnd"))}),this.setEasing(void 0===this.options.easing||this.options.easing),this.redraw()}extend(Scroller.prototype,EventEmitter),Object.defineProperty(Scroller.prototype,"isDragging",{get:function(){return this.zyngaScroller.getValues().isDragging}}),Scroller._owner="celtra",Scroller.prototype._handleScroll=function(t,i){t=isNaN(t)?0:t,i=isNaN(i)?0:i;var o=this.getMaxScroll();this.currentPosition={left:t,top:i,leftPercent:o.left?t/o.left:0,topPercent:o.top?i/o.top:0},celtra.styler.css(this.list,"transform",ScreenObject.supports3d?"translate3d("+-t+"px, "+-i+"px, 0)":"translate("+-t+"px, "+-i+"px)"),this.scrollbars&&(this.currentPosition.sbTop=this.currentPosition.top/(this.list.size.height-this.container.size.height)*(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeft=this.currentPosition.left/(this.list.size.width-this.container.size.width)*(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this.currentPosition.sbTopPercent=this.currentPosition.sbTop/(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeftPercent=this.currentPosition.sbLeft/(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)),this.silentScrolling||this.emit("scrolling",this.currentPosition)},Scroller.prototype._handleTouchStart=function(t){this.zyngaScroller.doTouchStart(t.touches,t.timeStamp),this.emit("scrollingStart")},Scroller.prototype._handleTouchMove=function(t){this.zyngaScroller.doTouchMove(t.touches,t.timeStamp)},Scroller.prototype._handleTouchEnd=function(t){this.zyngaScroller.doTouchEnd(t.timeStamp)},Scroller.prototype._createScrollbars=function(){var t=document.createElement("div"),i=(addClass(t,"celtra-vertical-scrollbar"),addClass(t,this.options.scrollbarPosition||"none"),this.container.appendChild(t),document.createElement("div")),i=(t.appendChild(i),t.style.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+"px",t.style.backgroundColor=this.options.scrollbarColor,t.style.display=this.list.size.height<=this.container.size.height?"none":"block",document.createElement("div")),o=(addClass(i,"celtra-horizontal-scrollbar"),addClass(i,this.options.scrollbarPosition||"none"),this.container.appendChild(i),document.createElement("div"));i.appendChild(o),i.style.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+"px",i.style.backgroundColor=this.options.scrollbarColor,i.style.display=this.list.size.width<=this.container.size.width?"none":"block",this.scrollbars={vertical:t,horizontal:i,verticalStyle:t.style,horizontalStyle:i.style}},Scroller.prototype.scrollTo=function(t,i,o,e,s,n){this._scroll("scrollTo",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype.scrollBy=function(t,i,o,e,s,n){this._scroll("scrollBy",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype._scroll=function(t,i){i.animate&&("number"==typeof i.duration?this._setAnimationDuration(i.duration):"boolean"==typeof i.duration&&(i.easing=i.duration),"boolean"==typeof i.easing&&this.setEasing(i.easing)),this.once("scrollingEnd",function(){"function"==typeof i.callback&&i.callback()}),this.zyngaScroller[t](i.left,i.top,i.animate),this.emit("scrollingStart")},Scroller.prototype.getMaxScroll=function(){return{left:this.zyngaScroller.__maxScrollLeft,top:this.zyngaScroller.__maxScrollTop}},Scroller.prototype.getCurrentScroll=function(){return this.currentPosition},Scroller.prototype._setAnimationDuration=function(t){this.zyngaScroller.options.animationDuration=t},Scroller.prototype.setEasing=function(_){this.options.easing=_,this.zyngaScroller.__publish=function(t,i,o,e){var s,n,r,l,a,c,h,p,d=this,u=d.__isAnimating;u&&(core.effect.Animate.stop(u),d.__isAnimating=!1),e&&d.options.animating?(d.__scheduledLeft=t,d.__scheduledTop=i,d.__scheduledZoom=o,s=d.__scrollLeft,n=d.__scrollTop,r=d.__zoomLevel,l=t-s,a=i-n,c=o-r,e=function(t,i,o){o&&(d.__scrollLeft=s+l*t,d.__scrollTop=n+a*t,d.__zoomLevel=r+c*t,d.__callback&&d.__callback(d.__scrollLeft,d.__scrollTop,d.__zoomLevel))},h=function(t){return d.__isAnimating===t},p=function(t,i,o){i===d.__isAnimating&&(d.__isAnimating=!1),(d.__didDecelerationComplete||o)&&d.options.scrollingComplete(),d.options.zooming&&(d.__computeScrollMax(),d.__zoomComplete&&(d.__zoomComplete(),d.__zoomComplete=null))},d.__isAnimating=_?core.effect.Animate.start(e,h,p,d.options.animationDuration,u?function(t){return Math.pow(t-1,3)+1}:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}):core.effect.Animate.start(e,h,p,d.options.animationDuration)):(d.__scheduledLeft=d.__scrollLeft=t,d.__scheduledTop=d.__scrollTop=i,d.__scheduledZoom=d.__zoomLevel=o,d.__callback&&d.__callback(t,i,o),d.options.zooming&&(d.__computeScrollMax(),d.__zoomComplete&&(d.__zoomComplete(),d.__zoomComplete=null)))}},Scroller.prototype.redraw=function(){this.container.size={width:this.container.offsetWidth,height:this.container.offsetHeight},this.list.size={width:this.list.offsetWidth,height:this.list.offsetHeight},this.zyngaScroller.setDimensions(this.container.size.width,this.container.size.height,this.list.size.width,this.list.size.height),this.options.snapping&&this._setSnapSize(this.container.size.width,this.container.size.height);var t=this.getMaxScroll();this.zyngaScroller.scrollTo(t.left*this.currentPosition.leftPercent,t.top*this.currentPosition.topPercent,!1),this.scrollbars?(this.scrollbars.verticalStyle.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+"px",this.scrollbars.horizontalStyle.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+"px",this.currentPosition.sbTop=(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10))*this.currentPosition.sbTopPercent,this.currentPosition.sbLeft=(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10))*this.currentPosition.sbLeftPercent,this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)):"outer"!==this.options.scrollbarPosition&&"inner"!==this.options.scrollbarPosition||this._createScrollbars()},Scroller.prototype._renderScrollbars=function(t,i){ScreenObject.allowPositioningAndSizingUsingTransforms?(celtra.styler.css(this.scrollbars.vertical,"transform",ScreenObject.supports3d?"translate3d(0, "+i+"px, 0)":"translate(0, "+i+"px)"),celtra.styler.css(this.scrollbars.horizontal,"transform",ScreenObject.supports3d?"translate3d("+t+"px, 0, 0)":"translate("+t+"px, 0)")):(this.scrollbars.verticalStyle.top=i+"px",this.scrollbars.horizontalStyle.left=t+"px"),(this.container.size.height>=this.list.size.height?(this.scrollbars.verticalStyle.display="none",removeClass):(this.scrollbars.verticalStyle.display="block",addClass))(this.container,"vertical-scrollbar"),(this.container.size.width>=this.list.size.width?(this.scrollbars.horizontalStyle.display="none",removeClass):(this.scrollbars.horizontalStyle.display="block",addClass))(this.container,"horizontal-scrollbar")},Scroller.prototype._setSnapSize=function(t,i){this.zyngaScroller.setSnapSize(t,i)};;
function convertMetersToUnits(e,t){switch(t){case"m":return e;case"mi":return 621371e-9*e;case"km":return e/1e3;case"ft":return 3.28084*e;default:throw"Unknown unit "+t}}function metersToDistanceWithUnits(e,t,n,a){var i,r;switch(t){case"metric":i=convertMetersToUnits(e,"km"),r=a?"km":"kilometers";break;case"imperial":i=convertMetersToUnits(e,"mi"),r=a?"mi":"miles"}var s="auto"===n&&i<.1&&"imperial"===t;return"auto"===n&&i<1&&"metric"===t||"base"===n&&"metric"===t?(i=e,r=a?"m":"meters"):(s||"base"===n&&"imperial"===t)&&(i=convertMetersToUnits(e,"ft"),r=a?"ft":"feet"),{distance:i,unit:r}}function createClustersForIdenticalCoordinates(e){return e.length<2?e:e.reduce(function(e,t){var n,a,i;return e.length?(n=e[e.length-1],i=t,(a=n).lat===i.lat&&a.lng===i.lng?n.size?(n.locations.push(t),n.size++):(i={lat:(a=e.pop()).lat,lng:a.lng,locations:[a,t],size:2},e.push(i)):e.push(t)):e.push(t),e},[])}function sanitizeLocationsData(e){return e.map(function(t){return Object.keys(t).forEach(function(e){"string"==typeof t[e]&&(t[e]=htmlentitize(t[e]))}),t})}!function(e){var n=!1,a=!1,i=[];e._googleMapsCb=function(){n=!(a=!0),i.forEach(function(e){e()}),i=[]},e.loadGoogleMaps=function(e){var t="";a?defer(e):(i.push(e),n||(n=!0,creative.runtimeParams.googleMapsClientKey&&(t="&key="+creative.runtimeParams.googleMapsClientKey),loadJS("https://maps.googleapis.com/maps/api/js?v="+creative.googleMapsJavaScriptVersion+"&libraries=places&channel=Runner&callback=_googleMapsCb"+t)))}}(window);;
function UserLocation(t,i){this._watchId=null,this._TOTAL_GEO_CALL_TIMEOUT=15e3,this._GEO_GPS_SEARCH_TIMEOUT=1e4,this.geolocationOptions={enableHighAccuracy:!0,timeout:this._GEO_GPS_SEARCH_TIMEOUT},this._baseLocation=t,this._allowGpsUnitWithoutInteraction=i,this._watchListeners={},this._watchCtr=1,this._lastPosition={lat:"",lng:""},this._watchErrorCalled=!1}UserLocation.prototype.getLocation=function(i,t,s){var o=function(t){this.unwatchLocation(n),i(t)}.bind(this),a=function(){this.unwatchLocation(n),t()}.bind(this),n=this.watchLocation(o,a,s)},UserLocation.prototype.watchLocation=function(t,i,s){var o,a,n,h=creative.runtimeParams.ipLat,e=creative.runtimeParams.ipLng,c=null!=h&&null!=e;if(s=s||this.geolocationOptions,this._baseLocation.lat&&this._baseLocation.lng)t(this._baseLocation);else{if(navigator.geolocation&&(this._allowGpsUnitWithoutInteraction||creative.getUserInteracted())&&!s.isGeolocationPromptDisabled)return s.timeout=this._GEO_GPS_SEARCH_TIMEOUT,this._watchListeners[this._watchCtr]={success:t,error:i},this._watchId?this._lastPosition.lat&&this._lastPosition.lng?t(this._lastPosition):this._watchErrorCalled&&i():(o=!1,a=function(t){if(!o){for(var i in this._lastPosition={lat:t.coords.latitude,lng:t.coords.longitude},this._watchListeners)this._watchListeners[i].success(this._lastPosition);o=!0}}.bind(this),n=function(){if(!o){for(var t in this._watchErrorCalled=!0,this._watchListeners)c?this._watchListeners[t].success({lat:h,lng:e}):this._watchListeners[t].error();o=!0}}.bind(this),setTimeout(n,this._TOTAL_GEO_CALL_TIMEOUT),this._watchId=navigator.geolocation.watchPosition(a,n,s)),this._watchCtr++;c?t({lat:h,lng:e}):i()}},UserLocation.prototype.unwatchLocation=function(t){for(var i in t&&this._watchListeners[t]&&delete this._watchListeners[t],this._watchListeners)if(this._watchListeners[i])return;this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=null,this._watchErrorCalled=!1)};;
function Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.";var f=p.start("Creative.new"),s=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),d=p.start("Creative.unfreeze");return e=Freezer.unfreeze(e,window,s),d.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId="",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,null!=a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),f.end(),e}Creative.toString=function(){return"[Clazz Creative]"},Creative.prototype.toString=function(){return"[Creative "+this.name+"]"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw"creative is a singleton and was already initialized.";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit("interaction",e)},Creative.prototype.clickedThrough=function(e){this.emit("clickThrough",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t,r={};for(t in this.runtimeParams)0===t.indexOf(e)&&(r[t.slice(e.length)]=this.runtimeParams[t]);return r},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix("user.")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return"authBasis="+creative.runtimeParams.authBasis+"&authToken="+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(t){if(creative.runtimeParams.customAudiences[t])return{userExists:creative.runtimeParams.customAudiences[t].userExists,userData:creative.runtimeParams.customAudiences[t].userData,addUser:function(e){return CustomAudiences.addUser(t,e)},removeUser:function(){return CustomAudiences.removeUser(t)}};throw new Error('Custom audience "'+t+'" is not used by the creative.')}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function o(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}for(var e in this.units){var t=this.units[e],r=(t.name=e,[]);t.variants?t.variants.forEach(function(e){r=r.concat(e.master,e.screens),e.loadingScreen&&(r=[e.loadingScreen].concat(r))}):(r=[t.master].concat(t.screens),t.loadingScreen&&(r=[t.loadingScreen].concat(r))),r.forEach(function(e){e.parentUnit=t,function r(e,n,i,a){e.forEach(function(t){t.parentUnit=a,t.parentScreen=i,t.parentContainer=n,t.getNestedContainers().forEach(function(e){e.parentUnit=a,e.parentScreen=i,e.parentObject=t,r(e.objects,e,i,a),e.scenes&&o(e.scenes,e,i,a)})})}(e.objects,e,e,t),e.scenes&&o(e.scenes,e,e,t)})}},Creative.prototype.track=function(e,t){0<=["firstInteraction","interaction","endCardInteraction","unitCollapsed","creativeDismissed","clickThroughDestinationOpened","firstClickThrough","itemSwiped"].indexOf(e.name)&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,"sdk",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:"creativeRendered"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){e.track({name:"custom",label:t.name}),creative.adapter.sendToEventMonitor("custom",t.triggerId,e.screen.name,null,t.name,e.initiatedBeforeScreenShown()),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:"creativeLoaded",viewability00Measurable:e.observingViewability("00"),viewability501Measurable:e.observingViewability("501"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||"none"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark("creativeLoaded")},Creative.prototype.createUserLocation=function(e){if("undefined"!=typeof UserLocation)return new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e)},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+"?base64json="+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t=0<=["same","new"].indexOf(this.runtimeParams.preferredClickThroughWindow)?this.runtimeParams.preferredClickThroughWindow:"new",e=(creative&&creative.adapter.nesting.hostileIframe&&(t="new"),e&&e.inUserInitiatedIteration),r=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return"new"==t&&e&&!r},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(t){return FeedData.getCustomFields().filter(function(e){return e.name===t})};;
function ExpandableBanner(){}inherit(ExpandableBanner,Creative),ExpandableBanner.toString=function(){return"[Clazz ExpandableBanner]"},ExpandableBanner.prototype.toString=function(){return"[ExpandableBanner "+this.name+"]"},ExpandableBanner.prototype.awake=function(){ExpandableBanner.uber.awake.call(this),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.adapter.getModalUrl=function(e){return creative.getPageUrl(e||"modal.html")}.bind(this),this.units.banner.expandAction=function(e,a,t){this._assertAppearBeforeExpand(),void 0!==a.destinationPage&&null!==a.destinationPage&&(creative.runtimeParams.goToPageAfterExpand=a.destinationPage),e.track({name:"expandRequested"}),e.trackClickThrough(),creative.adapter.expand(t,a)},this.units.banner.dismissAction=function(e,a,t){e.track({name:"creativeDismissed"}),creative.adapter.dismiss(t,a)},this.units.modal.collapseAction=function(e,a,t){e.track({name:"unitCollapsed"}),creative.adapter.collapse(t,a)},this.units.modal.dismissAction=function(e,a,t){e.track({name:"creativeDismissed"}),creative.adapter.dismiss(t,a)},this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.visibleScreen).track({name:"creativeDismissed"})},this.units.banner.userLocation=this.createUserLocation(!1),this.units.modal.userLocation=this.createUserLocation(!0)};;
var Kernel={toString:function(){return"[Clazz Kernel]"},runInParallelAction:function(t,e,n){e.actions.waitForEach(function(e,n){e(t,n)},n)}};Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(t,e,n){for(var r=n,i=e.actions.length-1;0<=i;i--)r=function(e,n){return function(){n(t,e)}}(r,e.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty("executionsLeft")||(n.caller.executionsLeft=n.repeat),0<n.caller.executionsLeft?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(n,t,r){var i=t.repeat;!function e(){if(0==i)return r();-1!=i&&i--;(t.action||nullai)(n,"thumb"===creative.runtimeParams.purpose?r:e)}()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function("ctx","c","unit","screen","variant",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0,l=(null!==n.script.code.match(/http:/)&&this._track("executeJavascriptAction.code"),function(){o?console.warn('Multiple calls made to "c()" from "'+e.initiator.fieldName+'" Execute JS Action'):(t(),o=!0)}.bind(this));a.call(r,e,l,i,c,u)}catch(e){console.error(e.message+"\n"+e.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if((i-=a.weight)<0)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(n,e,t){e.outcomes.forEach(function(e){(e.action||nullai)(n,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=(r.trackExposure(),n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0]);((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0];((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get("Best",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor("trackBestVariantSuccess",n.triggerId,e.screen.name,r.chosenVariant,"",e.initiatedBeforeScreenShown()),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"loadingInsecureContent",featureName:e}))};;
;
var StaticContentMixin={requiresBakingAnimatedClass:!1,getContentDrive(){return"static"},prepareFrame:function(){},hasBakingAnimatedClass(a){return hasClass(a,"baking-animated")},setBakingAnimatedClass(a,i){this.requiresBakingAnimatedClass&&!i?addClass(a,"baking-animated"):!this.requiresBakingAnimatedClass&&i&&removeClass(a,"baking-animated")}};;
function Scene(){}Scene.instances=[],Scene.prototype.awake=function(){this._framesPerSecond=this.framesPerSecond&&null!==this.framesPerSecond?this.framesPerSecond:20,this._framesPerPixel=.1,this._durationInFrames=0,this._durationInMilliseconds=0,this._durationInPixels=0,this._isTimeScene="time"===this.type,this._isReactiveScene="reactiveBanner"===this.type,this._lastUpdateObjectsProgress=0,this._objectVisibilityStates=[],this._claimedObjects=[],this._keyframeAnimations=Object.create(null),this._rawInitialValues=[],this._initSceneOnRenderApiCall=!0,this._suspended=!1,this.fallbackFrameShown=!1,this.forceFallbackFrame=!1,this.intersection=void 0!==this.intersection?this.intersection:50,this.endingMode="string"==typeof this.endingMode?this.endingMode:"lastKeyframe",this.duration="number"==typeof this.duration?this.duration:10,this._appearedBefore=!1,this._isAppearing=!1,this._calculateDurations=this._calculateDurations.bind(this),this._buildKeyframeAnimations=this._buildKeyframeAnimations.bind(this),this._removeAnimatedClass=this._removeAnimatedClass.bind(this),this._renderOnSizeChange=this._renderOnSizeChange.bind(this),this._initPlayer(),this.parentContainer.on("appeared",this._appear.bind(this)),this.parentContainer.on("disappeared",this._dissapear.bind(this)),this.parentContainer.on("resize",this._calculateDurations),this.parentContainer.on("resize",this._buildKeyframeAnimations),this.parentContainer.on("resize",this._renderOnSizeChange),this.parentUnit.on("layoutChanged",this._calculateDurations),this.parentUnit.on("layoutChanged",this._buildKeyframeAnimations),this.parentUnit.on("layoutChanged",this._renderOnSizeChange),Scene.instances.push(this)},Scene._sizeProperties=["width","height"],Scene._positionProperties={horizontal:["left","hcenter","right"],vertical:["top","vcenter","bottom"]},Object.defineProperties(Scene.prototype,{paused:{get:function(){return this._player.paused}},_scenePlayerClazz:{get:function(){return window[this.type.charAt(0).toUpperCase()+this.type.slice(1)+"ScenePlayer"]},configurable:!0}}),Scene.prototype._initPlayer=function(){this._player=new this._scenePlayerClazz(this),this._player.on("stop",this._resetRawInitialValues.bind(this)),this._player.on("end",this._updateRawFinalValuesForAllLayouts.bind(this)),this._player.on("pause",this._removeAnimatedClass),this._player.on("stop",this._removeAnimatedClass)},Scene.prototype._removeAnimatedClass=function(){for(var e in this._claimedObjects)removeClass(this._claimedObjects[e].node,"animated")},Scene.prototype._getMaxFrameNumber=function(){if(this._isTimeScene&&"timelineDuration"===this.endingMode)return this.duration*this._framesPerSecond;var e,t=0;for(e in this.objects){var i,n=this.objects[e],a=this.parentUnit.layoutCurrentIndex;for(i in n.layoutSpecificValues[a])var s=n.layoutSpecificValues[a][i],t=Math.max(t,s.frame)}return t},Scene.prototype._calculateDurations=function(){this._durationInFrames=this._getMaxFrameNumber(),this._durationInMilliseconds=this._durationInFrames/this._framesPerSecond*1e3,this._durationInPixels=this._durationInFrames/this._framesPerPixel},Scene.prototype._captureRawInitialValues=function(e){this._rawInitialValues[e.localId]=[];for(var t=this.parentScreen.parentContainer.layouts.length,i=0;i<t;i++){var n=e.layoutSpecificValues[i];this._rawInitialValues[e.localId][i]=extend({rotation:n.rotation,opacity:n.opacity,hidden:n.hidden},n.position,n.size)}},Scene.prototype._calculateFinalValuesForObject=function(e){var t,i=[];for(t in this.objects){var n=this.objects[t];if(n.target.localId==e.localId)for(var a in n.layoutSpecificValues)for(var s in i[a]=Object.create(null),n.layoutSpecificValues[a]){var r,o=n.layoutSpecificValues[a][s];for(r in o.properties)null!==o.properties[r].value&&(i[a][r]=o.properties[r].value)}}return i},Scene.prototype._updateRawFinalValuesForAllLayouts=function(){if("reverse"!==this.onEnd)for(var e in this._claimedObjects)for(var t=this._claimedObjects[e],i=this._calculateFinalValuesForObject(t),n=this.parentScreen.parentContainer.layouts.length,a=0;a<n;a++){var s=t.layoutSpecificValues[a],r=i[a];Scene._updateLayoutWithValues(s,r)}},Scene.prototype._buildKeyframeAnimations=function(){this._keyframeAnimations=Object.create(null);for(var e=this.parentUnit.layoutCurrentIndex,t=0;t<this.objects.length;t++){for(var i=this.objects[t],n=i.layoutSpecificValues[e],a=(this._keyframeAnimations[i.target.localId]={firstFrameAnimated:!1},n.sort(function(e,t){return e.frame-t.frame}),0),s=Object.create(null),r=0;r<n.length;r++){var o=n[r],a=0===this._durationInFrames?0:o.frame/this._durationInFrames*100;s[String(a)]=Scene._extractPropertyValues(o.properties),0==~~r&&(this._keyframeAnimations[i.target.localId].startKeyframe=a)}this._keyframeAnimations[i.target.localId].endKeyframe=a;var l,c=KeyframeAnimation.getUsedProperties(s),h=(this._rawInitialValues[i.target.localId]||this._captureRawInitialValues(i.target),this._rawInitialValues[i.target.localId][e]),p=(Scene._fillInInitialAndDynamicKeyframeValues(s,h,c),i.target.parentContainer.size);for(l in s)Scene._keyframeWithUnitsToKeyframePx(s[l],p);h=new KeyframeAnimation(s,null,c);this._keyframeAnimations[i.target.localId].animation=h}},Scene.prototype._dissapear=function(){this._player.paused&&!this.fallbackFrameShown||this._suspendScene(),this._isAppearing=!1},Scene.prototype._appear=function(){this._appearedBefore||(creative.adapter.canMeasureViewportPlacementGeometry?this.parentScreen.parentContainer.inView.on("areaInViewRatioChanged",this._handleAreaInViewRatioChanged.bind(this)):creative.adapter.containerViewabilityObserver&&creative.adapter.on("containerViewableChange",this._handleContainerViewableChange.bind(this))),(this._player.supportsAutoplay&&this.autoPlay&&!this._appearedBefore||this._suspended)&&this._playSceneOrDisplayFallbackFrame(),this._appearedBefore=!0,this._isAppearing=!0},Scene.prototype._initAnimations=function(){for(var e in this.objects){e=this.objects[e].target;this.claimObject(e)}this._calculateDurations(),this._buildKeyframeAnimations()},Scene.prototype._playSceneOrDisplayFallbackFrame=function(){this._initSceneOnRenderApiCall||this._resetRawInitialValues(),this._initSceneOnRenderApiCall=!0,this.fallbackFrameShown=this._player.supportsFallback&&(!creative.adapter.assumeScrollSupported||this.forceFallbackFrame),!this._player.paused&&this.fallbackFrameShown&&this._player.pause(),this._suspended||this._initAnimations(),this.fallbackFrameShown?this._player.displayFallbackFrame(this.fallbackFrame/this._durationInFrames*100):this._player.play(),this._suspended=!1},Scene.prototype._pauseScene=function(){this._player.pause()},Scene.prototype._stopScene=function(){this._player.stop()},Scene.prototype._resetRawInitialValues=function(){for(var e in this.objects)delete this._rawInitialValues[this.objects[e].target.localId]},Scene.prototype._suspendScene=function(){this._player.pause(),this._suspended=!0},Scene.prototype._handleAreaInViewRatioChanged=function(e){0<e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():0!==e||this._player.paused||this._suspendScene()},Scene.prototype._handleContainerViewableChange=function(e){e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():e||this._player.paused||this._suspendScene()},Scene.prototype.getDuration=function(){return{frames:this._durationInFrames,pixels:this._durationInPixels,milliseconds:this._durationInMilliseconds}},Scene.prototype._calculateKeyframeStyleAttributes=function(e){var t=this._claimedObjects.indexOf(e);return-1===t?{}:(t=this._objectVisibilityStates[t],e=e._calculateNewStyleAttributes(),t.isDirty("transition")&&("show"===t.transition?e.display="block":"hide"===t.transition&&(e.display="none")),e)},Scene.prototype.updateObjects=function(e){for(var t in this._claimedObjects){var i=this._claimedObjects[t];if(i.node){if(i.isAnimated){var n=this._keyframeAnimations[i.localId],a=e>=n.startKeyframe,s=e<=n.endKeyframe||!n.firstFrameAnimated,r=this._lastUpdateObjectsProgress>n.startKeyframe&&e<n.startKeyframe,o=this._lastUpdateObjectsProgress<n.endKeyframe&&e>n.endKeyframe,r=this._isReactiveScene&&(r||o);if(a&&s||this.fallbackFrameShown||r)n.firstFrameAnimated=!0,hasClass(i.node,"animated")||addClass(i.node,"animated");else{if(!hasClass(i.node,"animated"))continue;removeClass(i.node,"animated")}}o=this._keyframeAnimations[i.localId].animation.getValuesAt(e);Scene._updateLayoutWithValues(i.layoutCurrent,o,this._objectVisibilityStates[t]),i._keyframeStyle=this._calculateKeyframeStyleAttributes(i)}}this._lastUpdateObjectsProgress=e},Scene.prototype.renderObjects=function(){for(var e in this._claimedObjects){var t=this._claimedObjects[e];t.node&&((e=this._objectVisibilityStates[e]).isDirty("transition")&&("show"===e.transition?t.showAction(null,{},noop):"hide"===e.transition&&t.hideAction(null,{},noop),e.markClean("transition")),t._applyStyles(t.node,t._keyframeStyle),t.redrawSceneLayout())}},Scene.prototype.getPlayer=function(){return this._player},Scene.prototype.claimObject=function(e){if(-1===this._claimedObjects.indexOf(e)){for(var t=0;t<Scene.instances.length;t++){var i=Scene.instances[t];i!==this&&(i.releaseObject(e),delete this._rawInitialValues[e.localId])}this._claimedObjects.push(e),this._objectVisibilityStates.push(new StateObject({transition:void 0}))}e._keyframeStyle=e._calculateNewStyleAttributes(),Scene._stopScenePlayersWithNoClaimedObjects()},Scene.prototype.releaseObject=function(e){e=this._claimedObjects.indexOf(e);this._initSceneOnRenderApiCall=!0,-1!==e&&(delete this._claimedObjects[e]._keyframeStyle,this._claimedObjects=this._claimedObjects.slice(0,e).concat(this._claimedObjects.slice(e+1)),this._objectVisibilityStates=this._objectVisibilityStates.slice(0,e).concat(this._objectVisibilityStates.slice(e+1)))},Scene.prototype.renderFirstFrame=function(){this._initAnimations(),this._renderAtProgress(0)},Scene.prototype._renderAtProgress=function(e){e=this.fallbackFrameShown?this.fallbackFrame/this._durationInFrames*100:void 0!==e?e:this._player.progress,this.updateObjects(e),this.renderObjects()},Scene.prototype._renderOnSizeChange=function(e){this._player.paused&&0<this._claimedObjects.length&&(this._renderAtProgress(e),this._removeAnimatedClass())},Scene.prototype.renderAtProgress=function(e){this._player.paused&&void 0!==e&&(this._initSceneOnRenderApiCall&&(this._initSceneOnRenderApiCall=!1,this._initAnimations()),this._renderAtProgress(e))},Scene.prototype.playSceneAction=function(e,t,i){var n=-1===["repeat","reverse"].indexOf(this.onEnd),a="repeat"==this.onEnd&&!isNaN(this.onEndRepeatCount)&&0<this.onEndRepeatCount,s="reverse"==this.onEnd&&!isNaN(this.onEndReverseCount)&&0<this.onEndReverseCount,a=this.onEndWaitForCount&&(a||s);n||a?(this._player.once("stop",i),this._playSceneOrDisplayFallbackFrame()):(this._playSceneOrDisplayFallbackFrame(),i())},Scene.prototype.pauseSceneAction=function(e,t,i){"time"===this.type&&(this._pauseScene(),i())},Scene.prototype.stopSceneAction=function(e,t,i){"time"===this.type&&(this._stopScene(),i())},Scene.prototype.resetAction=function(e,t,i){this._player&&(this._stopScene(),this._player.destroy()),this._initPlayer(),this._suspended=!1,this._claimedObjects.forEach(function(e){this.releaseObject(e)},this),i()},Scene._extractPropertyValues=function(e){var t,i=Object.create(null);for(t in e){var n=e[t].timingFunction;n&&(n.instance=Scene._getTimingFunctionByName(n.id)),i[t]={value:e[t].value,timingFunction:n}}return i},Scene._keyframeWithUnitsToKeyframePx=function(e,t){for(var i,n=0;n<Scene._sizeProperties.length;n++){var a,s,r=Scene._sizeProperties[n];r in e&&(a=e[r].value,s=parseFloat(a),isNaN(s)||(-1<a.indexOf("%")&&(s=s/100*t[r]),e[r].value=s))}for(i in Scene._positionProperties)for(var o="horizontal"==i?"width":"height",l=Scene._positionProperties[i],c=0;c<l.length;c++){var h,p,d=l[c];d in e&&(h=e[d].value,p=parseFloat(h),isNaN(p)||(-1<h.indexOf("%")&&(p=p/100*t[o]),e[d].value=p))}},Scene._getTimingFunctionByName=function(e){return e?AnimationTimingFunctions[camelize(e)]:null},Scene._fillInInitialAndDynamicKeyframeValues=function(e,t,i){var n,a,s=Object.keys(e),r=Math.min.apply(null,s);for(n in 0<r&&(e[r=0]=Object.create(null)),t)!e[r][n]&&-1<i.indexOf(n)&&(e[r][n]={value:t[n],timingFunction:{id:"none",instance:Scene._getTimingFunctionByName("none")}});for(a in e)for(var o in e[a])e[a][o]&&null===e[a][o].value&&(e[a][o].value=t[o])},Scene._ensureSizeOrPositionValueHasUnits=function(e){return-1<(e=String(e)).indexOf("%")||-1<e.indexOf("px")?e:e+"px"},Scene._calcChangedPosition=function(e,t){var i,n=extend({},e),a=!1;for(i in Scene._positionProperties)for(var s=Scene._positionProperties[i],r=0;r<s.length;r++){var o=s[r];if(o in t){for(var l=0;l<s.length;l++)delete n[s[l]];n[o]=Scene._ensureSizeOrPositionValueHasUnits(t[o]),a=!0}}return a?n:null},Scene._updateLayoutWithValues=function(e,t,i){var n=Scene._calcChangedPosition(e.position,t);n&&(e.position=n),"width"in t&&(e.size.width=Scene._ensureSizeOrPositionValueHasUnits(t.width)),"height"in t&&(e.size.height=Scene._ensureSizeOrPositionValueHasUnits(t.height)),"rotation"in t&&(e.rotation=t.rotation),"opacity"in t&&(e.opacity=t.opacity),"hidden"in t&&(i?e.hidden&&!t.hidden?i.transition="show":!e.hidden&&t.hidden&&(i.transition="hide"):e.hidden=t.hidden)},Scene._stopScenePlayersWithNoClaimedObjects=function(){for(var e=0;e<Scene.instances.length;e++){var t=Scene.instances[e];0!=t._claimedObjects.length||t.paused||t._player.stop()}};;
function View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once("appeared",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw"Starting loads after the view has already finished loading?";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw"decrementLoadingCount called while not loading!";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(e instanceof File)return"function"==typeof t?(i=t,t={}):void 0===t&&(t={}),{settings:t,callback:i||noop};throw"file is not a File"},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a=(this.incrementLoadingCount(),creative.perf.start("View.preloadImage",{uri:e.getUrl(n.settings.creativeUnitVariantId)}));this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),t="batching"===creative.runtimeParams.variantChoices.BatchComponentAssets||n.settings.preferBatching,a=new Image,o=!1;return e.getDataUri({preferBatching:t,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){o||(n.settings.crossOrigin&&(a.crossOrigin=n.settings.crossOrigin),a.onload=a.onerror=function(){a.onload=a.onerror=null,n.callback(a,e)},a.src=e)}),function(){o=!0,a.onload=a.onerror=null,a.src=""}},View.prototype.finishedLoading=function(){this.emit("loaded")},Object.defineProperty(View.prototype,"loaded",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,"loading",{get:function(){return 0<this._loadingCount}}),View.prototype.createNode=function(){this.on("loaded",creative.perf.start("View.load",{clazz:this.constructor.name,name:this.name}).end);var e="undefined"!=typeof creative&&creative.runtimeParams&&"1"==creative.runtimeParams.useComponentNameAsDataAttribute,t=document.createElement("div");"undefined"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(t.style.touchAction="manipulation"),this.localId&&(t.id="celtra-object-"+this.localId);for(var i=this.constructor;i;i=i.uber?i.uber.constructor:void 0){var n=i.name;n.endsWith("ECD")&&(n=n.substring(0,n.length-3)),addClass(t,"celtra"+n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}))}return e&&"string"==typeof this.name&&t.setAttribute("data-object-name",this.name),t},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,"View.getNode defer finishedLoadingCallback",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,"View.getNode defer decrementLoadingCount",useAsap()))),this.node},Object.defineProperty(View.prototype,"isAppearing",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,"hasAppearedAtLeastOnce",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e="View APPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit("appeared"))},View.prototype.disappear=function(){var e="View DISAPPEAR called on "+this.constructor.name+" "+this.localId+" (name="+this.name+")";this.parentContainer&&(e+=" from "+this.parentContainer.constructor.name+" "+this.parentContainer.localId+" (name="+this.parentContainer.name+")"),Logger("events.appear").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit("disappeared"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:"viewShown",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;
BaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=(e.message=removeHtmlTags(e.message),this._calculateModalDialogActualHeight(e));a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement("alert",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement("prompt",e,t):t(prompt(removeHtmlTags(e.message)))},BaseCreativeUnit.prototype._getUniqueId=function(){return(new Date).getTime()+Math.random()},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(r,s,o){var d=this._getUniqueId(),e={};e[d]={attachment:"node",parentNode:this.node,positioning:"screen",type:"layer"},creative.adapter.createPlacements(e,function(){var t,e,a,i,l,n;window&&((t=creative.adapter.placements[d]).setZIndex("max"),t.setSize("100%","100%"),t.setPosition(0,0),(e=t.createElement("link")).rel="stylesheet",e.type="text/css",e.href=creative.resourceUrl+"runner-min/clazzes/ModalDialogs-Overlay.css",t.getContainer().appendChild(e),e=t.createElement("div"),addClass(e,"celtra-alert"),e.style.display="none",l=t.createElement("div"),addClass(l,"celtra-alert-dark-overlay"),e.appendChild(l),this.preventScroll(e),a=t.createElement("div"),addClass(a,"celtra-alert-box"),s.title&&""!=s.title&&(l=t.createElement("h1"),addClass(l,"celtra-alert-title"),l.innerHTML=s.title,a.appendChild(l)),s.title&&""!=s.title&&s.message&&""!=s.message&&(l=t.createElement("hr"),addClass(l,"celtra-alert-dark-line"),a.appendChild(l),l=t.createElement("hr"),addClass(l,"celtra-alert-light-line"),a.appendChild(l)),s.message&&""!=s.message&&(l=t.createElement("div"),addClass(l,"celtra-alert-message"),l.innerHTML=s.message,l.setAttribute("dir","auto"),"auto"!==l.dir&&(l.dir=guessWritingDirection(s.message)||"ltr"),a.appendChild(l)),"prompt"==r&&(i=t.createElement("input"),addClass(i,"celtra-alert-input"),i.value=s.defaultValue||"",a.appendChild(i),attach(i,"keypress",function(e){13==e.keyCode&&(creative.adapter.destroyPlacement(d),t=null,o(i.value))})),l=t.createElement("div"),addClass(l,"celtra-alert-ok"),l.innerHTML="OK",a.appendChild(l),this.preventScroll(a),once(l,"touchend",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),t=null,"prompt"==r?o(i.value):o()},!1),"prompt"==r&&s.showCancel&&(addClass(l,"with-cancel"),n=t.createElement("div"),addClass(n,"celtra-alert-cancel"),n.innerHTML="CANCEL",a.appendChild(n),attach(l,"touchstart",function(e){e.preventDefault(),e.stopPropagation()},!1),once(n,"touchend",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),o(t=null)},!1)),e.appendChild(a),t.populate(e,function(){t.show();var e=setInterval(function(){"absolute"===celtra.styler.computedCSS(a,"position")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(a,"height"),10)+parseInt(celtra.styler.computedCSS(a,"paddingTop"),10)+parseInt(celtra.styler.computedCSS(a,"paddingBottom"),10),a.style.marginTop=-computedBoxHeight/2+"px",a.style.opacity=1,clearInterval(e),e=null)},100)}))}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement("div");t.style.cssText="visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;",t.innerText=e.message,this.node.appendChild(t);e=parseInt(window.getComputedStyle(t).getPropertyValue("height"),10)+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),e},BaseCreativeUnit.prototype.preventScroll=function(t){["mousewheel","touchmove"].forEach(function(e){attach(t,e,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;
function CreativeUnit(){}inherit(CreativeUnit,BaseCreativeUnit),extend(CreativeUnit.prototype,ScreenTransitioner),extend(CreativeUnit.prototype,FeedImageOptimizationTrait),CreativeUnit.IGNORABLES=BaseCreativeUnit.IGNORABLES,CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.toString=function(){return"[Clazz CreativeUnit]"},CreativeUnit.prototype.toString=function(){return"[CreativeUnit "+this.name+" ("+this.localId+")]"},Object.defineProperty(CreativeUnit.prototype,"size",{get:function(){var t=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),t.width,t.height),"responsive"===this.sizing?{width:t.width,height:t.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,"unitAlignment",{get:function(){return void 0===this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,"layoutCurrent",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,"hasOverflow",{get:function(){return 0<this.screens.concat([this.master]).filter(function(t){return t.showOverflow}).length}}),Object.defineProperty(CreativeUnit.prototype,"hasScreens",{get:function(){return 0<this.screens.length}}),Object.defineProperty(CreativeUnit.prototype,"currentScreen",{set:function(t){this._currentScreen!==t&&(this._currentScreen=t,this.emit("shareableStateChanged"))},get:function(){return this._currentScreen}}),CreativeUnit.prototype._getDestinationScreen=function(){var t=this.hasScreens?this.screens[0]:this.master;if("modal"==this.name&&void 0!==creative.runtimeParams.goToPageAfterExpand){var e=creative.runtimeParams.goToPageAfterExpand;if("string"!=typeof e)throw new TypeError("Only string type is allowed to reference destination screen!");var i=this.screens.filter(function(t){return t.title===e});0<i.length&&(t=i[0])}return t},CreativeUnit.prototype.awake=function(){var t=this;CreativeUnit.uber.awake.call(this),this._currentScreen=null,this.visibleScreen=null,this.overflowsY=!1,this.layoutCurrentIndex=null,this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(t,e){t.objects.forEach(function(t){t.zIndex+=ScreenObject._zIndexOffset})}),void 0===this.backgroundColor&&(this.backgroundColor="#000000"),void 0===this.usePlaceboBar&&(this.usePlaceboBar=!1),void 0===this.showCloseButton&&(this.showCloseButton=!1),void 0===this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal="left"),this.on("_firstScreenLoaded",function(){t.placeboBar&&(t.placeboBar.parentNode.removeChild(t.placeboBar),t.placeboBar=null),this.initiateScreenTransition(this._getDestinationScreen())}.bind(this)),this.onAll("_firstScreenLoaded _unitFirstShown",function(){this.goToScreen(this._getDestinationScreen(),null)}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios()},CreativeUnit.prototype.setAvailableSize=function(t,e){var i=CreativeUnit.uber.setAvailableSize.apply(this,arguments),n=this._getOrientation(),o=this.layouts[this.layoutCurrentIndex],r=(this._updateActiveLayout(n,t,e),this.updateWindowMetrics(n,t,e),this._previousOrientation&&n!=this._previousOrientation),o=o&&o.orientation!=this.layoutCurrent.orientation;(r||o)&&this.triggerOrientationChange(),this._previousOrientation=n,(i||o)&&this.emit("resize")},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180==0?"portrait":"landscape"},CreativeUnit.prototype._updateActiveLayout=function(e,i,n){var t=this.layouts.slice(),o=this.layoutCurrentIndex;this.layouts[o];t.forEach(function(t){t.sortIndex=0,"independent"==t.orientation?t.sortIndex+=1:t.orientation!=e&&(t.sortIndex+=4e3),t.minSize.width>i&&(t.sortIndex+=2e3),t.minSize.height>n&&(t.sortIndex+=2e3),t.sortIndex+=Math.abs(t.minSize.width-i)+Math.abs(t.minSize.height-n)}),t.sort(function(t,e){return t.sortIndex-e.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(t[0]),o!=this.layoutCurrentIndex&&this.emit("layoutChanged")},CreativeUnit.prototype.enterRenderTree=function(){var t;this._isRendering||(this._isRendering=!0,t=this.getAvailableSize(),this.updateWindowMetrics(this._getOrientation(),t.width,t.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master),void 0,void 0,useAsap()):this.once("_firstScreenLoaded",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen),void 0,void 0,useAsap()),this.hacks.triggerBlurWhenTappingOutsideOfInputs&&(attach(this.node,"touchstart",function(t){-1==["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&null!=this.lastInputElementFocused&&this.lastInputElementFocused.blur()}.bind(this),!0),attach(this.node,"focus",function(t){-1<["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=t.target)}.bind(this),!0),attach(this.node,"blur",function(t){-1<["INPUT","TEXTAREA","SELECT"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=null)}.bind(this),!0)))},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw("Cannot show the unit before it has finished loading."),this.isAppearing&&Creative._throw("The unit is already appearing."),this.node.parentNode||Creative._throw("Creative unit must be added to DOM before show() is called. Animations will start on show()."),Logger("unit").log("Showing "+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this.orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit("_unitFirstShown"))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw("The unit is not appearing, can not disappear."),Logger("unit").log("Hiding "+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){var i,n,t=this.unitDiv=CreativeUnit.uber.createNode.call(this),e=(t.id="celtra-"+this.name.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()}),Color.isGradient(this.backgroundColor)?addCssRule("#"+t.id,Color.createGradientStyle(this.backgroundColor)):t.style.backgroundColor=this.backgroundColor,t.style.overflow=this.master.showOverflow?"visible":"hidden",this.screenContainer=document.createElement("div"),this.screenContainer.className="celtra-screen-container",this.screenContainer.style.position="absolute",t.appendChild(this.screenContainer),this.screenHolder=document.createElement("div"),this.screenHolder.className="celtra-screen-holder",this.screenHolder.style.width="100%",this.screenHolder.style.height="100%",this.screenContainer.appendChild(this.screenHolder),this.borderColor&&0<this.borderSize&&((e=document.createElement("div")).className="celtra-creative-border",e.style.borderColor=this.borderColor,e.style.borderWidth=this.borderSize+"px",t.appendChild(e)),t.style.position="absolute",this.usePlaceboBar&&(e=this.loadingScreen&&this.loadingScreen.loaderColor||"white",this.placeboBar=new PlaceboBar(5e3,.9,200,e),this.screenContainer.appendChild(this.placeboBar)),this.showCloseButton&&(this.closeAction||Creative._throw("Close button requested, but no close action defined?"),this.closeButtonType&&"text"===this.closeButtonType?((i=document.createElement("div")).className="celtra-close-button touchable celtra-close-button-text",i.textContent=this.closeButtonText,i.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(i)):(i=document.createElement("img"),n=document.createElement("img"),this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(i.style.width=n.style.width=this.closeButtonWidth+"px",i.style.height=n.style.height=this.closeButtonHeight+"px")):(this.closeButtonUp=new File("runner/clazzes/CreativeUnit/close-up.svg"),this.closeButtonDown=new File("runner/clazzes/CreativeUnit/close-down.svg")),i.className="celtra-close-button touchable celtra-close-button-up",this._preloadImage(this.closeButtonUp,function(t,e){i.src=e}),n.className="celtra-close-button celtra-close-button-down",this._preloadImage(this.closeButtonDown,function(t,e){n.src=e}),this.closeButtonImage=i,this.closeButtonImagePressed=n,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)),attach(i,"tap",function(){var t=this.currentScreen||this.visibleScreen;this.closeAction(t?new ActionContext(t,!0):null,{},noop)}.bind(this),!1)),[]),o=(e.push({name:"loading",fun:function(t){var e;this.loadingScreen?(e=creative.perf.start("CreativeUnit.loadingScreen"),this.loadingScreen.getNode(function(){defer(function(){e.end(),this.initiateScreenTransition(this.loadingScreen),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer loading phase completion",useAsap())}.bind(this))):t(!1)}.bind(this)}),e.push({name:"interactive",fun:function(t){var e=creative.perf.start("CreativeUnit.firstScreenLoaded"),i=this.hasScreens?2:1,n=function(){--i||defer(function(){e.end(),defer(this.emits("_firstScreenLoaded"),0,"CreativeUnit.createNode emit _firstScreenLoaded",useAsap()),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,"CreativeUnit.createNode defer onScreenLoaded",useAsap())}.bind(this);this.hasScreens&&this._getDestinationScreen().getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount(),!1),r=function(){o||Creative._throw("Unit still not ready to show after last phase?!")};return e.reverse().forEach(function(e){var i=r;r=function(){Logger("unit").log("Phase '"+e.name+"' started."),e.fun(function(t){Logger("unit").log("Phase '"+e.name+"' finished, "+(t?"DID":"DID NOT")+" draw something."),t&&!o&&(o=!0,this.decrementLoadingCount()),i()}.bind(this))}.bind(this)}.bind(this)),r(),t},CreativeUnit.prototype.getAccessibilityProperties=function(){return this.accessibility},CreativeUnit.prototype._repositionCloseButton=function(t,e,i){var n,o,r;function s(t){return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}this.closeButtonImage&&((o=this.hasOverflow||this.orientationPrompt&&"none"!=this.orientationPrompt.style.display||(r=this.closeButtonImage,o=this.screenContainer,n=s(n=this.unitDiv),o=s(o),(r=s(r)).left=o.left+o.width-r.width,r.top=o.top,!(n.left<=r.left&&r.left+r.width-1<n.left+n.width&&n.top<=r.top&&r.top+r.height-1<n.top+n.height))?this.unitDiv:this.screenContainer)!==(r=this.closeButtonImage.parentNode)&&(r&&(r.removeChild(this.closeButtonImage),r.removeChild(this.closeButtonImagePressed)),o.appendChild(this.closeButtonImage),o.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(/iP(hone|od)/)&&ios("7")&&creative.adapter.hasDeadZones&&(this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=("landscape"==t?20:0)+"px"))},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange(),android()&&this.hideKeyboard()},CreativeUnit.prototype.hideKeyboard=function(){this.unitDiv&&[].slice.call(this.unitDiv.querySelectorAll("input,select,textarea")).forEach(function(t){t.blur()})},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){var s;this.unitDiv&&!this.orientationPrompt&&"thumb"!==creative.runtimeParams.purpose&&(this.orientationPrompt=document.createElement("img"),this.orientationPrompt.style.cssText="display: none; position: absolute; left: 50%; top: 50%; z-index: 999999",(s=this).orientationPromptImage?this.loaded||this._preloadImage(this.orientationPromptImage,function(t,e){var i=s.orientationPromptImage.width,n=s.orientationPromptImage.height,o=Math.round(i/2),r=Math.round(n/2);s.orientationPrompt.style.cssText+="margin-left: -"+o+"px; margin-top: -"+r+"px; width: "+i+"px; height: "+n+"px;",s.orientationPrompt.src=e}):(this.orientationPrompt.style.cssText+="margin-left: -640px; margin-top: -640px;",celtra.styler.css(this.orientationPrompt,"transformOrigin","50% 50%"),celtra.styler.css(this.orientationPrompt,"transform","scale(0.80)"),this.loaded||this._preloadImage(new File("runner/rotate-screen_tablet_01.png"),function(t,e){s.orientationPrompt.src=e})),this.unitDiv.appendChild(this.orientationPrompt))},CreativeUnit.prototype._updateSize=function(){var t=function(t,e,i){"left"==e?(t.style.left="0",t.style.marginLeft="",t.style.right="auto"):"right"==e?(t.style.left="auto",t.style.marginLeft="",t.style.right="0"):(t.style.left="50%",t.style.marginLeft="-"+this.size.width/2+"px",t.style.right="auto"),"top"==i?(t.style.top="0",t.style.marginTop="",t.style.bottom="auto"):"bottom"==i?(t.style.top="auto",t.style.marginTop="",t.style.bottom="0"):(t.style.top="50%",t.style.marginTop="-"+this.size.height/2+"px",t.style.bottom="auto")}.bind(this);"responsive"===this.sizing?(this.unitDiv.style.width="100%",this.unitDiv.style.height="100%",this.screenContainer.style.width="100%",this.screenContainer.style.height="100%"):this.fillsContainer?(this.unitDiv.style.width="100%",this.unitDiv.style.height=this.overflowsY?this.size.height+"px":"100%",this.screenContainer.style.width=this.size.width+"px",this.screenContainer.style.height=this.size.height+"px",t(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+"px",this.unitDiv.style.height=this.size.height+"px",t(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width="100%",this.screenContainer.style.height="100%")},CreativeUnit.prototype.updateWindowMetrics=function(t,e,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(t,e,i),setTimeout(function(t,e,i){this._repositionCloseButton(t,e,i)}.bind(this),0,t,e,i))},CreativeUnit.prototype.setCorrectOrientation=function(t){this._correctOrientation=t},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(t,e,i){var n;this.orientationPrompt&&(n=this.orientation,(n=this._correctOrientation?this._correctOrientation:n)!==t?(this.orientationPrompt.style.display="block",this.orientationPrompt.offsetWidth,!0!==this.orientationLockIsOn&&this.emit("orientationLockChanged",!0),this.orientationLockIsOn=!0):(!(this.orientationPrompt.style.display="none")!==this.orientationLockIsOn&&this.emit("orientationLockChanged",!1),this.orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit("_unitFirstShown"))))},CreativeUnit.prototype.getMasterVideo=function(){var e=null;return this.master.objects.some(function(t){if("MasterVideo"===t.constructor.name)return e=t,!0}),e},CreativeUnit.prototype.playMasterVideoAction=function(t,e,i){this.getMasterVideo().playAction(t,e,i)},CreativeUnit.prototype.pauseMasterVideoAction=function(t,e,i){this.getMasterVideo().pauseAction(t,e,i)},CreativeUnit.prototype.muteMasterVideoAction=function(t,e,i){this.getMasterVideo().muteAction(t,e,i)},CreativeUnit.prototype.unMuteMasterVideoAction=function(t,e,i){this.getMasterVideo().unMuteAction(t,e,i)},CreativeUnit.prototype.goToScreenAction=function(t,e,i){if(!e.screen)return console.warn("Go to screen action is called without a destination page!"),i&&i();extend(e,e.animation),"LeanLoading"===this._getDestinationScreen().title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e.screen,e,i)}.bind(this)):this.goToScreen(e.screen,e,i)},CreativeUnit.prototype.findAll=function(e){var i=[];return this.screens.forEach(function(t){void 0!==e&&t.title!=e||i.push(t),t.findAll(e).forEach(function(t){i.push(t)})}),i},CreativeUnit.prototype.findByType=function(e){var i=[];return void 0===e?result:(this.screens.forEach(function(t){t.findByType(e).forEach(function(t){i.push(t)})}),i)};;
function ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return"[Clazz ScreenObjectContainer]"},ScreenObjectContainer.prototype.toString=function(){return"[ScreenObjectContainer "+this.localId+"]"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;
function Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return"[Clazz Screen]"},Screen.prototype.toString=function(){return"[Screen "+this.localId+" (name="+this.title+")]"},Object.defineProperty(Screen.prototype,"name",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,"size",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,"parentUnitVariant",{get:function(){return"CreativeUnitWithVariants"==this.parentUnit.constructor.name||"CreativeUnitWithVariantsECD"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,"parentContainer",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger("unit").log("Starting to load "+this),!this.isLoadingScreen()&&creative.experiments.get("TrackingLoadingTimes")&&this.once("loaded",creative.aggregatorTracking.trackAggregatorMagicTriplet("screenLoad",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?"First":this.isMasterScreen()?"Master":"Other"},3e4)),this.nestedSceneHosts=[];var t=Screen.uber.createNode.call(this);return t.style.overflow=this.showOverflow?"visible":"hidden",this.objects.forEach(function(e){this.incrementLoadingCount(),t.appendChild(e.getNode(this.decrementLoadingCount))},this),this.parentContainer.on("resize",this._updateSize),t.style.width=t.style.height="100%",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),t},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce,t=(this.appearedAtLeastOnce=!0,new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}));this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:"screenShown"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers("firstAppear",null,function(){defer(function(){this.fireTriggers("appear",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers("appear",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers("shake")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on("shake",this.handleShake),this.shakeListener.on("shakeFallback",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off("shake",this.handleShake),this.shakeListener.off("shakeFallback",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){var n;this.parentUnit.currentScreen===this&&(n=new ActionContext(this,!1),this.fireTriggers("shake",function(e,t){var i=1e3*(void 0!==e.fallbackEmitDelay?e.fallbackEmitDelay:2);return void 0===e.fallbackCustomActionSet||"event-actions"===e.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(n,{localId:t.localId},noop)}.bind(this),i):setTimeout(function(){this.triggerActionByLocalId(n,{localId:e.fallbackCustomActionSet},noop)}.bind(this),i),!1}.bind(this),null,n))},Screen.prototype.handleShake=function(n){var e;this.parentUnit.currentScreen===this&&(e=new ActionContext(this,!1),this.fireTriggers("shake",function(e,t){var i=!1;return!!(e.direction&&-1<e.direction.indexOf(n))&&(clearTimeout(t.shakeTimeout),t.shakeStartTime||(t.shakeStartTime=new Date),e=e.duration&&(new Date).getTime()-t.shakeStartTime.getTime()>=e.duration,t.shakeTimeout=setTimeout(function(){delete t.shakeStartTime,t.triggered=!1},500),e&&!t.triggered&&(t.triggered=i=!0),i)}.bind(this),null,e))},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit("exitedRenderTree"))},Screen.prototype._updateSize=function(){this.emit("resize")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger("unit").log("Finished loading "+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers("beforeAppear",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers("orientationChange",null,e)},Screen.prototype.getMaxZIndex=function(){var t=0;return this.objects.forEach(function(e){e.zIndex>t&&(t=e.zIndex)}),t},Screen.prototype.inViewTriggerSetup=function(){var t=!1,i=creative&&creative.adapter&&creative.adapter.adBehavior.subpixelScrollable;this.triggers.forEach(function(e){i&&"enterView"===e.type&&e.parameters&&100==e.parameters.area&&(e.parameters.area=99.9),"enterView"!==e.type&&"leaveView"!==e.type||(t=!0,this.inViewAreaRatio=0)},this),t&&this.inView.on("areaInViewRatioChanged",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i="enterView",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i="leaveView",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r},null,t,a),this._getTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun("beforeAppear",null,noop,t);return(i=e?i.concat(this.fireTriggersDryRun("firstAppear",null,noop,t)):i).concat(this.fireTriggersDryRun("appear",null,noop,t))},Screen.prototype.resetAction=function(t,i,e){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),e()}.bind(this);r?n.forEach(function(e){e.resetAction(t,i,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){var n=function(e){var t,i,n=e.length;for(;0!==n;)i=Math.floor(Math.random()*n),t=e[--n],e[n]=e[i],e[i]=t;return e}(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,i){e.layoutSpecificValues.forEach(function(e,t){e.position=n[i][t].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;
function ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android("4.0"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return"[Clazz ScreenObject]"},ScreenObject.prototype.toString=function(){return"[ScreenObject "+this.localId+" (name="+this.name+")]"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android("2.2","2.3")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=["position","size","rotation","zIndex","opacity","hidden"],ScreenObject._3dTransformBlacklisted=function(t){return/Silk\/\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\bGT-P3100\b| HTC[ _]One[ _]S /.test(t)||/\bGT-I9300\b/.test(t)&&android("4.0")}(navigator.userAgent),ScreenObject.supports3d=function(){return("WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MSCSSMatrix"in window||/Gecko\//.test(navigator.userAgent))&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows("10"),ScreenObject._toPositionPx=function(e,t,i){var n,r,o,s,a=i.width,i=i.height,c=t.width,t=t.height;return["left","right","hcenter"].forEach(function(t){t in e&&(n=t)}),["bottom","top","vcenter"].forEach(function(t){t in e&&(r=t)}),o=e[n],s=e[r],o=-1<o.indexOf("%")?a*parseFloat(o)/100:parseFloat(o),"hcenter"===n?o=(a-c)/2+o:"right"===n&&(o=a-(o+c)),s=-1<s.indexOf("%")?i*parseFloat(s)/100:parseFloat(s),"vcenter"===r?s=(i-t)/2+s:"bottom"===r&&(s=i-(s+t)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,e=e.height;return-1<t.width.toString().indexOf("%")&&(i=r*i/100),-1<t.height.toString().indexOf("%")&&(n=e*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,"layoutCurrent",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,"layoutCurrentIndex",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+("number"==typeof t?"px":"")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+("number"==typeof t?"px":"")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+("number"==typeof t?"px":"")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+("number"==typeof t?"px":"")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(t){throw new Error("originalSize is not settable!")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(e){this.layoutSpecificValues.forEach(function(t){t.hidden=e})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?"translate3d("+t+"px,"+e+"px, 0)":"translate("+t+"px,"+e+"px)"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit("enteredRenderTree"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,"mouseout",!1),this.emit("exitedRenderTree"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,"render"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.getScreenObjectPositionRelativeToScreen=function(){for(var t=this,e=this.getVisualPositionRelativeToParent();t.parentContainer!==t.parentScreen&&(t=t.parentContainer&&t.parentContainer.parentObject);){var i=t.getVisualPositionRelativeToParent();e.x+=i.x,e.y+=i.y}return e},ScreenObject.prototype.getVisualPositionRelativeToParent=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)"string"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):"Missing template: "+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement("div"),t=(r.innerHTML=this.tmpl(t,e),r.firstChild);if(i)for(;n=r.firstChild;)i.appendChild(n);return t},ScreenObject.prototype.ifNotClosing=function(t,e,i){var t=this.fireTriggersDryRun(t,null,noop,e)._actions,n=["dismiss","collapse"];t.some(function(t){return-1<n.indexOf(t.method)})||i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var r,o,t,e,s,a=this,i=ScreenObject.uber.createNode.call(a);return i.style.position="absolute",this.hasTriggers("tap")&&(addClass(i,"touchable"),attach(i,"tap",function(t){var e=new ActionContext(a,!0);a.ifNotClosing("tap",e,e.trackUserInteraction),a.fireTriggers("tap",null,null,e)},!1)),deviceInfo.deviceType.desktop()&&(o=[],this.hasTriggers(r="mouseOver")&&(t=this._getTriggers(r,null),e=[],s=noop,t.forEach(function(t){t.parameters&&t.parameters.delay&&e.indexOf(t.parameters.delay)<0&&e.push(t.parameters.delay)}),attach(i,"mouseover",function(t){var n=new ActionContext(a,!0);a._isInMouseOver=!0,e.forEach(function(t,e){var i;i=t,s=function(){a.fireTriggers(r,function(t){return t.delay==i},null,n)},o[e]=setTimeout(s,t)})},!1)),attach(i,"mouseout",function(t){var e=new ActionContext(a,!0);a._isInMouseOver=!1,o.forEach(clearTimeout),o=[],a.hasTriggers("mouseOut")&&a.fireTriggers("mouseOut",null,null,e)},!1)),attach(i,"touchstart",function(t){var e;a.hasTriggers("touchstart")&&(e=new ActionContext(a,!0),a.ifNotClosing("touchstart",e,e.trackUserInteraction),a.fireTriggers("touchstart",null,null,e))},!1),attach(i,"touchend",function(t){var e;a.hasTriggers("touchend")&&(e=new ActionContext(a,!0),a.ifNotClosing("touchend",e,e.trackUserInteraction),a.fireTriggers("touchend",null,null,e))},!1),this.hasTriggers("swipe")&&(attach(i,"touchstart",function(t){t.stopPropagation()}),new SwipeListener({target:i,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(a,!0);a.fireTriggers("swipe",function(t){t=e==t.direction&&i>=t.length;return t&&a.ifNotClosing("swipe",n,n.trackUserInteraction),t},null,n)}})),attach(i,"transitionend",function(t){t.stopPropagation()},!1),this.disableComponentRedrawOnEvent||this.parentContainer.on("resize",this._refreshDisplayState),this.parentContainer.on("enteredRenderTree",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on("exitedRenderTree",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.disableComponentRedrawOnEvent||this.parentUnit.on("layoutChanged",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(i,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari("9.0.0",null)||(i.style.outline="1px solid transparent"),this._rxListeners=[],i},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._scaleNaturalSize=function(t,e){return t},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:"",transformOrigin:"50% 50%"},e=this._scaleNaturalSize(this.getNaturalSize(),this.size),i=this.position.x,n=this.position.y;return this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)/2)),this.positionUsingTransforms()?(t.left="0",t.top="0",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+"px",t.top=n+"px"),!this.isAnimated&&0==this.rotation||(t.transform+=" rotate("+this.rotation+"deg) "),this.sizeUsingTransforms()?(t.width=e.width+"px",t.height=e.height+"px",i=this.size.width/e.width,n=this.size.height/e.height,t.transform+=" scale("+i+", "+n+")"):(t.width=this.size.width+"px",t.height=this.size.height+"px"),t.zIndex=this.zIndex,t.opacity=this.opacity,this.hidden?t.display="none":t.display="block",t},ScreenObject.prototype._applyStyles=function(e,i){i&&Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t,e=this._calculateNewStyleAttributes(),i=!1;for(t in e){var n=String(e[t]).replace(/^\s*|\s*$/g,""),r=celtra.styler.css(this.node,t);celtra.styler.css(this.node,t)!==n&&r!=n&&"zIndex"!=t&&"display"!=t&&(i=!0)}return this._applyStyles(this.node,e),this.redrawLayout(),i}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,"transitionDuration")&&(celtra.styler.css(this.node,"transitionDuration","1ms"),this.node.offsetWidth,celtra.styler.css(this.node,"transitionDuration",""))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){t=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return t.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,t},ScreenObject.prototype._preloadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype._loadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+"px",top:e+"px"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){i=i||noop,this.isAnimated=!0;var n=void 0!==e.duration?e.duration:1e3,r=e.timingFunction||"linear";function o(t){return!isNaN(parseFloat(t))&&isFinite(t)}function s(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function a(t,e){var i=e.size,n=t.size,r=(null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i,t.position),o=e.position,s=null,a=null,c=null,h=null;["left","right","hcenter"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),["bottom","top","vcenter"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}e.layoutSpecificValues?e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&a(this.layoutSpecificValues[e],s(t))}.bind(this)):(null!=(e=s(e.properties)).position.x&&(e.position.left=e.position.x+"px"),null!=e.position.y&&(e.position.top=e.position.y+"px"),null!=e.zIndex&&(e.zIndex=e.zIndex+ScreenObject._zIndexOffset,this.zIndex=e.zIndex),null!=e.size.width&&o(e.size.width)&&(e.size.width+="px"),null!=e.size.height&&o(e.size.height)&&(e.size.height+="px"),a(this.layoutCurrent,e));var c,h,u,l=this.node,e=(celtra.styler.css(l,"transition",""),celtra.styler.css(l,"transitionProperty","all"),celtra.styler.css(l,"transitionDuration",n+"ms"),celtra.styler.css(l,"transitionTimingFunction",r),this._refreshDisplayState());function p(){flash(),Date.now()<u&&setTimeout(p,ScreenObject.redrawTriggerInterval)}0<n&&e?(c=!1,h=function(){c||(c=!0,i())},ScreenObject.requiresRedrawToTriggerAnimationEvents&&(u=Date.now()+(Number(n)||0),p()),setTimeout(h,(Number(n)||0)+500,!0),once(l,"transitionend",function(t){celtra.styler.css(l,"transition",""),setTimeout(h,0,!1)},!1)):(celtra.styler.css(l,"transition",""),setTimeout(i,0<n?n:0))},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale/100,n={width:n.width*r,height:n.height*r},r={x:this.position.x+this.size.width/2-n.width/2,y:this.position.y+this.size.height/2-n.height/2};this.animateAction(t,{properties:{position:r,size:n},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display="block",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display="none",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e,i="#celtra-object-"+this.localId,n=this.node,r=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,o=/,\s*/g,s=(this.styleNode||(this.styleNode=document.createElement("style"),(n=n||document.getElementsByTagName("head")[0]).appendChild(this.styleNode)),[]);for(e in t)s.push({selector:e.split(o).map(function(t){return i+(r.test(t)?"":" ")+t}).join(","),attributes:t[e]});n=this._styleSheetTemplate({rules:s});this.styleNode.textContent+=n},ScreenObject.prototype._styleSheetTemplate=tmpl("<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\n<% } %>"),ScreenObject.prototype.css=function(e,i){void 0===i&&(i=e,e=this.getNode()),Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;
function Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return"[Clazz Hotspot]"},Hotspot.prototype.toString=function(){return"[Hotspot "+this.localId+"]"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,"touchable"),attach(t,"tap",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;
function Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),extend(Picture.prototype,StaticContentMixin),Picture.toString=function(){return"[Clazz Picture]"},Picture.prototype.toString=function(){return"[Picture "+this.localId+"]"},Picture.prototype.createNode=function(){"string"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,"imageSourceFeedFieldKey"),this.file=this._createFeedImageFile("imageSource",this.imageSourceFeedRowIndex));var t=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?"string"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(t,"empty"),this._preloadImage(new File("runner/image-placeholder.png"),function(e,i){this._isSettingFileInProgress||(t.style.backgroundImage="url("+i+")")}.bind(this))):this.file&&this._preloadImage(this.file,{},function(e,i){this._newFileWasSet||this._handlePreloadedImage(t,e)}.bind(this)),t},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File("runner/image-placeholder.png"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t="",r="",s="no-repeat",a=(this.imagePosition&&(t=this.imagePosition.replace("-"," ")),this.sizeUsingTransforms()?this.getNaturalSize():this.size),n=this.fittingSize;switch(n="fitUpToOriginal"===this.fittingSize?a.width<this.file.width||a.height<this.file.height?"fit":"original":n){case"original":r=this.file.width+"px "+this.file.height+"px";break;case"fit":r="contain";break;case"fill":r="cover";break;case"repeat":r=this.file.width+"px "+this.file.height+"px",s="repeat";break;default:r="100% 100%"}a=document.createElement("div");a.style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",a.style.backgroundImage="url('"+(i.src||"").replace("'","-")+"')",a.style.backgroundPosition=t,a.style.backgroundSize=r,a.style.backgroundRepeat=s,ScreenObject.dummyImageSpacer&&((n=document.createElement("img")).style.cssText="position: absolute; top: 0; left: 0; width: 100%; height: 100%;",n.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",a.appendChild(n)),e.appendChild(a)},Picture.prototype.positionUsingTransforms=function(){return!(ios("8",null)||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){var e,i,t,r,s,a,n,h,l;return this.file?(h=(e=this.file.width)/(i=this.file.height),n=(t=this.originalSize.width)/(r=this.originalSize.height),s=2048,"original"==this.fittingSize||"fitUpToOriginal"==this.fittingSize||"repeat"==this.fittingSize?{width:t,height:r}:"stretch"==this.fittingSize?{width:e,height:i}:(a=n<h&&"fit"==this.fittingSize||h<n&&"fill"==this.fittingSize,n=h<n&&"fit"==this.fittingSize||n<h&&"fill"==this.fittingSize,h=e,l=i,a?l=e/t*r:n&&(h=i/r*t),s<h&&(l*=s/h,h=s),s<l&&(h*=s/l,l=s),{width:h,height:l})):Picture.uber.getNaturalSize.call(this)},Picture.prototype.prepareFrame=function(){const e=this._calculateNewStyleAttributes();return function(){this._applyStyles(this.node,e)}.bind(this)},Picture.prototype.getImageUrl=function(){if(this.file)return this.file.getUrl()};;
function Button(){}inherit(Button,ScreenObject),extend(Button.prototype,TextStyleIntegrator),Button.toString=function(){return"[Clazz Button]"},Button.prototype.toString=function(){return"[Button "+this.localId+"]"},Object.defineProperties(Button.prototype,{_borderRoundness:{get:function(){var e,t,o,n=0,r=0,s=0,i=0;return this.border&&"number"==typeof this.borderRadius?n=this.borderRadius:!1!==this.border||this.roundness?0<(i="number"==typeof this.roundness?this.roundness:i)&&(t=(e=Math.min(this.getNaturalSize().height,this.getNaturalSize().width))/2,o=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),i<50?n=t*(i/50):(o=t+(o/2-t)*((i-50)/50),r=this.getNaturalSize().width==e?t:o,s=this.getNaturalSize().height==e?t:o)):i=0,this.shadow&&ios("8")&&3<=window.devicePixelRatio&&(n<1&&(n=1),r<1&&(r=1),s<1&&(s=1)),i<50?n+"px":r+"px "+s+"px"}}}),Button.prototype.getBorderWidth=function(){return this.borderWidth},Button.prototype.getShadowDistance=function(){return this.shadowDistance},Button.prototype.getShadowBlur=function(){return this.shadowBlur},Button.prototype.awake=function(){Button.uber.awake.call(this),this._defaultValues={backgroundUpImage:"runner/clazzes/Button/button.png",backgroundDownImage:"runner/clazzes/Button/button-down.png"},this._handleTap=this._handleTap.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this)},Button.prototype.createNode=function(){var e,t,o=Button.uber.createNode.call(this),n=creative.runtimeParams.overrides||creative.runtimeParams,n=n.deviceInfo&&n.deviceInfo.deviceType.toLowerCase();return this._hoverEnabled=("Desktop"===creative.intendedDeviceType||"Any"===creative.intendedDeviceType)&&"desktop"===n,this._privateApiTracked={},this._backgroundElement=null,this._foregroundElement=null,this._textBorder=0,this._textLineHeight=1,this._cssRules={},this._useBackgroundImage="image"===this.background,this._useForegroundImage="image"===(this._useBackgroundImage?this.foregroundForImage:this.foregroundForCss),this._originalCallToActionText=this.callToActionText,"string"==typeof this.callToActionTextFeedFieldKey&&(FeedData.checkAndTrackValue(this.callToActionTextFeedFieldKey,this.callToActionTextFeedRowIndex,this.constructor.name,"callToActionTextFeedFieldKey"),n="","string"==typeof(t=FeedData.getFieldValueByKey(this.callToActionTextFeedFieldKey,this.callToActionTextFeedRowIndex))&&FeedData.isCorrectFieldType(this.callToActionTextFeedFieldKey,this.constructor.name,"callToActionTextFeedFieldKey")&&(n=t.replace("\\[","").replace("\\]","")),this.callToActionText=n),"string"==typeof this.textFontFeedFieldKey&&(FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,"textFontFeedFieldKey"),"string"==typeof(t=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex))&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,"textFontFeedFieldKey")&&(e=creative.fonts.find(function(e){return e.typefaceId===t})),this.font=e),addClass(o,"touchable"),this._createBackground(o),this._createForeground(o),this.addStyle(this._cssRules),attach(o,"tap",this._handleTap),attach(o,"touchstart",this._handleTouchStart),o},Button.prototype._createBackground=function(e){var t,o,n,r,s,i,a;this._backgroundElement=document.createElement("div"),addClass(this._backgroundElement,"background"),this._useBackgroundImage?(s=!1,t="normal",o="focus",n="pressed",r=function(e,t){addClass(t,e),this._backgroundElement.appendChild(t)}.bind(this),this.backgroundUpImage?this._preloadImage(this.backgroundUpImage,function(e){r(t,e)}):(s=!0,this._preloadImage(new File(this._defaultValues.backgroundUpImage),function(e){r(t,e)})),this._hoverEnabled&&this.backgroundHoverImage&&this._preloadImage(this.backgroundHoverImage,function(e){r(o,e)}),this.backgroundDownImage?this._preloadImage(this.backgroundDownImage,function(e){r(n,e)}):s&&this._preloadImage(new File(this._defaultValues.backgroundDownImage),function(e){r(n,e)}),this._cssRules[".background ."+t]="display: block;",this._cssRules[".background ."+o]="display: none;",this._cssRules[".background ."+n]="display: none;",this._hoverEnabled&&this.backgroundHoverImage&&(this._cssRules[":hover .background ."+t]="display: none;",this._cssRules[":hover .background ."+o]="display: block;",this._cssRules[":hover .background ."+n]="display: none;"),(this.backgroundDownImage||s)&&(this._cssRules[".background.down ."+t]="display: none;",this._cssRules[".background.down ."+o]="display: none;",this._cssRules[".background.down ."+n]="display: block;")):(this.backgroundColor&&(s="",s=Color.isGradient(this.backgroundColorUp)?s+Color.createGradientStyle(this.backgroundColorUp)+"background-color: transparent;":s+"background-image: none; background-color: "+this.backgroundColorUp+";",this._cssRules[".background"]=s,this._hoverEnabled&&this.backgroundColorHover&&(s="",s=Color.isGradient(this.backgroundColorHover)?s+Color.createGradientStyle(this.backgroundColorHover)+"background-color: transparent;":s+"background-image: none; background-color: "+this.backgroundColorHover+";",this._cssRules[":hover .background"]=s),s="",s=Color.isGradient(this.backgroundColorDown)?s+Color.createGradientStyle(this.backgroundColorDown)+"background-color: transparent;":s+"background-image: none; background-color: "+this.backgroundColorDown+";",this._cssRules[".background.down"]=s),this.border&&(this._backgroundElement.style.borderColor=this.borderColor,this._backgroundElement.style.borderWidth=this.getBorderWidth()+"px",(deviceInfo.browser.chrome()||deviceInfo.browser.samsung())&&(s="1")===(s=Color.isRgba(this.borderColor)?Color.patternRgba.exec(this.borderColor)[Color.matchRgbaAlpha]:s)&&(this._backgroundElement.style.backgroundClip="border-box")),this.shadow&&(s=this.shadowAngle%90==0?-.3:0,a=this.shadowAngle*(Math.PI/180),i=Math.round(this.getShadowDistance()*Math.cos(a)),a=Math.round(this.getShadowDistance()*Math.sin(a)),celtra.styler.css(this._backgroundElement,"boxShadow",i+"px "+a+"px "+this.getShadowBlur()+"px "+s+"px "+this.shadowColor))),e.appendChild(this._backgroundElement)},Button.prototype._createForeground=function(e){var t,o,n,r,s=0<this.callToActionText.trim().length;this._foregroundElement=document.createElement("div"),addClass(this._foregroundElement,"foreground"),!this._useBackgroundImage&&this.border?(this._foregroundElement.style.borderWidth=this.getBorderWidth()+"px",this._textBorder=this.getBorderWidth()):this._textBorder=0,this._useForegroundImage?(addClass(this._foregroundElement,this.foregroundStretchImage?"image-stretch":"image-fit"),t="normal",o="focus",n="pressed",r=function(e,t){var o=document.createElement("div");addClass(o,e),o.style.backgroundImage='url("'+t.src+'")',this._foregroundElement.appendChild(o)}.bind(this),this.foregroundUpImage&&this._preloadImage(this.foregroundUpImage,function(e){r(t,e)}),this._hoverEnabled&&this.foregroundHoverImage&&this._preloadImage(this.foregroundHoverImage,function(e){r(o,e)}),this.foregroundDownImage&&this._preloadImage(this.foregroundDownImage,function(e){r(n,e)}),this._cssRules[".foreground ."+t]="display: block;",this._cssRules[".foreground ."+o]="display: none;",this._cssRules[".foreground ."+n]="display: none;",this._hoverEnabled&&this.foregroundHoverImage&&(this._cssRules[":hover .foreground ."+t]="display: none;",this._cssRules[":hover .foreground ."+o]="display: block;",this._cssRules[":hover .foreground ."+n]="display: none;"),this.foregroundDownImage&&(this._cssRules[".foreground.down ."+t]="display: none;",this._cssRules[".foreground.down ."+o]="display: none;",this._cssRules[".foreground.down ."+n]="display: block;")):s&&(addClass(this._foregroundElement,"call-to-action"),this._foregroundElement.textContent=this.callToActionText,this.initializeFont(),this._cssRules[".foreground"]="color: "+this.textColor+";",this._hoverEnabled&&this.textColorHover&&(this._cssRules[":hover .foreground"]="color: "+this.textColorHover+";"),this._cssRules[".foreground.down"]="color: "+this.textColorDown+";"),e.appendChild(this._foregroundElement)},Button.prototype._verticallyCenterText=function(){var e,t=this._textLineHeight;void 0!==this.lineSpacing?(e=t*this.callToActionText.split(/\n/).length,e=((this.sizeUsingTransforms()?this.getNaturalSize():this.size).height-e)/2-this._textBorder,this._foregroundElement.style.paddingTop=e+"px"):(t=this.size.height-2*this._textBorder,this._foregroundElement.style.lineHeight=t+"px")},Button.prototype.redrawLayout=function(){this._useBackgroundImage||(e=this._borderRoundness,0<parseInt(e,10)&&(this._backgroundElement&&(this._backgroundElement.style.borderTopLeftRadius=e,this._backgroundElement.style.borderTopRightRadius=e,this._backgroundElement.style.borderBottomLeftRadius=e,this._backgroundElement.style.borderBottomRightRadius=e),this._foregroundElement&&(this._foregroundElement.style.borderTopLeftRadius=e,this._foregroundElement.style.borderTopRightRadius=e,this._foregroundElement.style.borderBottomLeftRadius=e,this._foregroundElement.style.borderBottomRightRadius=e)));var e=0<this.callToActionText.trim().length;!this._useForegroundImage&&e&&(this.applyTextSize(this._foregroundElement),this._textLineHeight=parseFloat(this._foregroundElement.style.lineHeight),this._verticallyCenterText())},Button.prototype.updateTextStyle=function(){var e=0<this.callToActionText.trim().length;!this._useForegroundImage&&e&&(this.applyTextStyle(this._foregroundElement),this._foregroundElement.style.color="",this._verticallyCenterText())},Button.prototype.resetAction=function(e,t,o){this.resetFont(),Button.uber.resetAction.call(this,e,t,noop),o()},Button.prototype._handleTap=function(e){e.stopPropagation()},Button.prototype._handleTouchStart=function(e){addClass(this._backgroundElement,"down"),addClass(this._foregroundElement,"down"),attach(this.parentUnit.node,"touchend",this._handleTouchEnd),attach(this.parentUnit.node,"touchcancel",this._handleTouchCancel)},Button.prototype._handleTouchEnd=function(e){removeClass(this._backgroundElement,"down"),removeClass(this._foregroundElement,"down"),detach(this.parentUnit.node,"touchend",this._handleTouchEnd),detach(this.parentUnit.node,"touchcancel",this._handleTouchCancel)},Button.prototype._handleTouchCancel=function(e){this._handleTouchEnd(e)};;
function Texty(){}inherit(Texty,ScreenObject),extend(Texty.prototype,TextStyleIntegrator),extend(Texty.prototype,StaticContentMixin),Texty.toString=function(){return"[Clazz Texty]"},Texty.prototype.toString=function(){return"[Texty "+this.localId+"]"},Texty.prototype.awake=function(){Texty.uber.awake.call(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._originalText=this.text,this._adaptToContentStrategy="none",this._adaptToContentInProgress=!1,this._textCharactersEnclosedWithSpanElements=!1,this._lineBreakOptimizationStrategy=this.lineBreakOptimizationStrategy||"none",this._shortestLineToLongestLineMinRatio=this.shortestLineToLongestLineMinRatio||.25,this._maxPaddingToSizeRatio=this.maxPaddingToSizeRatio||.25,this._originalTextColor=this.textColor,this._originalFont=this.font,this._initialFrame=!0},Texty.prototype.createNode=function(){var t,e,i=Texty.uber.createNode.call(this),n=(this.scroller=null,this._autoscrolling=!1,this._listeningForTouches=!1,this._sanitizeText=!0,this._processSpecialChars=!1,this._shouldRenderSubTextStyles=this._hasText()&&this.subTextStyles&&0<this.subTextStyles.length,this.getFontSize()),o=this._getNaturalFontSize();return this._fontScaleFactor=n/o,this._lineHeightRatio=1,this._letterSpacingRatio=1,this._responsiveFontSize=this._getNaturalFontSize(),this._fontIsLoading=!1,"string"==typeof this.textColorFeedFieldKey&&(FeedData.checkAndTrackValue(this.textColorFeedFieldKey,this.textColorFeedRowIndex,this.constructor.name,"textColorFeedFieldKey"),this._shouldRenderSubTextStyles=!1),"string"==typeof this.textContentFeedFieldKey&&(FeedData.checkAndTrackValue(this.textContentFeedFieldKey,this.textContentFeedRowIndex,this.constructor.name,"textContentFeedFieldKey"),n="","string"==typeof(e=FeedData.getFieldValueByKey(this.textContentFeedFieldKey,this.textContentFeedRowIndex))&&FeedData.isCorrectFieldType(this.textContentFeedFieldKey,this.constructor.name,"textContentFeedFieldKey")&&(n=e),this.text=n,this._processSpecialChars=!0,this._shouldRenderSubTextStyles=!1),this.isTemplateField&&(this._processSpecialChars=!0),this._initialText=this.text,this._initialProcessSpecialChars=this._processSpecialChars,this._initialScaleFont=this.scaleFont,this._scrollContainer=document.createElement("div"),this._scrollContainer.className="scroll-container",this._textContainer=document.createElement("div"),this._textContainerClone=document.createElement("div"),this._textContainerClone.style.display="none",this._textContainerResponsive=document.createElement("div"),this._textContainerResponsive.style.visibility="hidden",!deviceInfo.browser.chrome(null,"48")&&"Samsung Browser"!==deviceInfo.browser.name||this._setTextContainerStyle("textRendering","geometricPrecision"),this.scrollable&&(this.scroller=new Scroller(i,this._textContainer,{direction:"vertical",animating:!0,easing:!0,locking:!1,scrollbarPosition:this.scrollbarPosition,scrollbarColor:this.scrollbarColor})),"string"==typeof this.textFontFeedFieldKey&&(FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,"textFontFeedFieldKey"),"string"==typeof(e=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex))&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,"textFontFeedFieldKey")&&(t=creative.fonts.find(function(t){return t.typefaceId===e})),this.font=t,this._shouldRenderSubTextStyles=!1),this.font instanceof FontBase&&(o=!this._hasText(),this._updateTextContent(),this.initializeFont(o),this.font.needsLoading()&&!o&&(this._fontIsLoading=!0,this.font.loadStyle(function(){this._fontIsLoading=!1,this._handleSizeUpdate(!0)}.bind(this)))),this._initialShouldRenderSubTextStyles=this._shouldRenderSubTextStyles,this._shouldRenderSubTextStyles&&this.subTextStyles.forEach(function(t){t.loadFontIfNeeded&&(this.incrementLoadingCount(),t.loadFontIfNeeded(this.decrementLoadingCount.bind(this)))},this),this._scrollContainer.appendChild(this._textContainer),this._scrollContainer.appendChild(this._textContainerClone),this._scrollContainer.appendChild(this._textContainerResponsive),i.appendChild(this._scrollContainer),this._startListeningForTouches(),i},Texty.prototype._hasText=function(){return 0<this.text.trim().length},Texty.prototype._appear=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawLayout=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawSceneLayout=function(){this._handleSizeUpdate(!1)},Texty.prototype._handleSizeUpdate=function(t){var e,i,n;this.font&&this.font.needsLoading()&&this._fontIsLoading||(e=null,i=this.node&&document.body.contains(this.node),n=this.responsiveFont||0<this.textAlignVertical||"none"!==this._adaptToContentStrategy||"none"!==this._lineBreakOptimizationStrategy,this.node&&this.node.parentNode&&!i&&n&&(e=this.node.parentNode,document.body.appendChild(this.node)),this._updateTextSizeAndAlignment(t),this._shrinkContentSizeToOptimizeLineBreaks(),this._adaptComponentSizeToContentSize(),this._updateScrollbar(),e&&e.appendChild(this.node))},Texty.prototype._overrideNaturalSize=function(t,e){this.setSize(t,e);var i=this.layoutCurrentIndex||0,n=JSON.parse(this.originalLayoutSpecificValues);n[i].size={width:t+"px",height:e+"px"},this.originalLayoutSpecificValues=JSON.stringify(n)},Texty.prototype._updateTextSizeAndAlignment=function(t){this._setTextContainerStyle("paddingLeft",this.getTextPaddingLeft()+"px"),this._setTextContainerStyle("paddingRight",this.getTextPaddingRight()+"px"),this._setTextContainerStyle("paddingTop",this.getTextPaddingTop()+"px"),this._setTextContainerStyle("marginTop",""),this.responsiveFont||(this.applyTextSize(this._textContainer),this.applyTextSize(this._textContainerClone)),this._horizontallyRealignTextWithPadding(),t&&this._adjustFontSizeToFitContainer(),this._verticallyAlignText()},Texty.prototype._shrinkContentSizeToOptimizeLineBreaks=function(){if("none"!==this._lineBreakOptimizationStrategy&&"pre-line"===this.textWhiteSpace){var t,e=!1,i=5*this._fontScaleFactor,n=0,o=this._getLinesProperties().length;if(!(o<=1))do{if(e=!1,(t=this._getLinesProperties()).length>o){n-=i,this._setPaddingRelativeToAlignment(n);break}}while(("all"===this._lineBreakOptimizationStrategy?this._getShortestLineLength(t):t[t.length-1].width)<this._shortestLineToLongestLineMinRatio*this._getLongestLineLength(t)&&(this._setPaddingRelativeToAlignment(n+=i),n<this._maxPaddingToSizeRatio*this.size.width&&(e=!0)),e)}},Texty.prototype._setPaddingRelativeToAlignment=function(t){switch(this._getHorizontalAlignment()){case"left":this._textContainer.style.paddingRight=this.getTextPaddingRight()+t+"px";break;case"right":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t+"px";break;case"center":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t/2+"px",this._textContainer.style.paddingRight=this.getTextPaddingRight()+t/2+"px"}},Texty.prototype._adaptComponentSizeToContentSize=function(){var t,e,i,n,o;"none"===this._adaptToContentStrategy||this._adaptToContentInProgress||this.scaleFont||"pre-line"!==this.textWhiteSpace||(t=this._getLinesProperties(),e=this._getLongestLineLength(t),i=t[t.length-1],0!==e&&i&&(n=Math.max(1,this._responsiveFontSize*this._lineHeightRatio),n=i.height-n+t[0].top,t=Math.ceil(e)+this._getNaturalTextPaddingLeft()+this._getNaturalTextPaddingRight(),e=Math.ceil(i.top+i.height-n)+this._getNaturalTextPaddingTop()+this._getNaturalTextPaddingBottom(),this.responsiveFont&&(e=Math.max(e,this._getContentSizeOfResponsiveContainer().height/this._fontScaleFactor+this._getNaturalTextPaddingTop())),t=Math.min(this.size.width,t),e=Math.min(this.size.height,e),"vertical"===this._adaptToContentStrategy?t=this.size.width:"horizontal"===this._adaptToContentStrategy&&(e=this.size.height),i=this.position.x,n=this.position.y,"center"===(o=this._getHorizontalAlignment())?i=this.position.x+(this.size.width-t)/2:"right"===o&&(i=this.position.x+(this.size.width-t)),"50"===this.textAlignVertical?n=this.position.y+(this.size.height-e)/2:"100"===this.textAlignVertical&&(n=this.position.y+(this.size.height-e)),this._adaptToContentInProgress=!0,this._overrideNaturalSize(t,e),this.setPosition(i,n),this._adaptToContentInProgress=!1,this.emit("componentSizeUpdated")))},Texty.prototype._getHorizontalAlignment=function(){switch(this.textAlign){case"justify":return"center";case"start":return"ltr"===window.getComputedStyle(this._textContainer).direction?"left":"right";case"end":return"ltr"===window.getComputedStyle(this._textContainer).direction?"right":"left";default:return this.textAlign}},Texty.prototype._getContentSizeOfResponsiveContainer=function(){var t=this._textContainerResponsive.getBoundingClientRect(),e=(parseInt(t.height,10)-t.height)*this._fontScaleFactor,t=(parseInt(t.width,10)-t.width)*this._fontScaleFactor,e=this._textContainerResponsive.scrollHeight+e;return{width:this._textContainerResponsive.scrollWidth+t,height:e}},Texty.prototype._setTextContainerStyle=function(t,e){this._textContainer.style[t]=e,this._textContainerClone.style[t]=e,this._textContainerResponsive.style[t]=e},Texty.prototype._setTextContainerAutomaticDirection=function(t){"auto"!==this.textDirection&&(t.style.direction="",t.setAttribute("dir","auto"))},Texty.prototype._applyAdjustedFontSizeStyle=function(t){var e=this._responsiveFontSize*this._fontScaleFactor;t.style.fontSize=e+"px",t.style.lineHeight=Math.max(1,e*this._lineHeightRatio)+"px",t.style.letterSpacing=e*this._letterSpacingRatio+"px"},Texty.prototype._adjustFontSizeToFitContainer=function(){var t,e,i,n;this.responsiveFont&&(e=void 0!==this.responsiveFontFactor?this.responsiveFontFactor:.5,i=void 0!==this.responsiveFontFactor?6:1,n=this.getFontSize(),t=this._getNaturalFontSize(),e=Math.max(Math.round(t*e),i),i=Math.max(1,this.getLineSpacing()+n),this._lineHeightRatio=i/n,this._letterSpacingRatio=this.getLetterSpacing()/n,i=this.getNaturalSize(),n=function(t){return this._responsiveFontSize=t,this._applyAdjustedFontSizeStyle(this._textContainerResponsive),this._getContentSizeOfResponsiveContainer()}.bind(this),this._responsiveFontSize=ShrinkToFit.getCalculatedFontSize(i,n,t,e),this._applyAdjustedFontSizeStyle(this._textContainer),this._applyAdjustedFontSizeStyle(this._textContainerClone))},Texty.prototype.updateTextStyle=function(){this.applyTextStyle(this._textContainer),this.applyTextStyle(this._textContainerClone),this.applyTextStyle(this._textContainerResponsive),"string"==typeof this.textContentFeedFieldKey&&(this._setTextContainerAutomaticDirection(this._textContainer),this._setTextContainerAutomaticDirection(this._textContainerClone),this._setTextContainerAutomaticDirection(this._textContainerResponsive));var t=void 0!==this.textWhiteSpace?this.textWhiteSpace:"pre-wrap";this._setTextContainerStyle("whiteSpace",t),this._verticallyAlignText()},Texty.prototype.getTextColor=function(){var t;return"string"==typeof this.textColorFeedFieldKey&&"string"==typeof(t=FeedData.getFieldValueByKey(this.textColorFeedFieldKey,this.textColorFeedRowIndex))&&FeedData.isCorrectFieldType(this.textColorFeedFieldKey,this.constructor.name,"textColorFeedFieldKey")?t:TextStyleIntegrator.getTextColor.call(this)},Texty.prototype.loadFont=function(){this.font instanceof FontBase&&TextStyleIntegrator.loadFont.apply(this,arguments)},Texty.prototype._horizontallyRealignTextWithPadding=function(){var t=this.getTextPaddingLeft(),e=this.getTextPaddingRight(),i=parseInt(this._textContainer.style.paddingLeft,10),n=parseInt(this._textContainer.style.paddingRight,10),t=(this.scaleFont&&"right"==this.textAlign&&!isNaN(i)?t=i-this.getTextPaddingLeft():this.scaleFont&&"left"==this.textAlign&&!isNaN(n)&&(e=n-this.getTextPaddingRight()),Math.max(t,this.getTextPaddingLeft())),e=Math.max(e,this.getTextPaddingRight());t!==i&&this._setTextContainerStyle("paddingLeft",t+"px"),e!==n&&this._setTextContainerStyle("paddingRight",e+"px")},Texty.prototype._verticallyAlignText=function(){var t,e,i,n,o;this.scrollable||this._scrollContainer.offsetHeight<=this._textContainer.offsetHeight||void 0===this.textAlignVertical||(this._setTextContainerStyle("paddingTop",""),o=0,t=this.scrollable?0:Number(this.textAlignVertical),e=this.getNaturalSize().height,this._textContainerClone.style.height=0,this._textContainerClone.style.display="inline",i=0===t?0:this._textContainerClone.scrollHeight,this._textContainerClone.style.display="none",n=Math.max(0,(e-i)*t/100),n=isNaN(n)?0:n,o=50<t&&i<e?-this.getTextPaddingBottom():50==t&&i<e?(this.getTextPaddingTop()+this.getTextPaddingBottom())/4:this.getTextPaddingTop(),this._setTextContainerStyle("marginTop",n+o+"px"))},Texty.prototype._getLongestLineLength=function(t){return Math.max.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getShortestLineLength=function(t){return Math.min.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getLinesProperties=function(){this._encloseTextCharactersWithSpanElements();for(var t=this._textContainer.getBoundingClientRect(),e=this._textContainer.querySelectorAll("span"),i=[],n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),s=o.top-t.top,a=o.left-t.left,h=i[i.length-1];h&&s===h.top?(a>h.left?h.width=Math.max(a-h.left+o.width,h.width):(h.width=Math.max(h.left-a+h.width,h.width),h.left=Math.min(a,h.left)),h.text=h.text+e[n].innerText):0!==o.width&&0!==o.height&&i.push({width:o.width,height:o.height,left:a,top:s,text:e[n].innerText})}return i},Texty.prototype._encloseTextCharactersWithSpanElements=function(){if(!this._textCharactersEnclosedWithSpanElements){for(var t="",e=0;e<this._textContainer.childNodes.length;e++){var i=this._textContainer.childNodes[e];i.nodeType===Node.TEXT_NODE?t+=i.textContent.split("").map(function(t){return"<span>"+t+"</span>"}).join(""):t+=i.outerHTML}for(;this._textContainer.firstChild;)this._textContainer.removeChild(this._textContainer.firstChild);this._textContainer.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!0}},Texty.prototype._updateTextContent=function(){var t=this._applyStylesToText(this.text);this._textContainer.innerHTML=t,this._textContainerClone.innerHTML=t,this._textContainerResponsive.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!1},Texty.prototype._applyStylesToText=function(t){var e=[],i=(this._shouldRenderSubTextStyles&&(e=this.subTextStyles.slice()),UnbreakableTextStyleConverter.hasUnbreakableCharacters(t));return this._processSpecialChars&&i&&(i=UnbreakableTextStyleConverter.extractStyleFromText(t),e.push(i.style),t=i.text),this._sanitizeText?TextStyleProcessor.processAndSanitize(t,e):TextStyleProcessor.processWithoutSanitization(t,e)},Texty.prototype._updateScrollbar=function(){this.scrollable&&(this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this.autoscrollEnabled&&(this._resetAutoScroll(),this._createAutoScroll()))},Texty.prototype._createAutoScroll=function(){var t=this.scroller.getMaxScroll(),e=(defer(function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,function(){"return"===this.autoscrollConclusion?this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0):"loop"===this.autoscrollConclusion&&(this._autoscrolling=!0,e())}.bind(this))}.bind(this),this.autoscrollDelay),function(){this._autoscrolling&&this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0,function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,e)}.bind(this))}.bind(this))},Texty.prototype._resetAutoScroll=function(){this._autoscrolling=!1},Texty.prototype._handleTouchStart=function(t){t.preventDefault(),new ActionContext(this,!0).trackUserInteraction(),this.scrollable&&(this._resetAutoScroll(),t.stopPropagation(),this.scroller._handleTouchStart(t),attach(this.parentUnit.node,"touchmove",this._handleTouchMove),attach(this.parentUnit.node,"touchend",this._handleTouchEnd),attach(this.parentUnit.node,"touchcancel",this._handleTouchCancel))},Texty.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},Texty.prototype._handleTouchEnd=function(t){t.preventDefault(),this.scroller._handleTouchEnd(t),detach(this.parentUnit.node,"touchmove",this._handleTouchMove),detach(this.parentUnit.node,"touchend",this._handleTouchEnd),detach(this.parentUnit.node,"touchcancel",this._handleTouchCancel)},Texty.prototype._handleTouchCancel=function(t){this._handleTouchEnd(t)},Texty.prototype.positionUsingTransforms=retTrue,Texty.prototype.sizeUsingTransforms=retTrue,Texty.prototype.getNaturalSize=function(){return this.originalSize},Texty.prototype._getNaturalFontSize=function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},Texty.prototype._getDefaultPadding=function(){return this.usePadding?2:0},Texty.prototype._getNaturalTextPaddingTop=function(){var t=TextStyleIntegrator.getTextPaddingTop.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingRight=function(){var t=TextStyleIntegrator.getTextPaddingRight.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingBottom=function(){var t=TextStyleIntegrator.getTextPaddingBottom.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingLeft=function(){var t=TextStyleIntegrator.getTextPaddingLeft.call(this);return"number"==typeof t?t:this._getDefaultPadding()},Texty.prototype.getTextPaddingTop=function(){return this._getNaturalTextPaddingTop()},Texty.prototype.getTextPaddingRight=function(){return this._getNaturalTextPaddingRight()},Texty.prototype.getTextPaddingBottom=function(){return this._getNaturalTextPaddingBottom()},Texty.prototype.getTextPaddingLeft=function(){return this._getNaturalTextPaddingLeft()},Texty.prototype._startListeningForTouches=function(){this.scrollable&&!this._listeningForTouches&&(attach(this._textContainer,"touchstart",this._handleTouchStart),this._listeningForTouches=!0)},Texty.prototype._stopListeningForTouches=function(){this._listeningForTouches&&(detach(this._textContainer,"touchstart",this._handleTouchStart),this._listeningForTouches=!1)},Texty.prototype._setText=function(t){this.text=String(t),this.loadFont(function(){this._shouldRenderSubTextStyles=!1,this._updateTextContent(),this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this.scaleFont&&(this.scaleFont=!1),this.hidden||this._handleSizeUpdate(!0)}.bind(this))},Texty.prototype.showAction=function(t,e,i){Texty.uber.showAction.call(this,t,e,function(){this._startListeningForTouches(),i()}.bind(this))},Texty.prototype.hideAction=function(t,e,i){Texty.uber.hideAction.call(this,t,e,function(){this._stopListeningForTouches(),i()}.bind(this))},Texty.prototype.resetAction=function(t,e,i){this._sanitizeText=!0,this.resetFont(),Texty.uber.resetAction.call(this,t,e,function(){this.hidden||this._startListeningForTouches(),this.text=this._initialText,this._processSpecialChars=this._initialProcessSpecialChars,this._shouldRenderSubTextStyles=this._initialShouldRenderSubTextStyles,this._updateTextContent(),this.scaleFont=this._initialScaleFont,this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this._handleSizeUpdate(!0),i()}.bind(this))},Texty.prototype.setTextAction=function(t,e,i){this._sanitizeText=!1,this._processSpecialChars=!1,this._setText(e.text),i()},Texty.prototype.getText=function(){var t=String(this.text);return this._processSpecialChars&&(t=t.replace(/\\(\]|\[)/g,"")),t=this._sanitizeText?htmlentitize(t):t},Texty.prototype.setAdaptToContentStrategy=function(t){-1<["both","vertical","horizontal","none"].indexOf(t)&&(this._adaptToContentStrategy=t)},Texty.prototype.setLineBreakOptimizationStrategy=function(t){-1<["all","last","none"].indexOf(t)&&(this._lineBreakOptimizationStrategy=t)},Texty.prototype.setShortestLineToLongestLineMinRatio=function(t){this._shortestLineToLongestLineMinRatio=t},Texty.prototype.setMaxPaddingToSizeRatio=function(t){this._maxPaddingToSizeRatio=t},Texty.prototype.prepareFrame=function(){const t=this.hasBakingAnimatedClass(this.node),e=this._calculateNewStyleAttributes();return function(){this.setBakingAnimatedClass(this.node,t),this._applyStyles(this.node,e),this._handleSizeUpdate(this._initialFrame),this._initialFrame=!1}.bind(this)},Texty.prototype.getFontScaleFactor=function(){return this._fontScaleFactor};;
function Shapey(){}inherit(Shapey,ScreenObject),extend(Shapey.prototype,StaticContentMixin),Shapey.toString=function(){return"[Clazz Shapey]"},Shapey.prototype.toString=function(){return"[Shapey "+this.localId+"]"},Object.defineProperties(Shapey.prototype,{_borderRoundness:{get:function(){var e,t,r,a=0,i=0,o=0,s=this._defaultValues.roundness;return 0<(s="number"==typeof this.roundness?this.roundness:s)&&(t=(e=Math.min(this.getNaturalSize().height,this.getNaturalSize().width))/2,r=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),s<50?a=t*(s/50):(r=t+(r/2-t)*((s-50)/50),i=this.getNaturalSize().width==e?t:r,o=this.getNaturalSize().height==e?t:r)),this.shadow&&ios("8")&&3<=window.devicePixelRatio&&(a<1&&(a=1),i<1&&(i=1),o<1&&(o=1)),s<50?a+"px":i+"px "+o+"px"}}}),Shapey.prototype.awake=function(){Shapey.uber.awake.call(this),this._defaultValues={backgroundColor:"#365c99",borderColor:"#000000",borderWidth:5,roundness:0,shadowAngle:0,shadowBlur:10,shadowColor:"rgba(0,0,0,0.5)",shadowDistance:0}},Shapey.prototype.createNode=function(){var e,t,r,a,i=Shapey.uber.createNode.call(this),o=(this._privateApiTracked={},this._scalingWorkaroundSizeThreshold=5,this._scalingWorkaroundSizeMultiplier=20,this._scalingWorkaroundHorizontal=!1,this._scalingWorkaroundVertical=!1,addClass(i,"touchable"),this._shapey=document.createElement("div"),this._defaultValues.backgroundColor);return"string"==typeof this.backgroundColorFeedFieldKey?(FeedData.checkAndTrackValue(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex,this.constructor.name,"backgroundColorFeedFieldKey"),o="string"==typeof(e=FeedData.getFieldValueByKey(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex))&&FeedData.isCorrectFieldType(this.backgroundColorFeedFieldKey,this.constructor.name,"backgroundColorFeedFieldKey")?e:"transparent"):"string"==typeof this.backgroundColor&&(o=this.backgroundColor),Color.isGradient(o)?(e=Color.createGradientStyle(o),this.addStyle({".gradient-shapey":e}),addClass(this._shapey,"gradient-shapey")):this._shapey.style.backgroundColor=o,this.border&&(e=(void 0!==this.borderColor?this:this._defaultValues).borderColor,o=("number"==typeof this.borderWidth?this:this._defaultValues).borderWidth,this._shapey.style.borderColor=e,this._shapey.style.borderStyle="solid",this._shapey.style.borderWidth=o+"px",(deviceInfo.browser.chrome()||deviceInfo.browser.samsung())&&(o="1")===(o=Color.isRgba(e)?Color.patternRgba.exec(e)[Color.matchRgbaAlpha]:o)&&(this._shapey.style.backgroundClip="border-box")),this.shadow&&(e=("number"==typeof this.shadowAngle?this:this._defaultValues).shadowAngle*(Math.PI/180),o=("number"==typeof this.shadowBlur?this:this._defaultValues).shadowBlur,t=(void 0!==this.shadowColor?this:this._defaultValues).shadowColor,a=("number"==typeof this.shadowDistance?this:this._defaultValues).shadowDistance,r=Math.round(a*Math.cos(e)),a=Math.round(a*Math.sin(e)),celtra.styler.css(this._shapey,"boxShadow",r+"px "+a+"px "+o+"px "+t)),i.appendChild(this._shapey),i},Shapey.prototype.redrawLayout=function(){var e;this._shapey&&(e=this._borderRoundness,0<parseInt(e,10)&&((this._scalingWorkaroundVertical||this._scalingWorkaroundHorizontal)&&(e=this._scaleBorderRadius(e)),this._shapey.style.borderTopLeftRadius=e,this._shapey.style.borderTopRightRadius=e,this._shapey.style.borderBottomLeftRadius=e,this._shapey.style.borderBottomRightRadius=e))},Shapey.prototype.prepareFrame=function(){const e=this._calculateNewStyleAttributes();return function(){this._applyStyles(this.node,e),this.redrawSceneLayout()}.bind(this)},Shapey.prototype._scaleBorderRadius=function(e){var t=this._scalingWorkaroundHorizontal?this._scalingWorkaroundSizeMultiplier:1,r=this._scalingWorkaroundVertical?this._scalingWorkaroundSizeMultiplier:1,a=/([0-9\.]+)px ([0-9\.]+)px/.exec(e);if(a&&2<a.length){var i=parseFloat(a[1]),a=parseFloat(a[2]);if(!isNaN(i)&&!isNaN(a))return i*t+"px "+a*r+"px"}else{i=parseFloat(e);if(!isNaN(i))return i*t+"px "+i*r+"px"}return e},Shapey.prototype._track=function(e){this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:"retiredFeatureUsed",featureType:"apifunction",featureName:e}))},Shapey.deprecatedPropertiesArray=["borderRoundness","shapey","defaultValues"],Shapey.deprecatedPropertiesObject={},Shapey.deprecatedPropertiesArray.forEach(function(t){Shapey.deprecatedPropertiesObject[t]={get:function(){return this._track("Shapey."+t+".getter"),this["_"+t]},set:function(e){this._track("Shapey."+t+".setter"),this["_"+t]=e}}}),Shapey.prototype._scaleNaturalSize=function(e,t){return this.isAnimated&&this.sizeUsingTransforms()&&!this.border&&!this.shadow&&(this._scalingWorkaroundHorizontal=e.width<this._scalingWorkaroundSizeThreshold&&e.width<t.width,this._scalingWorkaroundVertical=e.height<this._scalingWorkaroundSizeThreshold&&e.height<t.height,this._scalingWorkaroundHorizontal&&(e.width*=this._scalingWorkaroundSizeMultiplier),this._scalingWorkaroundVertical&&(e.height*=this._scalingWorkaroundSizeMultiplier)),e},Object.defineProperties(Shapey.prototype,Shapey.deprecatedPropertiesObject);;
function File(t){if(t)if("string"==typeof t)this.url=t;else{if(!t.url)throw"Url parameter must be set.";deep(this,t),0!==this.url.indexOf(creative.cachedApiUrl)&&0!==this.url.indexOf(creative.insecureCachedApiUrl)||(t=this.url.split("/"),void 0===this.name&&(this.name=t[t.length-1]||"unknown"),void 0===this.blobHash&&(this.blobHash=t[t.length-2]),void 0===this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),void 0===this.quality&&(this.quality=File.getDefaultQuality(this.name)))}}File.toString=function(){return"[Clazz File]"},File.prototype.toString=function(){return"[File "+this.localId+"("+this.name+"/"+this.url+")]"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf("://"))return this.url;if("/"===this.url[0])throw"An absolute path as URL?";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"blobs/"+this.blobHash+"/"+encodeURIComponent(this.name);throw"Neither url nor blobHash set?"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+="?transform=crush",-1<this.quality&&(i+="&quality="+this.quality),t&&0<this.optimizedWidth(t)&&0<this.optimizedHeight(t)&&(i+="&resize="+this.optimizedWidth(t)+"x"+this.optimizedHeight(t)),this.dynamic&&"string"==typeof this.fitting&&0<this.fitting.length&&(i+="&fitting="+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&(void 0!==this.blobHash||0<=this.url.indexOf("api/animateySprites")),r=creative.adapter.protoLoading.dataURIsSupported,a=creative.adapter.protoLoading.blobURIsSupported,n="treatment"===(creative.experiments.get("UseDataURIsGlobally")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,r=(r||a)&&!creative.adapter.autoDecodesURLParams,a=(!!t.preferBatching||n||h)&&r&&e,o=this.getUrl(t.creativeUnitVariantId);void 0!==this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,"File.getDataUri defer callback, has dataUri"):a?creative.batcher.getDataUri(o,i):defer(function(){i(o)},0,"File.getDataUri defer callback, url")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return void 0!==this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),t=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),i="on"===(creative.experiments&&creative.experiments.get("FeedImageOptimization")||{}).chosenVariant,t=t&&(!this.dynamic||i),i=!!String(this.name).match(/\.(gif|png|jpe?g)$/i);return t&&i},enumerable:!0,configurable:!1},retina:{get:function(){return 1<this.retinaScaleFactor},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedWidth){i=r;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if("number"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedHeight){i=r;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=/\.png$/i.test(t),e=/\.jpe?g$/i.test(t),r=/\.gif$/i.test(t),t=1<File.getRetinaScaleFactor(t),a=-1;return i?a=t?150:256:r?a=t?75:85:e&&(a=t?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp("^.*(@([2-"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+"]+)x)"),t=t.toLowerCase().match(i);return t&&t[2]?parseInt(t[2],10):1};;
function Font(){}inherit(Font,FontBase),Font.toString=function(){return"[Clazz Font]"},Font.prototype.toString=function(){return"[Font "+this.localId+"]"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var n,o,t=Font.uber.getSubsetString.apply(this);return this.hasFeedFields()?("string"!=typeof this.extendedSubsetString&&(n=t||"",o=this.feedTextTransforms||["none"],this.feedFields.forEach(function(t){FeedData.getFieldRowsByKey(t).forEach(function(e){"string"==typeof e.value&&o.forEach(function(t){n+=function(t,e){switch(t=String(t),e){case"uppercase":return t.toUpperCase();case"lowercase":return t.toLowerCase();default:return t}}(e.value,t)})})}),this.extendedSubsetString=n.replace(/[\r\n\t\f\v]/g,"").split("").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join("")),this.extendedSubsetString):t},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?"":Font.uber.getUnicodeRange.apply(this)};;
function RichTextStyle(){}RichTextStyle.toString=function(){return"[Clazz RichTextStyle]"},RichTextStyle.prototype.toString=function(){return"[RichTextStyle "+this.localId+"]"},RichTextStyle.prototype.awake=function(){this.ranges=this.ranges.map(function(t){return new TextRange(t.start,t.end)}),BaseTextStyle.call(this,this.ranges),this.apply=RichTextStyle.prototype.apply.bind(this)},RichTextStyle.prototype.loadFontIfNeeded=function(t){this.font&&this.font instanceof FontBase&&this.font.needsLoading()&&0<this.ranges.length?(this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+"fonts/"),this.font.loadStyle(t)):t()},RichTextStyle.prototype.apply=function(t){var e;return t?(this._applyTextSizeToStyle(e={}),this._applyFontToStyle(e),this._applyLineHeightToStyle(e),this._applyCss(e,"text-decoration",this.textDecoration),this._applyCssStyles(e,TextCssPropertiesBuilder.buildTextColor(this.textColor)),this._assembleHtml(e,t)):""},RichTextStyle.prototype._applyTextSizeToStyle=function(t){this._shouldApplyFontSize()&&this._applyCss(t,"font-size",this._getFontSizeInPx()+"px")},RichTextStyle.prototype._shouldApplyFontSize=function(){return!(this.associatedObject.scaleFont||this.associatedObject.responsiveFont)},RichTextStyle.prototype._getFontSizeInPx=function(){return TextStyleIntegrator.toSizePx(this.fontSize,this.associatedObject.parentScreen.size.height)*this._getParentFontScaleFactor()},RichTextStyle.prototype._applyFontToStyle=function(t){this.font&&this.font instanceof FontBase&&extend(t,this.font.getCssProperties())},RichTextStyle.prototype._applyLineHeightToStyle=function(t){var e;this._shouldApplyFontSize()&&(e=this._getFontSizeInPx(),e=TextStyleIntegrator.lineHeightInPx(this.associatedObject.getLineSpacing(),e),this._applyCss(t,"line-height",e+"px"))},RichTextStyle.prototype._assembleHtml=function(t,e){var i=document.createElement("span"),e=(extend(i.style,t),i.innerHTML=e,i.outerHTML);return t["background-clip"]&&e.includes("background-clip")&&!e.includes("-webkit-background-clip")&&(i=t["background-clip"],e=e.replace("background-clip","-webkit-background-clip: "+i+"; background-clip")),e},RichTextStyle.prototype._applyCss=function(t,e,i){i&&(t[e]=i)},RichTextStyle.prototype._applyCssStyles=function(e,i){Object.keys(i).forEach(function(t){this._applyCss(e,t,i[t])},this)},RichTextStyle.prototype._getParentFontScaleFactor=function(){return this.associatedObject.getFontScaleFactor()};;
function StoreLocator3(){}inherit(StoreLocator3,ScreenObject),StoreLocator3.toString=function(){return"[Clazz StoreLocator3]"},StoreLocator3.prototype.toString=function(){return"[StoreLocator3 "+this.localId+"]"},StoreLocator3._userLocation=null,StoreLocator3.prototype.awake=function(){StoreLocator3.uber.awake.call(this),this.MILES_PER_KILOMETER=.621371192237,this.METERS_PER_KILOMETER=1e3,this.MAX_PLACES_RADIUS_IN_METERS=48280.3,this.USER_INTERACTED={certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0},this.NOT_USER_INTERACTED={certainlyNotCausedByUserBehavior:!0,consideredUserInitiatedByBrowser:!1},this._clusterDetailsOffset=0,this._clusterDetailsLimit=50,this._maxSearchRadius=this.MAX_PLACES_RADIUS_IN_METERS,this._headerHeight=50,this._locationCacheDuration=6e4,this._defaultZoom=15,this._maxZoom=18,this._refocusZoom=12,this._animationDelay=200,this._infoboxMaxHeight=200,this._defaultDarkPinColor="rgb(64,64,64)",this._defaultLightPinColor="rgb(255,255,255)",this._unitsAbbr="imperial"===this.units?" mi":" km",this._handleBtnListTap=this._handleBtnListTap.bind(this),this._handleBtnRefocusTap=this._handleBtnRefocusTap.bind(this),this._handleBtnZoomInTap=this._handleBtnZoomInTap.bind(this),this._handleBtnZoomOutTap=this._handleBtnZoomOutTap.bind(this),this._handleBtnSearchTap=this._handleBtnSearchTap.bind(this),this._handleMarkerTap=this._handleMarkerTap.bind(this),this._handleMapResize=this._handleMapResize.bind(this),this._handleMapBoundsChange=this._handleMapBoundsChange.bind(this),this._handleMapIdle=this._handleMapIdle.bind(this),this._handleMapClick=this._handleMapClick.bind(this),this._addLocationsMarkers=this._addLocationsMarkers.bind(this),this._handlePhoneTap=this._handlePhoneTap.bind(this),this._handleWebsiteTap=this._handleWebsiteTap.bind(this),this._handleEmailTap=this._handleEmailTap.bind(this),this._handleDirectionsTap=this._handleDirectionsTap.bind(this),this._enableLoading=this._enableLoading.bind(this)},StoreLocator3.prototype.createNode=function(){var t=StoreLocator3.uber.createNode.call(this);return this._mapContainer=null,this._infobox=null,this._list=null,this._snapshot=null,this._inited=!1,this._initFocusDone=!1,this._refocusTapped=!1,this._isGeolocationPromptDisabled=!1,this._canLoadLocations=!1,this._locationsCache=[],this._boundsChanged=!1,this._markerReferences=[],this._oldMarkers=[],this._buttons={},this._locations=[],this._sortedLocations=[],this._phrases={},this._translations=StoreLocator3._defaultTranslations(),this._selectedLocation=null,this._selectedClusterLocation=null,this._ignoreBoundsChanged=!1,this._ignoreSnapshot=!1,this._isTiny=!1,this._isSmall=!1,this._isWide=!1,this._searchMode=!1,this._selectedMode=!1,this._infoboxHeaderActive=!1,this._isAnimated=!0,this._searchExtended=!1,this._enteredSearchModeFromMap=!1,this._thumbnailMode="thumb"===creative.runtimeParams.purpose,this._userMarkerAnimated=!1,this._useFallbackLocation=!1,this._setUserPinColorBasedOnMapStyle(),this._setPhrases(t,this.language),t.innerHTML+=StoreLocator3._icons,this._loadGoogleMaps(),this._loadCustomPins(),this._applyCustomStyles(),addClass(t,this.uiTheme),addClass(t,"touchable"),attach(t,"tap",this._handleTap),this.on("userlocationupdated",function(){this._initFocus()}.bind(this)),this._preloadImage(new File("runner/clazzes/StoreLocator3/map-placeholder.png"),function(t,e){this._initialMapDialogImageUri=e}.bind(this)),t},StoreLocator3.prototype._setUserPinColorBasedOnMapStyle=function(){var t="night"===this.mapStyle?"#ffffff":"#000000";this._userPinHaloColor=t,this._userPinDotColor="dark"===this.uiTheme?t:"#ffffff"},Object.defineProperty(StoreLocator3.prototype,"isTrackable",{get:function(){return!0}}),StoreLocator3.prototype._appear=function(){this._map&&google.maps.event.trigger(this._map,"resize");var t,e,i=function(t){this._initialMapDialog||(this._initialMapDialog=this.template("initialMapDialog",{},this.node),this._initialMapDialog.querySelector(".map-placeholder").style.backgroundImage="url("+this._initialMapDialogImageUri+")",this._initialMapDialog.querySelector("."+t).style.display="block")}.bind(this),o=function(){this._initialMapDialog&&(this._initialMapDialog.style.display="none"),this._enableLoading(),this._inited||this._init()}.bind(this);creative.runtimeParams.shouldShowMapsPrompt?(new ActionContext(this,this.NOT_USER_INTERACTED).track({name:"mapsPromptShow"}),i("user-consent"),e=this._initialMapDialog.querySelector(".consent-button.button-yes"),t=this._initialMapDialog.querySelector(".consent-button.button-no"),addClass(e,"touchable"),addClass(t,"touchable"),attach(e,"tap",function(){var t=new ActionContext(this,this.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"mapsPromptShowAccepted"}),o()}.bind(this)),attach(t,"tap",function(){var t=new ActionContext(this,this.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"mapsPromptShowDenied"}),this.emit("mapsconsentrejected"),this._useFallbackLocation=!0,o()}.bind(this))):creative.getUserInteracted()||this._thumbnailMode||creative.runtimeParams._yahooLandingPage?o():this._initialMapDialog||(i("user-interaction"),e=this._initialMapDialog.querySelector(".overlay"),addClass(e,"touchable"),attach(e,"tap",function(){new ActionContext(this,this.USER_INTERACTED).trackUserInteraction(),o()}.bind(this)))},StoreLocator3.prototype._enableLoading=function(){this._canLoadLocations=!0},StoreLocator3.prototype.redrawLayout=function(){this._applyLayoutBasedOnSize(),this._redraw()},StoreLocator3.prototype.redrawSceneLayout=function(){this._applyLayoutBasedOnSize()},StoreLocator3.prototype._applyLayoutBasedOnSize=function(){this._isTiny=this.size.height<200,this._isSmall=200<=this.size.height&&this.size.height<310,this._isWide=535<this.size.width,this._isSmaller=this._isSmall||this._isTiny,window[(this._isTiny?"add":"remove")+"Class"](this.node,"tiny"),window[(this._isSmall?"add":"remove")+"Class"](this.node,"small"),window[(this._isWide?"add":"remove")+"Class"](this.node,"wide")},StoreLocator3.prototype._redraw=function(){this._map&&google.maps.event.trigger(this._map,"resize"),this._infobox&&this._infobox._redraw(),this._list&&this._list._redraw()},StoreLocator3.prototype._loadGoogleMaps=function(){this.incrementLoadingCount(),loadGoogleMaps(function(){this.decrementLoadingCount();var t=document.createEvent("HTMLEvents");t.initEvent("googleMapsApiLoaded",!0,!0),document.dispatchEvent(t)}.bind(this))},StoreLocator3.prototype._loadCustomPins=function(){this.customPin&&this._preloadImage(this.customPin,function(t){this._customPin=t}.bind(this)),this.customActivePin&&this._preloadImage(this.customActivePin,function(t){this._customActivePin=t}.bind(this))},StoreLocator3.prototype._handleTap=function(t){t.stopPropagation()},StoreLocator3.prototype._applyCustomStyles=function(){var t="dark"===this.uiTheme?.25:.05,e=Color.parseRgb(this.themeColor);this.addStyle({", .search-header .query":"font-family:"+this.textFont,".btn.list":"background-color:"+this.themeColor,".directions":"background-color:rgba("+e[0]+","+e[1]+","+e[2]+","+t+");",".directions .distance":"color:"+this._getDirectionsColor(this.themeColor),".directions .icon svg":"fill:"+this._getDirectionsColor(this.themeColor),".header, .infobox-container .cluster-header":"color:"+this._getContrastingColor(this.themeColor)+"; background-color:"+this.themeColor,".list-header svg, .map-header svg, .infobox-header svg, .search-header svg, .cluster-header svg, .btn.list svg":"fill:"+this._getContrastingColor(this.themeColor),".search-header .query":"color:"+this._getContrastingColor(this.themeColor),".query::-webkit-input-placeholder":"opacity:0.5; color:"+this._getContrastingColor(this.themeColor),".query:-moz-placeholder":"opacity:0.5; color:"+this._getContrastingColor(this.themeColor),".query::-moz-placeholder":"opacity:0.5; color:"+this._getContrastingColor(this.themeColor),".query:-ms-input-placeholder":"opacity:0.5; color:"+this._getContrastingColor(this.themeColor)})},StoreLocator3.prototype._getContrastingColor=function(t){t=Color.parseRgb(t);return 186<.299*t[0]+.587*t[1]+.114*t[2]?"black":"white"},StoreLocator3.prototype._getDirectionsColor=function(t){return"white"===this._getContrastingColor(t)?"light"===this.uiTheme?t:"white":"light"===this.uiTheme?"black":t},StoreLocator3.prototype._init=function(){this._createMap(),"map"!==this.defaultView&&"list"!==this.defaultView&&this._createButton({name:"list",startPosition:{left:-46,top:10},endPosition:{left:10,top:10},listener:this._handleBtnListTap}),"list"!==this.defaultView&&(this._createButton({name:"refocus",startPosition:{left:-46,top:"map"!==this.defaultView?51:10},endPosition:{left:10,top:"map"!==this.defaultView?51:10},listener:this._handleBtnRefocusTap}),this.searchBar&&this._createButton({name:"search",startPosition:{right:-46,top:10},endPosition:{right:10,top:10},listener:this._handleBtnSearchTap})),desktop()&&(this._createButton({name:"zoomIn",startPosition:{right:-39,bottom:44},endPosition:{right:10,bottom:44},listener:this._handleBtnZoomInTap}),this._createButton({name:"zoomOut",startPosition:{right:-39,bottom:15},endPosition:{right:10,bottom:15},listener:this._handleBtnZoomOutTap})),this._createPanelsWithText(),this.emit("inited"),this._inited=!0},StoreLocator3.prototype._createPanelsWithText=function(){var t,e;this._infobox&&(e=this._infobox.position,this.node.removeChild(this._infobox._container),this._infobox=null),this._list&&(t=this._list.position,this.node.removeChild(this._list._container),this._list=null),this._header&&(this.node.removeChild(this._header._container),this._header=null),this._header=new StoreLocator3.Header({parent:this}),this._infobox=new StoreLocator3.Infobox({parent:this,position:e||"bottom"}),this._list=new StoreLocator3.List({parent:this,position:t||"left"}),"list"!==this.defaultView&&"both-list"!==this.defaultView||this._list._setContent(this._sortedLocations),"list-both"===this.defaultView?this._header._setContent("listHeader"):"map-both"===this.defaultView&&this._header._setContent("mapHeader"),this._inited&&this._animateButtonsIn()},StoreLocator3.prototype._createMap=function(){this._mapContainer||(this._mapContainer=this.template("mapContainer",{},this.node)),this._map=new google.maps.Map(this._mapContainer,{zoom:this._defaultZoom,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!1,gestureHandling:"greedy",styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),this._placesService=new google.maps.places.PlacesService(this._map),this._map.set("styles",StoreLocator3._mapStyles[this.mapStyle]),google.maps.event.addListener(this._map,"resize",this._handleMapResize),google.maps.event.addListener(this._map,"bounds_changed",this._handleMapBoundsChange),google.maps.event.addListener(this._map,"idle",this._handleMapIdle),google.maps.event.addListener(this._map,"click",this._handleMapClick),google.maps.event.addListener(this._map,"dragstart",function(){new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()}.bind(this)),google.maps.event.addListener(this._map,"zoom_changed",function(){this.emit("mapzoomed")}.bind(this)),google.maps.event.addListener(this._map,"drag",function(){this.emit("mapdragged")}.bind(this)),google.maps.event.addListenerOnce(this._map,"idle",function(){this.emit("mapinited")}.bind(this)),this._locateUser(),this.node.appendChild(this._mapContainer)},StoreLocator3.prototype._handleMapResize=function(){this._searchMode||defer(this._applySnapshot.bind(this))},StoreLocator3.prototype._handleMapBoundsChange=function(){this._boundsChanged=!0},StoreLocator3.prototype._handleMapIdle=function(){this._canLoadLocations&&this._initFocusDone&&(this._ignoreSnapshot||this._createSnapshot(),this._boundsChanged&&!this._ignoreBoundsChanged&&(this._boundsChanged=!1,"list"!==this.source||"limit-max"===this.initialLocation&&!this._searchMode?this._addLocationsMarkers():this._loadLocations(this._generateLoadLocationsQuerystring("bb"),function(){this._ignoreSnapshot||this._createSnapshot(),this._addLocationsMarkers(),this._selectedLocation&&this._getLocation(this._selectedLocation.id)||this._collapseInfobox()}.bind(this))))},StoreLocator3.prototype._handleMapClick=function(){this._selectedLocation=null,this._selectedClusterLocation=null,this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn())}.bind(this)),this._setAllMarkersInactive(),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction(),this.emit("maptapped")},StoreLocator3.prototype._initFocus=function(){this._canLoadLocations&&(this._refocusTapped?this._refocusTapped=!1:this._focus(function(){var t;"list"===this.source&&this.tableId&&(t=new ActionContext(this,this.NOT_USER_INTERACTED),"list"!==this.defaultView&&"both-list"!==this.defaultView||this._refocusTapped?t.track({name:"locatorMapView"}):(this._refocusTapped=!1,this._list._setContent(this._sortedLocations),t.track({name:"locatorListView"}))),this._initFocusDone=!0,this._handleMapIdle()}.bind(this)))},StoreLocator3.prototype._focus=function(t){this._canLoadLocations&&(t=t||noop,"search"===this.source?this._searchLocations(this.searchQuery,StoreLocator3._userLocation,this.nearbyRadius,function(){this._addLocationsMarkers(),t()}.bind(this)):"list"===this.source&&this.tableId&&this["_focus"+ucfirst(camelize(this.initialLocation))](function(){this._map.fitBounds(this._bounds),t()}.bind(this)))},StoreLocator3.prototype._createButton=function(t){var e=new StoreLocator3.Button({parent:this,name:(t=t||{}).name,startPosition:t.startPosition,endPosition:t.endPosition,style:t.style||"",listener:t.listener||noop});this._buttons[t.name]=e},StoreLocator3.prototype._handleBtnListTap=function(t){this._animateButtonsOut(),this._infobox._animateOut(),defer(function(){this._list._animateIn(),this._header._setHeader("listHeader","none"),this._header._animateIn()}.bind(this),this._animationDelay),this.emit("listbuttontapped");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:"locatorListView"})},StoreLocator3.prototype._handleBtnRefocusTap=function(t){this._refocusTapped=!0,this._updateUserLocation(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng()),this._map.setZoom(this._refocusZoom),this.emit("refocusbuttontapped");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:"locatorRefocusClicked"})},StoreLocator3.prototype._handleBtnSearchTap=function(t){this._searchMode=!0,this._enteredSearchModeFromMap=!0,this._animateButtonsOut(),this._infobox._animateOut(),defer(function(){this._header._setHeader("searchHeader","none"),this._header._animateIn(),this._list._clearList(),this._list._animateIn(function(){this._header._searchInput.focus()}.bind(this))}.bind(this),this._animationDelay),this.emit("searchbuttontapped");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:"locatorSearchClicked"})},StoreLocator3.prototype._handleBtnZoomInTap=function(t){this._map.setZoom(this._map.getZoom()+1),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.prototype._handleBtnZoomOutTap=function(t){this._map.setZoom(this._map.getZoom()-1),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.prototype._animateButtonsIn=function(t){for(var e in t=t||[],this._buttons)-1===t.indexOf(e)&&this._buttons[e]._animateIn()},StoreLocator3.prototype._animateButtonsOut=function(t){for(var e in t=t||[],this._buttons)-1===t.indexOf(e)&&this._buttons[e]._animateOut()},StoreLocator3.prototype._locateUser=function(){var t,e,i;this._useFallbackLocation?this._cannotLocate():(t=function(t){this._updateUserLocation(t.lat,t.lng),this.emit("userpositionlocated",t)}.bind(this),e=function(){this._cannotLocate(),this.emit("userpositionnotlocated")}.bind(this),i={isGeolocationPromptDisabled:this._isGeolocationPromptDisabled},this.parentUnit.userLocation.getLocation(t,e,i))},StoreLocator3.prototype._cannotLocate=function(){this.fallbackLocationLatLng?this._updateUserLocation(this.fallbackLocationLatLng.lat,this.fallbackLocationLatLng.lng):this._updateUserLocation(42.358431,-71.059773)},StoreLocator3.prototype._updateUserLocation=function(t,e){StoreLocator3._userLocation=new google.maps.LatLng(t,e),this._setCenter(t,e,!0),this.emit("userlocationupdated",{lat:t,lng:e})},StoreLocator3.prototype._focusNearby=function(e){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&(this._bounds=new google.maps.Circle({center:StoreLocator3._userLocation,radius:this.nearbyRadius}).getBounds(),this._map.fitBounds(this._bounds),this._loadLocations(this._generateLoadLocationsQuerystring("bb"),function(){var t=this._getLocationsNumber();this.nearbyCount>t?this._loadLocations(this._generateLoadLocationsQuerystring("loc"),function(){this._bounds=this._getLocationsBounds().union(this._bounds),this._map.fitBounds(this._bounds),this._loadLocations(this._generateLoadLocationsQuerystring("bb"),function(){e()}.bind(this))}.bind(this)):e()}.bind(this)))},StoreLocator3.prototype._focusLimitMax=function(t){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&this._loadLocations(this._generateLoadLocationsQuerystring("loc"),function(){this._locations=createClustersForIdenticalCoordinates(this._locations),this._bounds=this._getLocationsBounds(),t()}.bind(this))},StoreLocator3.prototype._focusAll=function(t){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&this._loadLocations(this._generateLoadLocationsQuerystring(),function(){this._bounds=this._getLocationsBounds(),this._map.fitBounds(this._bounds),t()}.bind(this))},StoreLocator3.prototype._getLocationsNumber=function(){var e=0;return this._locations.forEach(function(t){e+=1<t.size?t.size:1}),e},StoreLocator3.prototype._getLocationsBounds=function(){var e=new google.maps.LatLngBounds;return this._locations.forEach(function(t){e.extend(new google.maps.LatLng(t.lat,t.lng))}),e.extend(new google.maps.LatLng(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng())),e},StoreLocator3.prototype._removeLocationsMarkers=function(){this._oldMarkers.forEach(function(t){t.marker.setMap(null)}),this._oldMarkers=[]},StoreLocator3.prototype._addLocationsMarkers=function(){this._oldMarkers=this._oldMarkers.concat(this._markerReferences.slice()),this._markerReferences=[],this._locations.forEach(function(t){1<t.size?this._addClusterMarker(t):this._addMarker(t)},this),defer(this._removeLocationsMarkers.bind(this),100),this.emit("locationsaddedtomap",this._locations)},StoreLocator3.prototype._addMarker=function(e){var t=this._getMarkerIcon(!1),i=new google.maps.Marker({map:this._map,zIndex:2,optimized:ios(),position:new google.maps.LatLng(e.lat,e.lng),icon:t}),o={marker:e.marker=i,type:"default",location:e};this._markerReferences.push(o),this._selectedLocation&&this._selectedLocation.id===e.id&&this._setMarkerActive(o,!0),i.addListener("click",function(t){this._setAllMarkersInactive(),i.setZIndex(3),this._setMarkerActive(o,!0),this._handleMarkerTap(t,e)}.bind(this))},StoreLocator3.prototype._addClusterMarker=function(e){var t=this._getClusterMarkerIcon(e,!1),i=new google.maps.Marker({position:new google.maps.LatLng(e.lat,e.lng),zIndex:2,optimized:ios(),icon:t,map:this._map}),o={marker:e.marker=i,type:"cluster",location:e};this._markerReferences.push(o),e.locations.forEach(function(t){this._selectedLocation&&this._selectedLocation.id===t.id&&this._setMarkerActive(o,!0)},this),i.addListener("click",function(t){(this._map.getZoom()>=this._maxZoom||this._checkIfSameLocation(e))&&(this._setAllMarkersInactive(),i.setZIndex(3),this._setMarkerActive(o,!0)),this._handleMarkerTap(t,e)}.bind(this))},StoreLocator3.prototype._getMarkerIcon=function(t){var e,i;return this._customActivePin&&t||this._customPin&&!t?(e=t?this._customActivePin:this._customPin,i=t?this.customActivePin:this.customPin,{url:e.src,size:new google.maps.Size(i.width,i.height),scaledSize:new google.maps.Size(i.width,i.height),anchor:new google.maps.Point(i.width/2,i.height)}):(e=StoreLocator3._pins.markerWithHole,{url:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e.svg.replace(/{pathFill}/g,t?this.themeColor:"night"===this.mapStyle?this._defaultLightPinColor:this._defaultDarkPinColor)),anchor:new google.maps.Point(e.width/2,e.height),scaledSize:new google.maps.Size(e.width,e.height)})},StoreLocator3.prototype._getClusterMarkerIcon=function(t,e){t.locations;var i,o=1<t.size&&this._map.getZoom()<this._maxZoom&&!this._checkIfSameLocation(t)?(i=StoreLocator3._pins.markerCluster,new google.maps.Point(0,i.height/2)):(i=StoreLocator3._pins.markerSolid,new google.maps.Point(i.width/2,i.height)),e=i.svg.replace(/{pathFill}/g,e?this.themeColor:"night"===this.mapStyle?this._defaultLightPinColor:this._defaultDarkPinColor).replace(/{fontColor}/g,e?this._getContrastingColor(this.themeColor):"night"===this.mapStyle?"rgb(0,0,0)":"rgb(255,255,255)").replace(/{fontSize}/g,999<t.size?"10px":99<t.size?"11px":"12px").replace(/{fontFamily}/g,this.textFont).replace(/{text}/g,t.size).replace(/{verticalTextAlignment}/g,deviceInfo.browser.ie()||deviceInfo.browser.edge()?'dy="0.35em"':'dominant-baseline="central"');return{url:"data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e),anchor:o,scaledSize:new google.maps.Size(i.width,i.height)}},StoreLocator3.prototype._checkIfSameLocation=function(t){var e=t.locations,i=!0;if(e)for(var o=0;o<e.length;o++)e[0].lat===e[o].lat&&e[0].lng===e[o].lng||(i=!1);return i},StoreLocator3.prototype._handleMarkerTap=function(t,e){1<e.size&&this._map.getZoom()<this._maxZoom&&!this._checkIfSameLocation(e)?(this._map.setCenter(e.marker.getPosition()),this._map.setZoom(this._map.getZoom()+1),this.emit("clustermarkertapped",e)):this._infobox._isVisible&&e!==this._selectedLocation&&(1<e.size&&(this._selectedClusterLocation=e),this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateOut(),this._buttons.zoomOut._animateOut()),this._infobox._setContent(e),this._infobox._animateIn(),this._isSmaller&&!e.size&&(this._header._setHeader("infoboxHeader","none"),this._header._animateIn(),this._infoboxHeaderActive=!0)}.bind(this)),this.emit("locationmarkertapped",e),this._trackBasedOnSource("locatorLocationShown",e))},StoreLocator3.prototype._setMarkerActive=function(t,e){e="cluster"==t.type?this._getClusterMarkerIcon(t.location,e):this._getMarkerIcon(e);t.marker.setIcon(e)},StoreLocator3.prototype._setAllMarkersInactive=function(){this._markerReferences.forEach(function(t){this._setMarkerActive(t,!1),t.marker.setZIndex(2)},this)},StoreLocator3.prototype._generateLoadLocationsQuerystring=function(t){var e="";switch(t){case"bb":var i=this._getMapBoundsUrl();i&&(e=buildQuery({loc:StoreLocator3._userLocation.toUrlValue(),bb:i,detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset}));break;case"loc":if(StoreLocator3._userLocation){i="nearby"===this.initialLocation||this._searchMode?this.nearbyCount:this.maxLimitCount,e=buildQuery({loc:StoreLocator3._userLocation.toUrlValue(),detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset,limit:i});break}default:e=buildQuery({detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset})}return e},StoreLocator3.prototype._getMapBoundsUrl=function(){var t,e=this._map.getBounds()||this._bounds;if(e)return t=e.getCenter(),e=e.toSpan(),[t.lat()-e.lat()/2,t.lng()-e.lng()/2,t.lat()+e.lat()/2,t.lng()+e.lng()/2].join()},StoreLocator3.prototype._searchLocations=function(t,e,i,o){this._canLoadLocations&&t&&(this._locations=[],this._getPlaces(t,e,i,o))},StoreLocator3.prototype._getPlaces=function(t,e,i,o){e={location:e,radius:parseInt(i,10)+"",name:t.trim()};this._placesService.nearbySearch(e,function(t,e){e!=google.maps.places.PlacesServiceStatus.OK&&e!=google.maps.places.PlacesServiceStatus.ZERO_RESULTS||this._handlePlacesRequest(t,o)}.bind(this))},StoreLocator3.prototype._handlePlacesRequest=function(t,e){t.forEach(function(t){this._locations.push(this._parsePlace(t))},this);t="nearby"===this.initialLocation||this._searchMode?this.nearbyCount:this.maxLimitCount;this._locations.length<t&&this.nearbyRadius!==this._maxSearchRadius?(this.nearbyRadius=this._maxSearchRadius,this._locations=[],this._searchLocations(this.searchQuery,StoreLocator3._userLocation,this.nearbyRadius,e)):(this._sortedLocations=this._getSortedLocations(StoreLocator3._userLocation,this._locations),"limit-max"!==this.initialLocation||this._searchMode||(this._locations=this._sortedLocations=this._sortedLocations.slice(0,this.maxLimitCount)),this._locations=createClustersForIdenticalCoordinates(this._locations),this._bounds=this._getLocationsBounds(),"list"!==this.defaultView&&this._map.fitBounds(this._bounds),"list"!==this.defaultView&&"both-list"!==this.defaultView||this._refocusTapped||this._list._setContent(this._sortedLocations),this.emit("locationsloaded",this._locations),e&&e())},StoreLocator3.prototype._getPlaceDetails=function(i,o){this._placesService.getDetails({placeId:i.id,fields:["address_components","geometry","name","place_id","vicinity","opening_hours","international_phone_number","website","utc_offset_minutes"]},function(t,e){e==google.maps.places.PlacesServiceStatus.OK&&(i=this._parsePlace(t),this._formatLocationAddress(i),o&&o(i))}.bind(this))},StoreLocator3.prototype._getAddressComponent=function(i,t){var o;if(t.address_components)return t.address_components.forEach(function(e){e.types.some(function(t){t===i&&(o=e.long_name)},this)},this),o},StoreLocator3.prototype._parsePlace=function(t){var e,i=this._getAddressComponent("route",t)||"",o=this._getAddressComponent("street_number",t)||"",s=this._getAddressComponent("locality",t)||"",a=this._getAddressComponent("postal_code",t)||"",n=this._getAddressComponent("country",t)||"",r=this._getAddressComponent("administrative_area_level_1",t)||"",h=(t.opening_hours&&!isNaN(t.utc_offset_minutes)&&(e="",t.opening_hours.weekday_text&&(t.opening_hours.weekday_text.unshift(t.opening_hours.weekday_text.pop()),e=t.opening_hours.weekday_text[(new Date).getDay()]||""),e={openNow:t.opening_hours.isOpen(),text:e.substring(e.indexOf(": ")+2)}),t.geometry.location.lat()),c=t.geometry.location.lng(),l=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(h,c)),d=StoreLocator3._formatDistance(this._convertDistance(l))+" "+this._unitsAbbr;return{address:i&&o?i+" "+o:t.vicinity.substring(0,t.vicinity.indexOf(", "))||"",formattedAddress:t.vicinity?'<p class="dimmed">'+t.vicinity+"</p>":"",formattedAddressOneLine:t.vicinity?'<p class="dimmed">'+t.vicinity+"</p>":"",formattedAddressOneLineWithDistance:t.vicinity?'<p class="dimmed">'+t.vicinity+" - "+d+"</p>":"",city:s,country:n,email:"",id:t.place_id,lat:h,lng:c,userDistance:l,name:t.name,openingHours:e||"",phone:t.international_phone_number||"",state:r,website:t.website||"",zip:a}},StoreLocator3.prototype._loadLocations=function(e,i){this._canLoadLocations&&this.tableId&&e?(this._oldLocations=this._locations,this._locationsCache[e]?(clearTimeout(this._locationsCache[e].timeout),this._updateLocationsCache(e,this._locationsCache[e].data,i),delete this._locationsCache[e]):loadJSONP((creative.secure?creative.geoUrl:creative.insecureGeoUrl)+"locationTables/"+this.tableId+"/locations/?"+e,function(t){t=sanitizeLocationsData(t),this._selectedMode||this._updateLocationsCache(e,t,i)}.bind(this),function(){console.error("Fetching locations from server failed.")}.bind(this))):"function"==typeof i&&i()},StoreLocator3.prototype._updateLocationsCache=function(t,e,i){var o=setTimeout(function(){delete this._locationsCache[t]}.bind(this),this._locationCacheDuration);this._locations=e,this._locations.forEach(function(t){t.size?t.locations.forEach(function(t){this._formatLocationAddress(t)},this):this._formatLocationAddress(t)},this),this._sortedLocations=this._getSortedLocations(StoreLocator3._userLocation,e),this._locationsCache[t]={timeout:o,data:this._locations},this.emit("locationsloaded",this._locations),"function"==typeof i&&i()},StoreLocator3.prototype._calculateUserDistancesAndGetSingleLocations=function(t){var e;return StoreLocator3._userLocation?(e=[],t.forEach(function(t){1<t.size?t.locations.forEach(function(t){t.userDistance||(t.userDistance=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(t.lat,t.lng))),e.push(t)}):(t.userDistance||(t.userDistance=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(t.lat,t.lng))),e.push(t))}),e):t.reduce(function(t,e){return 1<e.size?t=t.concat(e.locations):t.push(e),t},[])},StoreLocator3.prototype._getSortedLocations=function(e,t){if(e&&t)return t=this._calculateUserDistancesAndGetSingleLocations(t),e===StoreLocator3._userLocation?(t.sort(function(t,e){return t.userDistance>e.userDistance?1:-1}),t):t.map(function(t){return t.currentDistance=StoreLocator3._distance(e,new google.maps.LatLng(t.lat,t.lng)),t}).sort(function(t,e){return t.currentDistance>e.currentDistance?1:-1})},StoreLocator3.prototype._handlePhoneTap=function(t){t.stopPropagation();var e=t.target.getAttribute("data-number"),t=this._getLocation(t.target.getAttribute("data-id"));this.emit("phonetapped",t),this._trackBasedOnSource("locatorPhoneCalled",t).trackClickThrough(),creative.adapter.callPhone(e)},StoreLocator3.prototype._handleWebsiteTap=function(t){t.stopPropagation();var e=t.target.getAttribute("data-website"),t=this._getLocation(t.target.getAttribute("data-id")),t=(this.emit("websitetapped",t),this._trackBasedOnSource("locatorUrlOpened",t));t.trackClickThrough(),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(e),creative.shouldClickThroughToNewWindow(t))},StoreLocator3.prototype._handleEmailTap=function(t){t.stopPropagation();var e=t.target.getAttribute("data-mail"),t=this._getLocation(t.target.getAttribute("data-id")),t=(this.emit("emailtapped",t),this._trackBasedOnSource("locatorEmailClicked",t));t.trackClickThrough(),this.parentUnit.openBrowser(t,"mailto:"+e)},StoreLocator3.prototype._handleDirectionsTap=function(t){t.stopPropagation();var t=this._getLocation(t.target.getAttribute("data-id")),e="https://maps.google.com?saddr="+StoreLocator3._userLocation.lat()+","+StoreLocator3._userLocation.lng()+"&daddr="+t.lat+","+t.lng+"&directionsmode=driving",t=(this.emit("directionstapped",t),this._trackBasedOnSource("locatorDirectionsClicked",t));t.trackClickThrough(),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(e),creative.shouldClickThroughToNewWindow(t))},StoreLocator3._distance=function(t,e){function i(t){return t*Math.PI/180}var o=t.lat(),t=t.lng(),s=i(e.lat()-o),e=Math.sin(i(e.lng()-t)/2),t=Math.cos(i(o)),o=Math.sin(s/2)*Math.sin(s/2)+t*t*e*e;return 12742e3*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))},StoreLocator3.prototype._convertDistance=function(t){return"imperial"===this.units?t*this.MILES_PER_KILOMETER/this.METERS_PER_KILOMETER:t/this.METERS_PER_KILOMETER},StoreLocator3._formatDistance=function(t){return Math.round(10*t)/10},StoreLocator3.prototype._getLocation=function(e){var i;return this._sortedLocations.forEach(function(t){t.id===e&&(i=t)},this),i},StoreLocator3.prototype._createSnapshot=function(){this._snapshot={locations:this._locations,sortedLocations:this._sortedLocations,bounds:this._map.getBounds(),zoom:this._map.getZoom()}},StoreLocator3.prototype._applySnapshot=function(){this._snapshot&&(this._locations=this._snapshot.locations,this._sortedLocations=this._snapshot.sortedLocations,this._setCenter(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng(),!0),this._map.fitBounds(this._snapshot.bounds),this._map.setZoom(this._snapshot.zoom))},StoreLocator3.prototype._formatLocationAddress=function(t){var e,i,o,s,a="",n="",r="",h=StoreLocator3._formatDistance(this._convertDistance(t.userDistance))+" "+this._unitsAbbr,r="eu"===this.addressFormat?(i=t.zip?t.city||t.state?t.zip+" ":t.zip:"",o=t.city?t.state?t.city+", ":t.city:"",s=t.state||"",a='<p class="dimmed">'+(e=t.address||"")+'</p><p class="dimmed">'+i+o+s+"</p>",n='<p class="dimmed">'+(e=t.address?t.city||t.state||t.zip?t.address+", ":t.address:"")+i+o+s+"</p>",'<p class="dimmed">'+e+i+o+s+" - "+h+"</p>"):(i=t.zip||"",o=t.city?t.state||t.zip?t.city+", ":t.city:"",s=t.state?t.zip?t.state+" ":t.state:"",a='<p class="dimmed">'+(e=t.address||"")+'</p><p class="dimmed">'+o+s+i+"</p>",n='<p class="dimmed">'+(e=t.address?t.city||t.state||t.zip?t.address+", ":t.address:"")+o+s+i+"</p>",'<p class="dimmed">'+e+o+s+i+" - "+h+"</p>");t.formattedAddress=a,t.formattedAddressOneLine=n,t.formattedAddressOneLineWithDistance=r},StoreLocator3.prototype._parseOpeningHours=function(t,e){if(!t)return!1;if("object"==typeof t)return e?t.text:t.openNow;function i(t,e){return(t=t.split(":")).length<2&&(t[1]="00"),t.length<3&&(t[2]="00"),"am"!==e&&"pm"!==e||("pm"===e&&t[0]<12&&(t[0]=parseInt(t[0],10)+12),"am"===e&&12==t[0]&&(t[0]=parseInt(t[0],10)-12),t[0]=zeroPad(t[0]),t[1]=zeroPad(t[1])),t.join(":")}function o(t,e,i){var o=e+"Time",s=e+"TimePeriod",e=e+"TimeWithoutPeriod",i=(t[o]=i,t[s]=i.slice(-2).replace(/( |\d)/g,"").toLowerCase(),"am"==t[s]||"pm"==t[s]||"h"==t[s]);return-1===t[o].indexOf(":")?(t[e]=i?t[o].slice(0,t[o].length-t[s].length):t[o]+":00",t[o]=i?t[e]+":00"+t[s]:t[o]+":00"):t[e]=i?t[o].slice(0,t[o].length-t[s].length):t[o],t}function s(t){t=t.split(":");return 60*parseInt(t[0],10)*60+60*parseInt(t[1],10)+parseInt(t[2],10)}var a,n,r="Opening days data is not formatted properly.";try{var h,c,l=["sun","mon","tue","wed","thu","fri","sat"],d=!1,p=("undefined"!=typeof creative&&(creative.runtimeParams.overrides||{}).clientTimestamp&&(h=parseInt(creative.runtimeParams.overrides.clientTimestamp,10)),isNaN(h)?new Date:new Date(1e3*h)),u="",_=l[p.getDay()];t=t.replace(/ /g,"").toLowerCase().split(",");t:for(var m=0;m<t.length;m++){var f,y,g=t[m];if(y=(g=(g=g.replace(":","#")).split("#"))[0],c=g[1],y=y.split(/\u2013|-/g),-1===l.indexOf(y[0])||2===y.length&&-1===l.indexOf(y[1]))throw new Error(r);1<y.length&&(y=l.indexOf(y[0])>l.indexOf(y[1])?(f=y[1],y=l.slice(l.indexOf(y[0])),l.slice(0,l.indexOf(f)+1).concat(y)):l.slice(l.indexOf(y[0]),l.indexOf(y[1])+1));for(var b={},L=0;L<y.length;L++){var S=y[L],v=(a=S,n=_,a=l.indexOf(a),n=l.indexOf(n),6===a&&0===n||n-a==1),C=c,T="",w="";if(S===_||v)for(var C=C.split("&"),x=0;x<C.length;x++){C[x]=C[x].split(/\u2013|-/g),b=o(b,"opening",C[x][0].trim()),w+=T+(b=o(b,"closing",C[x][1].trim())).openingTime.toUpperCase()+" - "+b.closingTime.toUpperCase();var T=", ",k=i(b.openingTimeWithoutPeriod,b.openingTimePeriod),I=i(b.closingTimeWithoutPeriod,b.closingTimePeriod),P=s(I)<=s(k),M=new Date(p.getMonth()+1+"/"+(v?p.getDate()-1:p.getDate())+"/"+p.getFullYear()+" "+k),E=p.getDate(),B=(!v&&P?E+=1:v&&!P&&(E-=1),new Date(p.getMonth()+1+"/"+E+"/"+p.getFullYear()+" "+I));M<=p&&p<=B&&(d=!0)}if(v&&d||S===_&&""==u){u=w;break t}}}return e?u:d}catch(t){return console.error((r!=t.message?"Opening hours data is not formatted properly.":r)+" Check locator's support page on http://support.celtra.com"),"error"}},StoreLocator3.prototype._setCenter=function(t,e,i){var o;!t&&0!==t||!e&&0!==e||!this._map||(this._removeUserPin(),o=new google.maps.LatLng(t,e),this._map.setCenter(o),i&&this._redrawUserPin(t,e))},StoreLocator3.prototype._removeUserPin=function(){this._userPin&&this._userPinShadow&&(this._userPinShadow.setMap(null),this._userPin.setMap(null))},StoreLocator3.prototype._redrawUserPin=function(t,e){t=new google.maps.LatLng(t,e),e={path:google.maps.SymbolPath.CIRCLE,strokeColor:this._userPinHaloColor,strokeOpacity:.15,fillOpacity:0,scale:8,strokeWeight:36};this._userPinShadow=new google.maps.Marker({map:this._map,position:t,zIndex:-2,optimized:!1,clickable:!1,icon:e}),this._thumbnailMode||this._userMarkerAnimated||(this._userMarkerAnimated=!0,this._animateUserPinShadow(e)),this._userPin=new google.maps.Marker({map:this._map,position:t,zIndex:-2,optimized:!1,clickable:!1,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:this._userPinDotColor,fillOpacity:1,strokeOpacity:0,scale:10}})},StoreLocator3.prototype._animateUserPinShadow=function(t){var o=function(t,e){var i=t.new>t.current?s.in:s.out;i.scale.animateTo(t.new,800,function(){o({current:t.new,new:t.current},{current:e.new,new:e.current})}),i.stroke.animateTo(e.new,800,noop)},e=function(){this._userPinShadow.getIcon();t.scale=i.scale,t.strokeWeight=i.strokeWeight,this._userPinShadow.setIcon(t)}.bind(this),i=new StateObject({scale:8,strokeWeight:36}),s=(i.on("change:scale",e),creative.adapter.on("stateChange",function(t){"dismissed"===t&&i.off("change:scale",e)}),{in:{scale:new EasingAnimation(i,"scale",{exp:EasingAnimation.presets.easeIn}),stroke:new EasingAnimation(i,"strokeWeight",{exp:EasingAnimation.presets.easeIn})},out:{scale:new EasingAnimation(i,"scale",{exp:EasingAnimation.presets.easeOut}),stroke:new EasingAnimation(i,"strokeWeight",{exp:EasingAnimation.presets.easeOut})}});o({current:8,new:.1},{current:36,new:20})},StoreLocator3.prototype._geocodeLocation=function(i,o){var t=i+"",e=new google.maps.Geocoder;this.country&&(t+=" "+this.country),e.geocode({address:t},function(t,e){e===google.maps.GeocoderStatus.OK?(i=t[0])&&"function"==typeof o&&o(i.geometry.location.lat(),i.geometry.location.lng()):console.error("Provided location couldn't be geocoded.")})},StoreLocator3.prototype._trackBasedOnSource=function(t,e){var i=new ActionContext(this,this.USER_INTERACTED),t={name:t};return"search"===this.source?(t.locationId=null,t.googlePlaceId=e.id):(t.locationId=(1<e.size?e.locations[0]:e).id,t.googlePlaceId=null),i.trackUserInteraction(),i.track(t),i},StoreLocator3.prototype._setPhrases=function(t,e,i){this._phrases={},"string"==typeof e?this.language=e:"object"==typeof e&&(i=e),extend(this._phrases,this._translations[this.language]),("arabic"===this.language?addClass:removeClass)(t,"arabic"),"object"==typeof i&&extend(this._phrases,i)},StoreLocator3.prototype._collapseInfobox=function(){this._infobox._isExpanded&&this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn()),this._setAllMarkersInactive(),this._selectedLocation=null}.bind(this))},StoreLocator3.prototype._closeInfoboxHeader=function(){this._infoboxHeaderActive&&(this._setAllMarkersInactive(),this._selectedLocation=this._selectedClusterLocation=null,this._infobox._animateOut(),this._header._animateOut(),desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn()),this._infoboxHeaderActive=!1)},StoreLocator3.prototype._exitSelectedMode=function(){this._selectedMode&&(this._setAllMarkersInactive(),this._selectedLocation=this._selectedClusterLocation=null,this._ignoreBoundsChanged=!1,this._selectedMode=!1,this._collapseInfobox(),this._list._animateIn(),this._header._exitSelectedMode())},StoreLocator3.prototype._exitSearchMode=function(){this._searchMode&&(this._ignoreSnapshot=!1,this._ignoreBoundsChanged=!1,this._applySnapshot(),"map"!==this.defaultView&&(this._enteredSearchModeFromMap?(this._list._animateOut(),this._animateButtonsIn()):this._list._setContent(this._sortedLocations)),this._header._exitSearchMode(),this._searchMode=!1)},StoreLocator3.prototype.getUserLocation=function(){if(StoreLocator3._userLocation)return{lat:StoreLocator3._userLocation.lat(),lng:StoreLocator3._userLocation.lng()}},StoreLocator3.prototype.getSelectedLocation=function(){if(this._selectedLocation)return this._getLocation(this._selectedLocation.id)},StoreLocator3.prototype.setCountry=function(t){this._country=t},StoreLocator3.prototype.setZoom=function(t){"in"===t?this._map.setZoom(this._map.getZoom()+1):"out"===t?this._map.setZoom(this._map.getZoom()-1):"number"==typeof t?this._map.setZoom(t):console.error('Invalid "level" parameter.')},StoreLocator3.prototype.setAnimations=function(t){this._isAnimated=!!t},StoreLocator3.prototype.disableGeolocationPrompt=function(){this._isGeolocationPromptDisabled=!0},StoreLocator3.prototype.setCenter=function(t,i){if(this._map&&t)switch(t.type.toLowerCase()){case"geo":this._setCenter(t.data.lat,t.data.lng,i);break;case"zip":this._geocodeLocation(t.data,function(t,e){this._setCenter(t,e,i)}.bind(this));break;case"address":this._geocodeLocation(t.data,function(t,e){this._setCenter(t,e,i)}.bind(this))}else console.error("setCenter function is missing required parameters.")},StoreLocator3.prototype.createButton=function(t){if(t&&t.name&&t.startPosition&&t.endPosition)return this._createButton(t),this._buttons[t.name];console.error("createButton function is missing required parameters.")},StoreLocator3.prototype.getButton=function(t){return this._buttons[t]},StoreLocator3.prototype.getInfobox=function(){return this._infobox},StoreLocator3.prototype.getList=function(){return this._list},StoreLocator3.prototype.getMap=function(){return console.warn("getMap function is deprecated and will be retired soon."),creative.track({name:"retiredFeatureUsed",featureType:"apifunction",featureName:"getMap"}),this._map},StoreLocator3.prototype.setPhrases=function(t,e){this._setPhrases(this.node,t,e),this._createPanelsWithText()},StoreLocator3.templates={initialMapDialog:'<div class="initial-map-dialog">    <div class="map-placeholder"></div>    <div class="overlay">       <div class="overlay-content">           <div class="user-interaction">               <p class="user-interaction-message"><% if (desktop()) { %><%= this._phrases.userInteractionDesktop %><% } else { %><%= this._phrases.userInteraction %><% } %></p>               <div class="icon"><svg class="refocus"><use xlink:href="#refocus"></use></svg></div>           </div>           <div class="user-consent">               <p class="user-consent-message"><%= this._phrases.mapsConsentPrompt %></p>               <div class="consent-button button-yes">                   <p class="consent-button-show-message"><%= this._phrases.mapsConsentPromptShow %></p>               </div>               <div class="consent-button button-no">                   <p class="consent-button-cancel-message"><%= this._phrases.mapsConsentPromptCancel %></p>               </div>           </div>       </div>    </div></div>',mapContainer:'<div class="map-container ignore-toucheventsimulator"></div>',headerContainer:'<div class="header"></div>',infoboxHeader:'<div class="header-content infobox-header" <% if (hidden) { %>style="opacity:0;"<% } %>>    <div class="back with-text touchable"><svg><use xlink:href="#back"></use></svg><%= this._phrases.infoboxHeader %></div></div>',mapHeader:'<div class="header-content map-header" <% if (hidden) { %>style="opacity:0;"<% } %>>    <div class="back with-text touchable"><svg><use xlink:href="#back"></use></svg><span><% if (this._searchMode) { %><%= this._phrases.searchHeader %><% } else { %><%= this._phrases.mapHeader %><% } %></span></div></div>',listHeader:'<div class="header-content list-header" <% if (hidden) { %>style="opacity:0;"<% } %>>    <% if (this.defaultView !== "list") { %><div class="back with-text touchable"><svg><use xlink:href="#back"></use></svg><%= this._phrases.listHeader %></div><% } %>    <% if (this.searchBar) { %><div class="search touchable"><svg><use xlink:href="#search"></use></svg></div><% } %></div>',searchHeader:'<div class="header-content search-header" <% if (hidden) { %>style="opacity:0;"<% } %>>    <div class="back touchable"><svg><use xlink:href="#back"></use></svg></div>    <input class="query" type="text" placeholder="<%= this._phrases.searchPlaceholder %>">    <div class="cancel touchable"><svg><use xlink:href="#searchCancel"></use></svg></div></div>',clusterHeader:'<div class="header-content cluster-header" <% if (hidden) { %>style="opacity:0;"<% } %>><% if (this._isSmaller) { %>    <div class="back with-text touchable">        <svg><use xlink:href="#back"></use></svg>        <div class="title"><% } %>        <h5><%= this._phrases.infoboxClusterTitle %></h5>        <p class="instructions"><%= this._phrases.infoboxClusterSubtitle %></p><% if (this._isSmaller) { %>        </div>    </div><% } %>    <p class="navigation"><span class="current-location">1</span>/<span class="total-locations"><%= locations %></span></p></div>',infoboxContainer:'<div class="infobox-container"></div>',infoboxContentWrapper:'<div class="infobox-wrapper"></div>',infoboxContent:'<div class="infobox-location">    <div class="details<% if (!phone && !website && !email) { %> no-actions<% } %>">        <div class="center">            <h3 class="touchable" data-action="_handleDirectionsTap" data-id="<%= id %>"><%= name %></h3>            <% if ((this._isWide && !this._isSmall && !this._isTiny) || (!this._isWide && this._isTiny)) { %><%= formattedAddressOneLine %><% } else { %><%= formattedAddress %><% } %>            <% if (openingHours && this._parseOpeningHours(openingHours) !== "error") { %><p><span class="<% if (this._parseOpeningHours(openingHours)) { %>open<% } else { %>closed<% } %>"><% if (this._parseOpeningHours(openingHours)) { %><%= this._phrases.hoursStatusOpen %><% } else { %><%= this._phrases.hoursStatusClosed %><% } %></span><% if (this._parseOpeningHours(openingHours, true)) { %><span class="dimmed">: <%= this._parseOpeningHours(openingHours, true) %></span><% } %></p><% } %>        </div>        <div class="directions touchable" data-action="_handleDirectionsTap" data-id="<%= id %>">            <div class="icon"><svg><use xlink:href="#directions"></use></svg></div>            <div class="distance"><%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></div>        </div>    </div></div>',listContainer:'<div class="list-container"></div>',listContentContainer:'<div class="list-content-container"></div>',listContentWrapper:'<div class="list-wrapper"></div>',listContent:'<div class="details" data-id="<%= id %>">    <h3><%= name %></h3>    <% if (this._isSmaller && !this._isWide) { %>    <p class="dimmed"><%= address %> - <%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></p>    <% } else if (this._isSmaller && this._isWide) { %>    <%= formattedAddressOneLineWithDistance %>    <% } else { %>    <%= formattedAddressOneLine %>    <% } %>    <% if (!this._isSmall && !this._isTiny && openingHours) { %><p><span class="<% if (this._parseOpeningHours(openingHours)) { %>open<% } else { %>closed<% } %>"><% if (this._parseOpeningHours(openingHours)) { %><%= this._phrases.hoursStatusOpen %><% } else { %><%= this._phrases.hoursStatusClosed %><% } %></span><% if (this._parseOpeningHours(openingHours, true)) { %><span class="dimmed">: <%= this._parseOpeningHours(openingHours, true) %></span><% } %></p><% } %>    <div class="directions touchable" data-action="_handleDirectionsTap" data-id="<%= id %>">        <div class="icon"><svg><use xlink:href="#directions"></use></svg></div>        <% if (!this._isSmall && !this._isTiny) { %><div class="distance"><%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></div><% } %>    </div></div>',actions:'<ul class="actions<% if (!email) { %> no-email<% } %><% if (!website) { %> no-website<% } %><% if (!phone) { %> no-phone<% } %>">    <% if (email) { %><li class="email touchable" data-id="<%= id %>" data-mail="<%= email %>"><div class="icon"><svg><use xlink:href="#email<% if (this.icons === "solid") { %>Solid<% } %>"></use></svg></div><div class="label"><%= this._phrases.email %></div></li><% } %>    <% if (website) { %><li class="website touchable" data-id="<%= id %>" data-website="<%= website %>"><div class="icon"><svg><use xlink:href="#website<% if (this.icons === "solid") { %>Solid<% } %>"></use></svg></div><div class="label"><%= this._phrases.website %></div></li><% } %>    <% if (phone) { %><li class="phone touchable" data-id="<%= id %>" data-number="<%= phone %>"><div class="icon"><svg><use xlink:href="#phone<% if (this.icons === "solid") { %>Solid<% } %>"></use></svg></div><div class="label"><%= this._phrases.phone %></div></li><% } %></ul>'},StoreLocator3.InterfaceCommon={_setVisibility:function(t){t?(this._container.style.display="block",this._isVisible=!0,this._isExpanded&&(this._animateIn||noop)()):(this._isExpanded&&(this._animateOut||noop)(),this._isVisible=!1,this._container.style.display="none")},_setAnimation:function(){(this.parent._isAnimated?addClass:removeClass)(this._container,"animated")}},StoreLocator3.Header=function(t){extend(this,t),this._handleInfoboxHeaderBackTap=this._handleInfoboxHeaderBackTap.bind(this),this._handleClusterHeaderBackTap=this._handleClusterHeaderBackTap.bind(this),this._handleMapHeaderBackTap=this._handleMapHeaderBackTap.bind(this),this._handleListHeaderBackTap=this._handleListHeaderBackTap.bind(this),this._handleSearchHeaderBackTap=this._handleSearchHeaderBackTap.bind(this),this._handleSearchTap=this._handleSearchTap.bind(this),this._handleSearchPlaceChanged=this._handleSearchPlaceChanged.bind(this),this._handleSearchCancelTap=this._handleSearchCancelTap.bind(this),this._handleTransitionEnd=this._handleTransitionEnd.bind(this),this._container=this.parent.template("headerContainer",{},this.parent.node),window[this.parent._isAnimated?"addClass":"removeClass"](this._container,"animated"),("both-list"===this.parent.defaultView||-1!==this.parent.defaultView.indexOf("list")&&this.parent.searchBar)&&this._setHeader("listHeader","none")},StoreLocator3.Header.prototype._setHeader=function(e,t,i,o){"none"===t?(this._setContent(e,!1,i),this._container.style.opacity="1",this._container.style.top="0"):"content"===t&&(once(this._headerContent,"transitionend",function(t){this._setContent(e,!0,i),once(this._headerContent,"transitionend",function(t){o&&o()}.bind(this)),defer(function(){this._headerContent.style.opacity="1"}.bind(this),0)}.bind(this)),this._headerContent.style.opacity="0")},StoreLocator3.Header.prototype._setContent=function(t,e,i){"clusterHeader"===t&&!this.parent._isSmaller||(e={hidden:e,locations:i&&i.locations},this._container.innerHTML="",this._headerContent=this.parent.template(t,e,this._container),this._backBtn=this._container.querySelector(".back"),this._backBtn&&attach(this._backBtn,"tap",this["_handle"+(t.charAt(0).toUpperCase()+t.slice(1))+"BackTap"]),"searchHeader"===t&&(this._searchInput=this._container.querySelector(".query"),this._searchQuery=new google.maps.places.SearchBox(this._searchInput),this._searchQuery.addListener("places_changed",this._handleSearchPlaceChanged),defer(function(){for(var t=document.querySelectorAll(".pac-container"),e=0;e<t.length;e++)addClass(t[e],"ignore-toucheventsimulator")},500),this._searchCancelBtn=this._container.querySelector(".cancel"),attach(this._searchCancelBtn,"tap",this._handleSearchCancelTap),attach(this._searchInput,"keyup",function(t){this._searchCancelBtn.style.display=""!==this._searchInput.value?"block":"none"}.bind(this))),this._searchBtn=this._container.querySelector(".search"),this._searchBtn&&attach(this._searchBtn,"tap",this._handleSearchTap))},StoreLocator3.Header.prototype._handleClusterHeaderBackTap=function(){this._handleInfoboxHeaderBackTap()},StoreLocator3.Header.prototype._handleInfoboxHeaderBackTap=function(){this.parent._closeInfoboxHeader(),this.parent.emit("infoboxheaderbacktapped");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"locatorMapView"})},StoreLocator3.Header.prototype._handleMapHeaderBackTap=function(){this.parent._exitSelectedMode(),this.parent.emit("mapheaderbacktapped");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"locatorListView"})},StoreLocator3.Header.prototype._exitSelectedMode=function(){"list"!==this.parent.defaultView||this.parent.searchBar||this._animateOut(),this._setHeader(this.parent._searchMode?"searchHeader":"listHeader","content",{},function(){this.parent._searchMode&&(this._searchInput&&this._searchInput.focus(),this._searchInput.value=this.parent._searchQueryPlaceName,this._searchCancelBtn.style.display="block")}.bind(this))},StoreLocator3.Header.prototype._handleListHeaderBackTap=function(){this.parent._isSmaller&&(this.parent._selectedLocation=this.parent._selectedClusterLocation=null),this.parent._ignoreBoundsChanged=!1,this.parent._ignoreSnapshot=!1,this.parent._applySnapshot(),this.parent._list._animateOut(),this._animateOut(),this.parent._selectedLocation||this.parent._selectedClusterLocation?(this.parent._animateButtonsIn(["zoomIn","zoomOut"]),this.parent._infobox._animateIn()):this.parent._animateButtonsIn(),this.parent.emit("listheaderbacktapped");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"locatorMapView"})},StoreLocator3.Header.prototype._handleSearchHeaderBackTap=function(){var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),this.parent._exitSearchMode(),"map"===this.parent.defaultView||this.parent._enteredSearchModeFromMap?t.track({name:"locatorMapview"}):t.track({name:"locatorListview"}),this.parent.emit("searchheaderbacktapped")},StoreLocator3.Header.prototype._exitSearchMode=function(){var t;"map"===this.parent.defaultView?this._handleListHeaderBackTap():(t=function(){this._searchInput.value="",this._searchInput.blur(),this._searchCancelBtn.style.display="none"}.bind(this),this.parent._enteredSearchModeFromMap?this._animateOut(function(){t()}):this._setHeader("listHeader","content",{},function(){t()}))},StoreLocator3.Header.prototype._handleSearchTap=function(){this.parent._enteredSearchModeFromMap=!1,this.parent._searchMode=!0,this.parent._createSnapshot(),this.parent._list._clearList(),this._setHeader("searchHeader","content",function(){this._searchInput&&this._searchInput.focus()}.bind(this)),this.parent.emit("searchbuttontapped");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"locatorSearchClicked"})},StoreLocator3.Header.prototype._handleSearchPlaceChanged=function(){var e,t=this._searchQuery.getPlaces();t&&t.length?(this.parent._ignoreSnapshot=!0,this.parent._searchQueryPlaceName=this._searchInput.value,e=t[0].geometry&&t[0].geometry.location,this.parent.once("locationsloaded",function(){var t=this.parent._getSortedLocations(e,this.parent._sortedLocations);0<this.parent._sortedLocations.length?this.parent._list._setContent(t):this.parent._list._clearList(!0)}.bind(this)),"search"===this.parent.source?this.parent._searchLocations(this.parent.searchQuery,e,this.parent._maxSearchRadius,function(){this.parent._list._setContent(this.parent._sortedLocations)}.bind(this)):(t=new google.maps.Circle({center:e,radius:this.parent._maxSearchRadius}).getBounds(),this.parent._map.fitBounds(t))):this.parent._list._clearList(!0)},StoreLocator3.Header.prototype._handleSearchCancelTap=function(){this._searchCancelBtn.style.display="none",this._searchInput.value="",this._searchInput.blur(),this._searchInput.focus(),this.parent._list._clearList(),this.parent.emit("cancelsearchbuttontapped")},StoreLocator3.Header.prototype._animateOut=function(e){this.parent._isAnimated?(addClass(this._container,"animated"),once(this._container,"transitionend",function(t){this._handleTransitionEnd(e)}.bind(this))):(removeClass(this._container,"animated"),e&&e()),this._container.style.top=-this.parent._headerHeight+"px",this._container.style.opacity="0"},StoreLocator3.Header.prototype._animateIn=function(e){this.parent._isAnimated?(addClass(this._container,"animated"),once(this._container,"transitionend",function(t){this._handleTransitionEnd(e)}.bind(this))):(removeClass(this._container,"animated"),e&&e()),this._container.style.top="0px",this._container.style.opacity="1"},StoreLocator3.Header.prototype._handleTransitionEnd=function(t){t&&t()},StoreLocator3.Button=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isVisible=!0,this._isExpanded=!0,this._container=document.createElement("div"),this._container.className="touchable btn "+this.name,this._container.innerHTML='<svg class="'+this.name+'"><use xlink:href="#'+this.name+'"></use></svg>',this.parent.node.appendChild(this._container),this.style&&(this._container.style.cssText+=this.style),this.listener&&attach(this._container,"tap",this.listener),this._setPosition(this.endPosition),defer(this._setAnimation.bind(this),50)},StoreLocator3.Button.prototype._handleTransitionEnd=function(t){t&&t()},StoreLocator3.Button.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this._setPosition(this.endPosition,t,this.parent._isAnimated)))},StoreLocator3.Button.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._setPosition(this.startPosition,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.Button.prototype._setPosition=function(t,e,i){var o,s;t&&(o=parseInt(window.getComputedStyle(this._container).getPropertyValue("width")),s=parseInt(window.getComputedStyle(this._container).getPropertyValue("height")),i?once(this._container,"transitionend",function(t){this._handleTransitionEnd(e)}.bind(this)):(removeClass(this._container,"animated"),this._handleTransitionEnd(e)),this._container.style.left=t.left?t.left+"px":"calc(100% - "+(t.right+o)+"px)",this._container.style.top=t.top?t.top+"px":"calc(100% - "+(t.bottom+s)+"px)",i||defer(function(){addClass(this._container,"animated")}.bind(this),50))},StoreLocator3.Button.prototype.setStartPosition=function(t){this.startPosition=t},StoreLocator3.Button.prototype.setEndPosition=function(t){this.endPosition=t},StoreLocator3.Button.prototype.show=function(t){this._animateIn(t)},StoreLocator3.Button.prototype.hide=function(t){this._animateOut(t)},StoreLocator3.Button.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.Infobox=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isExpanded=!1,this._isVisible=!0,this._padding=10,this._height=150,this._width=this.parent._isSmaller?this.parent.size.width:this.parent.size.width-2*this._padding,this._modifiedPosition=null,this._handleScrollingEnd=this._handleScrollingEnd.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._container=this.parent.template("infoboxContainer",this.location,this.parent.node),this._container.style.width=this._width+"px",this.parent._isSmaller&&(this._container.style.height=this.parent.size.height+"px"),this._setAnimation(),this._setPosition(this.position)},StoreLocator3.Infobox.prototype._redraw=function(){this._width=this.parent.size.width-(this.parent._isSmaller?0:2*this._padding),this._container.style.width=this._width+"px",this._isExpanded?(this._isExpanded=!1,this._setContent(this.parent._selectedClusterLocation||this.parent._selectedLocation),this._animateIn()):this._setPosition(this.position)},StoreLocator3.Infobox.prototype._handleTransitionEnd=function(t){this._isExpanded?this.parent.emit("infoboxshown"):this.parent.emit("infoboxhidden"),t&&t()},StoreLocator3.Infobox.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this._container.style.opacity="1",this._setPosition("expanded",t,this.parent._isAnimated)))},StoreLocator3.Infobox.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._container.style.opacity="0",this._setPosition(this._modifiedPosition||this.position,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.Infobox.prototype._setContent=function(t){this.parent._isSmaller?this._height=this.parent.size.height:this.parent._isWide?this._height=1<t.size?125:75:this._height=1<t.size?200:150,this._container.style.height=this._height+"px",this._container.innerHTML="",this._stopListeningToTouches();var i,e,o,s=function(t,e){t.phone&&attach(e.querySelector(".phone"),"tap",this.parent._handlePhoneTap),t.website&&attach(e.querySelector(".website"),"tap",this.parent._handleWebsiteTap),t.email&&attach(e.querySelector(".email"),"tap",this.parent._handleEmailTap),attach(i.querySelector(".directions"),"tap",this.parent._handleDirectionsTap),attach(i.querySelector("h3"),"tap",this.parent._handleDirectionsTap)}.bind(this);1<t.size?(addClass(this._container,"cluster"),this.parent._selectedLocation=t.locations[0],this.parent._isSmaller?(this.parent._header._setHeader("clusterHeader","none",{locations:t.size}),this.parent._header._animateIn()):(this._header=this.parent.template("clusterHeader",{hidden:!1,locations:t.size},this._container),addClass(this._header,"static")),this._wrapper=this.parent.template("infoboxContentWrapper",{},this._container),this._wrapper.style.width=this._width*t.locations.length+"px",t.locations.forEach(function(t){i=this.parent.template("infoboxContent",t,this._wrapper),e=this.parent.template("actions",t,i),i.style.width=this._width+"px",s(t,e)},this),this.scroller=new Scroller(this._container,this._wrapper,{direction:"horizontal",animating:!0,easing:!0,snapping:!0}),this.scroller.on("scrollingEnd",function(){this._handleScrollingEnd(t)}.bind(this)),this._startListeningToTouches()):(o=function(t){i=this.parent.template("infoboxContent",t,this._wrapper),e=this.parent.template("actions",t,i),s(t,e)}.bind(this),removeClass(this._container,"cluster"),this.parent._selectedLocation=t,this._wrapper=this.parent.template("infoboxContentWrapper",{},this._container),this._wrapper.style.width="100%","search"!==this.parent.source||t.zip?o(t):this.parent._getPlaceDetails(t,o))},StoreLocator3.Infobox.prototype._handleScrollingEnd=function(t){var e=this.scroller.getCurrentScroll(),e=Math.floor(e.left/this._width);this.parent._isSmaller?this.parent._header._container.querySelector(".current-location").innerText=e+1:this._container.querySelector(".current-location").innerText=e+1,this._isExpanded&&(this.parent._selectedLocation=t.locations[e])},StoreLocator3.Infobox.prototype._startListeningToTouches=function(){this._container&&this.scroller&&(attach(this._container,"touchstart",this._handleTouchStart),attach(this.parent.parentUnit.node,"touchmove",this._handleTouchMove),attach(this.parent.parentUnit.node,"touchend",this._handleTouchEnd),attach(this.parent.parentUnit.node,"touchcancel",this._handleTouchEnd))},StoreLocator3.Infobox.prototype._stopListeningToTouches=function(){this._container&&this.scroller&&(detach(this._container,"touchstart",this._handleTouchStart),detach(this.parent.parentUnit.node,"touchmove",this._handleTouchMove),detach(this.parent.parentUnit.node,"touchend",this._handleTouchEnd),detach(this.parent.parentUnit.node,"touchcancel",this._handleTouchEnd))},StoreLocator3.Infobox.prototype._handleTouchStart=function(t){this.scroller._handleTouchStart(t),new ActionContext(this.parent,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.Infobox.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},StoreLocator3.Infobox.prototype._handleTouchEnd=function(t){this.scroller._handleTouchEnd(t)},StoreLocator3.Infobox.prototype._setPosition=function(t,e,i){switch(i?once(this._container,"transitionend",function(t){this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility="hidden")}.bind(this)):(removeClass(this._container,"animated"),this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility="hidden")),this._isExpanded&&(this._container.style.visibility="visible"),t){case"top":this._container.style.left="0px",this._container.style.top=this.parent.size.height-this._height-50+"px";break;case"bottom":this._container.style.left="0px",this._container.style.top=this.parent.size.height-this._height+50+"px";break;case"left":this._container.style.left="-50px",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+"px";break;case"right":this._container.style.left="50px",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+"px";break;case"expanded":this._container.style.left="0px",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+"px"}i||defer(function(){addClass(this._container,"animated")}.bind(this),50)},StoreLocator3.Infobox.prototype.setStartPosition=function(t){this._modifiedPosition=t,this._setPosition(t)},StoreLocator3.Infobox.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.List=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isVisible=!0,this._isExpanded=!1,this._modifiedPosition=null,this._handleItemTap=this._handleItemTap.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._container=this.parent.template("listContainer",{},this.parent.node),this._listContainer=this.parent.template("listContentContainer",{},this._container),this._listWrapper=this.parent.template("listContentWrapper",{},this._listContainer),this.scroller=new Scroller(this._listContainer,this._listWrapper,{direction:"vertical",animating:!0,easing:!0,scrollbarPosition:"inner"}),this._setAnimation(),-1===this.parent.defaultView.indexOf("both")&&!this.parent.searchBar||addClass(this._container,"with-header"),"list"===this.parent.defaultView||"both-list"===this.parent.defaultView?(this._isExpanded=!0,this._container.style.opacity="1",this._setPosition("expanded")):this._setPosition(this.position)},StoreLocator3.List.prototype._redraw=function(){this._isExpanded?(this._setContent(this.parent._sortedLocations),this._animateIn()):this.setStartPosition(this.position)},StoreLocator3.List.prototype._handleTransitionEnd=function(t){this._isExpanded?this.parent.emit("listshown"):this.parent.emit("listhidden"),t&&t()},StoreLocator3.List.prototype._showSearch=function(){this.parent._createSnapshot(),this._clearList(),this._header.style.display="none",this._searchHeader.style.display="block",this.parent._searchMode=!0,this.parent.emit("searchbuttontapped");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:"locatorSearchClicked"})},StoreLocator3.List.prototype._clearList=function(t){this._listWrapper.innerText=t?this.parent._phrases.searchEmpty:"",this._listWrapper.style.height=this._listWrapper.style.lineHeight=("list"===this.parent.defaultView?this.parent.size.height:this.parent.size.height-this.parent._headerHeight)+"px",this.scroller.redraw(),this._stopListeningToTouches(),this._listWrapper.style.transform=""},StoreLocator3.List.prototype._setContent=function(t){var i,o,s=0;this._itemHeight=this.parent._isSmaller?50:75,this._listWrapper.innerHTML="",this._listWrapper.style.lineHeight="inherit",0===t.length?this._clearList(!0):(t.forEach(function(t){t.size?t.locations.forEach(function(t){i=this.parent.template("listContent",t,this._listWrapper),s+=1},this):(i=this.parent.template("listContent",t,this._listWrapper),s+=1);var e=i.querySelector(".directions");attach(e,"tap",this.parent._handleDirectionsTap),!this.parent._isWide||this.parent._isSmall||this.parent._isTiny||(o=this.parent.template("actions",t,i),t.phone&&attach(o.querySelector(".phone"),"tap",this.parent._handlePhoneTap),t.website&&attach(o.querySelector(".website"),"tap",this.parent._handleWebsiteTap),t.email&&attach(o.querySelector(".email"),"tap",this.parent._handleEmailTap)),addClass(i,"touchable"),attach(i,"tap",this._handleItemTap)},this),this._listWrapper.style.height=s*this._itemHeight+"px",this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this._startListeningToTouches())},StoreLocator3.List.prototype._handleItemTap=function(t){this.parent._selectedMode=!0;t=this.parent._selectedLocation=this.parent._getLocation(t.target.getAttribute("data-id"));this.parent._ignoreSnapshot=!0,this.parent._ignoreBoundsChanged=!0,this.parent._oldMarkers=this.parent._markerReferences,this.parent._removeLocationsMarkers(),this.parent._addMarker(t),this.parent._setCenter(t.lat,t.lng),this.parent._map.setZoom(this.parent._maxZoom),this.parent._infobox._setContent(t),this.parent._header._setHeader("mapHeader","none"),this.parent._header._animateIn(),this.parent._isSmaller||(this._animateOut(),desktop()&&(this.parent._buttons.zoomIn._animateOut(),this.parent._buttons.zoomOut._animateOut())),this.parent._infobox._animateIn(),this.parent.emit("locationselectedfromlist",t),this.parent._trackBasedOnSource("locatorLocationShown",t)},StoreLocator3.List.prototype._startListeningToTouches=function(){this._container&&this.scroller&&(attach(this._container,"touchstart",this._handleTouchStart),attach(this._container,"touchmove",this._handleTouchMove),attach(this._container,"touchend",this._handleTouchEnd),attach(this._container,"touchcancel",this._handleTouchEnd))},StoreLocator3.List.prototype._stopListeningToTouches=function(){this._container&&this.scroller&&(detach(this._container,"touchstart",this._handleTouchStart),detach(this._container,"touchmove",this._handleTouchMove),detach(this._container,"touchend",this._handleTouchEnd),detach(this._container,"touchcancel",this._handleTouchEnd))},StoreLocator3.List.prototype._handleTouchStart=function(t){this.scroller._handleTouchStart(t),new ActionContext(this.parent,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.List.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},StoreLocator3.List.prototype._handleTouchEnd=function(t){this.scroller._handleTouchEnd(t)},StoreLocator3.List.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this.parent._searchMode||this._setContent(this.parent._sortedLocations),this._container.style.opacity="1",this._setPosition("expanded",t,this.parent._isAnimated)))},StoreLocator3.List.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._stopListeningToTouches(),this._container.style.opacity="0",this._setPosition(this._modifiedPosition||this.position,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.List.prototype._setPosition=function(t,e,i){switch(i?once(this._container,"transitionend",function(t){this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility="hidden"),this.parent._searchMode||removeClass(this._container,"search")}.bind(this)):(removeClass(this._container,"animated"),this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility="hidden"),this.parent._searchMode||removeClass(this._container,"search")),this._isExpanded&&(this._container.style.visibility="visible"),t){case"top":this._container.style.left="0px",this._container.style.top="-50px";break;case"bottom":this._container.style.left="0px",this._container.style.top="50px";break;case"left":this._container.style.left="-50px",this._container.style.top="0px";break;case"right":this._container.style.left="50px",this._container.style.top="0px";break;case"expanded":this._container.style.left="0px",this._container.style.top="0px"}i||defer(function(){addClass(this._container,"animated")}.bind(this),50)},StoreLocator3.List.prototype.setStartPosition=function(t){this._modifiedPosition=t,this._setPosition(t)},StoreLocator3.List.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.List.prototype.show=function(t){this.parent._header._setHeader("listHeader","none"),this.parent._header._animateIn(),this._animateIn(t)},StoreLocator3.List.prototype.hide=function(t){this._animateOut(t)},StoreLocator3._pins={markerWithHole:{svg:'<svg version="1.1" width="26px" height="39px" viewBox="0 0 26 39" xmlns="http://www.w3.org/2000/svg"><path d="M13,0C5.82,0,0,5.82,0,13c0,11.267,10.4,13,13,26c2.6-13,13-15.6,13-26C26,6.066,20.18,0,13,0z M13,19c-3.313,0-6-2.687-6-6s2.687-6,6-6s6,2.687,6,6S16.313,19,13,19z" fill="{pathFill}"/></svg>',width:26,height:39},markerCluster:{svg:'<svg version="1.1" width="39px" height="39px" viewBox="0 0 39 39" xmlns="http://www.w3.org/2000/svg"><circle cx="19.5" cy="19.5" r="19" stroke="{pathFill}" stroke-width="1" fill="none" /><circle cx="19.5" cy="19.5" r="15.5" stroke="{pathFill}" stroke-width="1.5" fill="none" /><circle cx="19.5" cy="19.5" r="13" stroke-width="0" fill="{pathFill}" /><text x="19.5" y="19.5" {verticalTextAlignment} font-size="{fontSize}" fill="{fontColor}" font-family="{fontFamily}" text-anchor="middle">{text}</text></svg>',width:39,height:39},markerSolid:{svg:'<svg version="1.1" width="26px" height="39px" viewBox="0 0 26 39" xmlns="http://www.w3.org/2000/svg"><path d="M13,0C5.82,0,0,5.82,0,13c0,11.267,10.4,13,13,26c2.6-13,13-15.6,13-26C26,6.066,20.18,0,13,0z" fill="{pathFill}"/><text x="13" y="13.5" font-size="{fontSize}" fill="{fontColor}" font-family="{fontFamily}" text-anchor="middle" {verticalTextAlignment}>{text}</text></svg>',width:26,height:39}},StoreLocator3._icons='<svg style="display:none;">    <defs>        <symbol id="list" viewBox="0 0 16 16"><rect id="Rectangle-1" x="1" y="4" width="14" height="1"></rect><rect id="Rectangle-2" x="1" y="8" width="14" height="1"></rect><rect id="Rectangle-3" x="1" y="12" width="14" height="1"></rect></symbol>        <symbol id="refocus" viewBox="0 0 16 16"><g id="Oval-10"><path id="path-1_2_" d="M8,4c2.206,0,4,1.794,4,4c0,2.206-1.794,4-4,4c-2.206,0-4-1.794-4-4C4,5.794,5.794,4,8,4 M8,2C4.687,2,2,4.687,2,8s2.687,6,6,6s6-2.687,6-6S11.313,2,8,2L8,2z"/></g><circle id="Oval-11" cx="8" cy="8" r="2"/><path id="Rectangle-7" d="M7.5,0h1C8.776,0,9,0.224,9,0.5v2C9,2.776,8.776,3,8.5,3h-1C7.224,3,7,2.776,7,2.5v-2C7,0.224,7.224,0,7.5,0z"/><path id="Rectangle-8" d="M13.5,7h2C15.776,7,16,7.224,16,7.5v1C16,8.776,15.776,9,15.5,9h-2C13.224,9,13,8.776,13,8.5v-1C13,7.224,13.224,7,13.5,7z"/><path id="Rectangle-9" d="M7.5,13h1C8.776,13,9,13.224,9,13.5v2C9,15.776,8.776,16,8.5,16h-1C7.224,16,7,15.776,7,15.5v-2C7,13.224,7.224,13,7.5,13z"/><path id="Rectangle-10" d="M0.5,7h2C2.776,7,3,7.224,3,7.5v1C3,8.776,2.776,9,2.5,9h-2C0.224,9,0,8.776,0,8.5v-1C0,7.224,0.224,7,0.5,7z"/></symbol>        <symbol id="search" viewBox="0 0 16 16"><rect x="10.672" y="13" transform="matrix(0.7071 0.7071 -0.7071 0.7071 13.5 -5.5919)" width="5.657" height="1"/><path id="path-1_2_" d="M7,1c3.309,0,6,2.691,6,6s-2.691,6-6,6s-6-2.691-6-6S3.691,1,7,1 M7,0C3.134,0,0,3.134,0,7s3.134,7,7,7s7-3.134,7-7S10.866,0,7,0L7,0z"/></symbol>        <symbol id="zoomIn" viewBox="0 0 16 16"><rect id="Combined-Shape_1_" x="7" y="2" width="1" height="11"/><rect id="Combined-Shape" x="2" y="7" width="11" height="1"/></symbol>        <symbol id="zoomOut" viewBox="0 0 16 16"><rect id="Combined-Shape" x="2" y="7" width="11" height="1"/></symbol>        <symbol id="back" viewBox="0 0 16 16"><rect x="2.104" y="7.5" width="13" height="1"/><rect x="4.104" y="0.257" transform="matrix(0.7071 0.7071 -0.7071 0.7071 4.8839 -1.7907)" width="1" height="9.485"/><rect x="-0.139" y="10.5" transform="matrix(0.7071 0.7071 -0.7071 0.7071 9.1265 -0.0334)" width="9.485" height="1"/></symbol>        <symbol id="searchCancel" viewBox="0 0 16 16"><rect x="4.525" y="7.525" transform="matrix(0.7071 0.7071 -0.7071 0.7071 8.0251 -3.3241)" width="7" height="1"/><rect x="7.525" y="4.525" transform="matrix(0.7071 0.7071 -0.7071 0.7071 8.0251 -3.3241)" width="1" height="7"/><path d="M8,15.5c-4.136,0-7.5-3.364-7.5-7.5S3.864,0.5,8,0.5s7.5,3.364,7.5,7.5S12.136,15.5,8,15.5z M8,1.5C4.416,1.5,1.5,4.416,1.5,8s2.916,6.5,6.5,6.5s6.5-2.916,6.5-6.5S11.584,1.5,8,1.5z"/></symbol>        <symbol id="directions" viewBox="0 0 30 27"><path d="M1.75,27h-1.5V17c0-4.825,3.925-8.75,8.75-8.75h20v1.5H9c-3.998,0-7.25,3.252-7.25,7.25V27z"/><polygon points="21.53,17.53 20.47,16.47 27.939,9 20.47,1.53 21.53,0.47 30.061,9 "/></symbol>        <symbol id="email" viewBox="0 0 24 24"><path d="M12,14.569L3.5,9.933V5.5h17v4.433L12,14.569z M4.5,9.339l7.5,4.091l7.5-4.091V6.5h-15V9.339z"/><polygon points="20.5,18.5 3.5,18.5 3.5,7 4.5,7 4.5,17.5 19.5,17.5 19.5,7 20.5,7 "/></symbol>        <symbol id="emailSolid" viewBox="0 0 24 24"><path id="Shape" d="M19.334,6H4.667C4.267,6,4,6.24,4,6.6v1.8c0,0.24,0.133,0.42,0.333,0.54l7.333,3.6C11.8,12.6,11.867,12.6,12,12.6s0.2,0,0.333-0.06l7.333-3.6C19.867,8.82,20,8.64,20,8.4V6.6C20,6.24,19.733,6,19.334,6L19.334,6z"/><path id="Shape_1_" d="M12.934,13.561C12.666,13.74,12.333,13.8,12,13.8s-0.667-0.06-0.933-0.239L4,10.14v7.26C4,17.76,4.267,18,4.667,18h14.667C19.733,18,20,17.76,20,17.4v-7.26L12.934,13.561L12.934,13.561z"/></symbol>        <symbol id="phone" viewBox="0 0 24 24"><path d="M17.922,20.5h-0.207C9.877,20.5,3.5,14.123,3.5,6.286V6.079l2.786-2.786l4.517,4.517l-2.286,2.286l5.388,5.388l2.286-2.286l4.517,4.518L17.922,20.5z M4.501,6.491C4.61,13.615,10.385,19.39,17.51,19.498l1.783-1.783l-3.103-3.104l-2.286,2.286l-6.802-6.802L9.388,7.81L6.286,4.707L4.501,6.491z"/></symbol>        <symbol id="phoneSolid" viewBox="0 0 24 24"><path id="Shape" d="M16.19,13.904l-2.286,2.286L7.81,10.095l2.286-2.286L6.286,4L4,6.286C4,13.859,10.14,20,17.715,20L20,17.715L16.19,13.904L16.19,13.904z"/></symbol>        <symbol id="website" viewBox="0 0 24 24"><path d="M19.5,20.5h-6v-6h-3v6h-6V9.868L12,3.337l7.5,6.531V20.5z M14.5,19.5h4v-9.177L12,4.663l-6.5,5.66V19.5h4v-6h5V19.5z"/></symbol>        <symbol id="websiteSolid" viewBox="0 0 24 24"><path d="M19.5,20.5h-6v-6h-3v6h-6V9.868L12,3.337l7.5,6.531V20.5z"/></symbol>    </defs></svg>',StoreLocator3._mapStyles={default:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}],day:[{featureType:"landscape",stylers:[{hue:"#FFBB00"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:"road.highway",stylers:[{hue:"#FFC200"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:"road.arterial",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:"road.local",stylers:[{hue:"#FF0300"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:"water",stylers:[{hue:"#0078FF"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:"poi",stylers:[{hue:"#00FF6A"},{saturation:-1.0989010989011234},{gamma:1}]},{featureType:"poi",elementType:"geometry",stylers:[{lightness:11.200000000000017}]},{featureType:"poi",elementType:"labels.text",stylers:[{lightness:11.200000000000017}]}],night:[{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#ffffff"}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#000000"},{lightness:13}]},{featureType:"administrative",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"administrative",elementType:"geometry.stroke",stylers:[{color:"#144b53"},{lightness:14},{weight:1.4}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#08304b"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#0c4152"},{lightness:5}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#0b434f"},{lightness:25}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#000000"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#0b3d51"},{lightness:16}]},{featureType:"road.local",elementType:"geometry",stylers:[{color:"#000000"}]},{featureType:"transit",elementType:"all",stylers:[{color:"#146474"}]},{featureType:"water",elementType:"all",stylers:[{color:"#021019"}]}],greyscale:[{featureType:"administrative",elementType:"all",stylers:[{visibility:"on"},{saturation:-100},{lightness:20}]},{featureType:"road",elementType:"all",stylers:[{visibility:"on"},{saturation:-100},{lightness:40}]},{featureType:"water",elementType:"all",stylers:[{visibility:"on"},{saturation:-10},{lightness:30}]},{featureType:"landscape.man_made",elementType:"all",stylers:[{visibility:"simplified"},{saturation:-60},{lightness:10}]},{featureType:"landscape.natural",elementType:"all",stylers:[{visibility:"simplified"},{saturation:-60},{lightness:60}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"},{saturation:-100},{lightness:60}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"},{saturation:-100},{lightness:60}]}],colorful:[{featureType:"landscape.man_made",elementType:"geometry",stylers:[{color:"#f7f1df"}]},{featureType:"landscape.natural",elementType:"geometry",stylers:[{color:"#d0e3b4"}]},{featureType:"landscape.natural.terrain",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"poi.business",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi.medical",elementType:"geometry",stylers:[{color:"#fbd3da"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bde6ab"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road.highway",elementType:"geometry.fill",stylers:[{color:"#ffe15f"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#efd151"}]},{featureType:"road.arterial",elementType:"geometry.fill",stylers:[{color:"#ffffff"}]},{featureType:"road.local",elementType:"geometry.fill",stylers:[{color:"black"}]},{featureType:"transit.station.airport",elementType:"geometry.fill",stylers:[{color:"#cfb2db"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#a2daf2"}]}],blue:[{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#e0efef"}]},{featureType:"poi",elementType:"geometry.fill",stylers:[{visibility:"on"},{hue:"#1900ff"},{color:"#c0e8e8"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit.line",elementType:"geometry",stylers:[{visibility:"on"},{lightness:700}]},{featureType:"water",elementType:"all",stylers:[{color:"#7dcdcd"}]}],red:[{stylers:[{hue:"#dd0d0d"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]}],green:[{stylers:[{hue:"#baf4c4"},{saturation:10}]},{featureType:"water",stylers:[{color:"#effefd"}]},{featureType:"all",elementType:"labels",stylers:[{visibility:"off"}]},{featureType:"administrative",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"geometry",stylers:[{lightness:100},{visibility:"simplified"}]},{featureType:"road",elementType:"labels",stylers:[{visibility:"on"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]}]},StoreLocator3._defaultTranslations=function(){return{english:{listHeader:"Go to map",infoboxHeader:"Back to map",mapHeader:"Back to list",searchHeader:"Back to search results",searchEmpty:"Sorry, no location found",searchPlaceholder:"Search City or ZIP",infoboxClusterTitle:"Multiple locations",infoboxClusterSubtitle:"Swipe left or right to browse",hoursStatusOpen:"Open now",hoursStatusClosed:"Closed",phone:"Phone",website:"www",email:"Email",userInteraction:"Tap to find locations",userInteractionDesktop:"Click to find locations",mapsConsentPrompt:"To view the map, your location and IP address will be shared with Google",mapsConsentPromptShow:"View",mapsConsentPromptCancel:"Cancel"},french:{listHeader:"Allez Ã  la carte",infoboxHeader:"Retournez Ã  la carte",mapHeader:"Retournez Ã  la liste",searchHeader:"Retournez aux rÃ©sultats de la recherche",searchEmpty:"DÃ©solÃ©, aucun lieu trouvÃ©",searchPlaceholder:"Recherchez la ville ou le code postal",infoboxClusterTitle:"Multiples lieux",infoboxClusterSubtitle:"Glissez Ã  gauche ou Ã  droite pour naviguer",hoursStatusOpen:"Ouvert maintenant",hoursStatusClosed:"FermÃ©",phone:"TÃ©lÃ©phone",website:"www",email:"Courriel",userInteraction:"Touchez pour trouver des endroits",userInteractionDesktop:"Cliquez pour trouver des endroits",mapsConsentPrompt:"Pour voir la carte, votre position et votre adresse sont communiquÃ©es Ã  Google",mapsConsentPromptShow:"Voir",mapsConsentPromptCancel:"Annuler "},german:{listHeader:"Zur Karte",infoboxHeader:"ZurÃ¼ck zur Karte",mapHeader:"ZurÃ¼ck zur Liste",searchHeader:"ZurÃ¼ck zu den Suchergebnissen",searchEmpty:"Kein Ort gefunden",searchPlaceholder:"Ort oder Postleitzahl suchen",infoboxClusterTitle:"Mehrere Orte",infoboxClusterSubtitle:"Zum Browsen nach links oder rechts wischen",hoursStatusOpen:"Jetzt geÃ¶ffnet",hoursStatusClosed:"Geschlossen",phone:"Telefon",website:"www",email:"E-Mail",userInteraction:"Tippen Sie hier um Orte zu finden",userInteractionDesktop:"Klicken Sie hier um Orte zu finden",mapsConsentPrompt:"Um die Karte zu sehen, wird Ihr Standort und Ihre IP Adresse mit Google geteilt",mapsConsentPromptShow:"Anzeigen",mapsConsentPromptCancel:"Abbrechen"},russian:{listHeader:"ÐÐµÑÐµÐ¹ÑÐ¸ Ðº ÐºÐ°ÑÑÐµ",infoboxHeader:"ÐÐµÑÐ½ÑÑÑÑÑ Ðº ÐºÐ°ÑÑÐµ",mapHeader:"ÐÐµÑÐ½ÑÑÑÑÑ Ðº ÑÐ¿Ð¸ÑÐºÑ",searchHeader:"ÐÐµÑÐ½ÑÑÑÑÑ Ðº ÑÐµÐ·ÑÐ»ÑÑÐ°ÑÐ°Ð¼ Ð¿Ð¾Ð¸ÑÐºÐ°",searchEmpty:"Ð ÑÐ¾Ð¶Ð°Ð»ÐµÐ½Ð¸Ñ, Ð¾Ð±ÑÐµÐºÑ Ð½Ðµ Ð½Ð°Ð¹Ð´ÐµÐ½",searchPlaceholder:"ÐÐ°Ð¹ÑÐ¸ Ð³Ð¾ÑÐ¾Ð´ Ð¸Ð»Ð¸ Ð¿Ð¾ÑÑÐ¾Ð²ÑÐ¹ Ð¸Ð½Ð´ÐµÐºÑ",infoboxClusterTitle:"ÐÐ¾Ð»ÐµÐµ ÑÐµÐ¼ Ð¾Ð´Ð¸Ð½ Ð¾Ð±ÑÐµÐºÑ",infoboxClusterSubtitle:"ÐÑÐ¾Ð²ÐµÐ´Ð¸ÑÐµ Ð²Ð»ÐµÐ²Ð¾ Ð¸Ð»Ð¸ Ð²Ð¿ÑÐ°Ð²Ð¾ Ð´Ð»Ñ Ð¿ÑÐ¾ÑÐ¼Ð¾ÑÑÐ°",hoursStatusOpen:"ÐÑÐºÑÑÑ ÑÐµÐ¹ÑÐ°Ñ",hoursStatusClosed:"ÐÐ°ÐºÑÑÑ",phone:"Ð¢ÐµÐ»ÐµÑÐ¾Ð½",website:"www",email:"Ð­Ð». Ð¿Ð¾ÑÑÐ°",userInteraction:"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð½Ð°Ð¹ÑÐ¸ Ð¼ÐµÑÑÐ°",userInteractionDesktop:"ÐÐ°Ð¶Ð¼Ð¸ÑÐµ, ÑÑÐ¾Ð±Ñ Ð½Ð°Ð¹ÑÐ¸ Ð¼ÐµÑÑÐ°",mapsConsentPrompt:"Ð§ÑÐ¾Ð±Ñ Ð¿Ð¾ÐºÐ°Ð·Ð°ÑÑ ÐºÐ°ÑÑÑ, Ð²Ð°ÑÐµ Ð¼ÐµÑÑÐ¾Ð¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¸ IP-Ð°Ð´ÑÐµÑ Ð±ÑÐ´ÑÑ Ð¿ÐµÑÐµÐ´Ð°Ð½Ñ Ð² Google",mapsConsentPromptShow:"ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ",mapsConsentPromptCancel:"ÐÑÐ¼ÐµÐ½Ð¸ÑÑ"},arabic:{listHeader:"ØªÙØ¬Ù Ø¥ÙÙ Ø§ÙØ®Ø§Ø±Ø·Ø©",infoboxHeader:"Ø¹ÙØ¯Ø© Ø¥ÙÙ Ø§ÙØ®Ø§Ø±Ø·Ø©",mapHeader:"Ø¹ÙØ¯Ø© Ø¥ÙÙ Ø§ÙÙØ§Ø¦ÙØ©",searchHeader:"Ø¹ÙØ¯Ø© Ø¥ÙÙ ÙØªØ§Ø¦Ø¬ Ø§ÙØ¨Ø­Ø«",searchEmpty:"Ø¹Ø°Ø±Ø§ÙØ ÙØ§ ÙÙÙØ¹ ÙÙØ¬ÙØ¯",searchPlaceholder:"Ø¨Ø­Ø« Ø§ÙÙØ¯ÙÙØ© Ø£Ù Ø§ÙØ±ÙØ² Ø§ÙØ¨Ø±ÙØ¯Ù",infoboxClusterTitle:"ÙÙØ§ÙØ¹ ÙØªØ¹Ø¯Ø¯Ø©",infoboxClusterSubtitle:"ØªÙØ±ÙØ± ÙØ³Ø§Ø±Ø§Ù Ø£Ù ÙÙÙÙØ§Ù ÙÙØªØµÙØ­",hoursStatusOpen:"Ø§ÙØªØ­ Ø§ÙØ¢Ù",hoursStatusClosed:"ÙÙÙÙ",phone:"ÙØ§ØªÙ",website:"www",userInteraction:"Ø§ÙØ§Ø³ØªÙØ§Ø¯Ø© ÙÙ Ø§ÙØ¹Ø«ÙØ± Ø¹ÙÙ Ø§ÙÙÙØ§ÙØ¹",userInteractionDesktop:"Ø§ÙÙØ± ÙÙØ¹Ø«ÙØ± Ø¹ÙÙ Ø§ÙÙÙØ§ÙØ¹",mapsConsentPrompt:"ÙØ±Ø¤ÙØ© Ø§ÙØ®Ø±ÙØ·Ø©Ø Ø³ÙÙ ÙØªÙ ÙØ´Ø§Ø±ÙØ© ÙÙÙØ¹ÙÙ Ù Ø¹ÙÙØ§Ù IP Ø§ÙØ®Ø§Øµ Ø¨ÙÙ ÙØ¹ Ø¬ÙØ¬Ù",mapsConsentPromptShow:"Ø±Ø¤ÙØ©",mapsConsentPromptCancel:"Ø¥ÙØºØ§Ø¡"},japanese:{listHeader:"å°å³ãè¦ã",infoboxHeader:"å°å³ã«æ»ã",mapHeader:"ãªã¹ãã«æ»ã",searchHeader:"æ¤ç´¢çµæã«æ»ã",searchEmpty:"å ´æãè¦ã¤ããã¾ããã§ãã",searchPlaceholder:"å¸åã¾ãã¯éµä¾¿çªå·ã§æ¤ç´¢",infoboxClusterTitle:"è¤æ°ã®å ´æ",infoboxClusterSubtitle:"å·¦å³ã«ã¹ã¯ã¤ããã¦ãã©ã¦ãºãã",hoursStatusOpen:"å¶æ¥­ä¸­",hoursStatusClosed:"éåº",phone:"é»è©±",website:"www",email:"ã¡ã¼ã«",userInteraction:"å ´æãè¦ã¤ããããã«ã¿ãããã¾ã",userInteractionDesktop:"å ´æãè¦ã¤ããããã«ã¯ãªãã¯",mapsConsentPrompt:"å°å³ãè¦ãããã«ãããªãã®å ´æã¨IPã¢ãã¬ã¹ã¯Googleã¨å±æããã¾ã",mapsConsentPromptShow:"è¦ã",mapsConsentPromptCancel:"ã­ã£ã³ã»ã«"},chineseSimplified:{listHeader:"åå¾å°å¾",infoboxHeader:"è¿åå°å¾",mapHeader:"è¿ååå",searchHeader:"è¿åæå¯»ç»æ",searchEmpty:"æ±æ­ï¼æ¾ä¸å°è¿ä¸ªå°ç¹",searchPlaceholder:"æç´¢åå¸æé®æ¿ç¼ç ",infoboxClusterTitle:"å¤ä¸ªå°ç¹",infoboxClusterSubtitle:"åå·¦æåå³æ»å¨å±å¹æµè§",hoursStatusOpen:"æ­£å¨è¥ä¸",hoursStatusClosed:"æ­£å¨ä¼æ¯",phone:"çµè¯",website:"www",email:"çµå­é®ä»¶",userInteraction:"ç¹å»å±å¹ï¼æ¥æ¾å°ç¹",userInteractionDesktop:"ç¹å»å±å¹ï¼æ¥æ¾å°ç¹",mapsConsentPrompt:"ä¸ºäºæ¾ç¤ºå°å¾ï¼æ¨çä½ç½®åIPå°åèµè®¯ä¼è¢«ä¼ éå°Google",mapsConsentPromptShow:"æ¾ç¤º",mapsConsentPromptCancel:"åæ¶"},chineseTraditional:{listHeader:"åå¾å°å",infoboxHeader:"è¿åå°å",mapHeader:"è¿ååè¡¨",searchHeader:"è¿åæå°çµæ",searchEmpty:"æ±æ­ï¼æ¾ä¸å°éåå°é»",searchPlaceholder:"æç´¢åå¸æéµéåè",infoboxClusterTitle:"å¤éå°é»",infoboxClusterSubtitle:"åå·¦æåå³æ»çè¦½",hoursStatusOpen:"çæ¥­ä¸­",hoursStatusClosed:"ä¼æ¯ä¸­",phone:"é»è©±",website:"www",email:"é»å­éµä»¶",userInteraction:"é»æè¢å¹ï¼æå°å°é»",userInteractionDesktop:"é»æè¢å¹ï¼æå°å°é»",mapsConsentPrompt:"çºäºé¡¯ç¤ºå°åï¼æ¨çä½ç½®åIPå°åè³è¨æè¢«å³éå°Google",mapsConsentPromptShow:"é¡¯ç¤º",mapsConsentPromptCancel:"åæ¶ "},italian:{listHeader:"Vai alla mappa",infoboxHeader:"Ritorna alla mappa",mapHeader:"Ritorna all'elenco",searchHeader:"Ritorna ai risultati ricerca",searchEmpty:"Spiacente, nessun indirizzo trovato",searchPlaceholder:"Ricerca cittÃ  o CAP",infoboxClusterTitle:"PiÃ¹ indirizzi",infoboxClusterSubtitle:"Scorri a sinistra o a destra per navigare",hoursStatusOpen:"Apri",hoursStatusClosed:"Chiuso",phone:"Telefono",website:"www",email:"E-mail",userInteraction:"Toccare per trovare le posizioni",userInteractionDesktop:"Clicca per trovare le posizioni",mapsConsentPrompt:"Per visualizzare la mappa, la vostra posizione e il vostro indirizzo IP verranno condivisi con Google",mapsConsentPromptShow:"Visualizza",mapsConsentPromptCancel:"Annulla"},spanish:{listHeader:"Ir al mapa",infoboxHeader:"Volver al mapa",mapHeader:"Volver a la lista",searchHeader:"Volver a resultados de la bÃºsqueda",searchEmpty:"Disculpe, no se ha encontrado la ubicaciÃ³n",searchPlaceholder:"Buscar Ciudad o CÃ³digo Postal",infoboxClusterTitle:"Ubicaciones mÃºltiples",infoboxClusterSubtitle:"Deslice para buscar",hoursStatusOpen:"Abierto ahora",hoursStatusClosed:"Cerrado",phone:"TelÃ©fono",website:"www",email:"Correo electrÃ³nico",userInteraction:"Toque para encontrar las ubicaciones",userInteractionDesktop:"Haga clic para encontrar ubicaciones",mapsConsentPrompt:"Para visualizzare el mapa, su ubicaciÃ³n y direcciÃ³n IP serÃ¡n comunicadas con Google",mapsConsentPromptShow:"Ver",mapsConsentPromptCancel:"Cancelar"},turkish:{listHeader:"Haritaya git",infoboxHeader:"Haritaya geri dÃ¶n",mapHeader:"Listeye geri dÃ¶n",searchHeader:"Arama sonuÃ§larÄ±na geri dÃ¶n",searchEmpty:"ÃzgÃ¼nÃ¼m, konum bulunamadÄ±",searchPlaceholder:"Åehir veya Posta Koduyla Ara",infoboxClusterTitle:"Birden fazla konum",infoboxClusterSubtitle:"Gezinmek iÃ§in sola veya saÄa Ã§ek",hoursStatusOpen:"Åu anda aÃ§Ä±k",hoursStatusClosed:"KapalÄ±",phone:"Telefon",website:"www",email:"E-posta",userInteraction:"yerleri bulmak iÃ§in dokunun",userInteractionDesktop:"yerleri bulmak iÃ§in tÄ±klayÄ±n",mapsConsentPrompt:"HaritayÄ± gÃ¶rÃ¼ntÃ¼lemek iÃ§in, konumunuz ve IP adresiniz Google ile paylaÅÄ±lacaktÄ±r",mapsConsentPromptShow:"GÃ¶rÃ¼r",mapsConsentPromptCancel:"Ä°ptal"}}};;
var DynamicFeed={toString:function(){return"[Clazz DynamicFeed]"},checkChoiceFeedAction:function(d,e,t){FeedData.checkAndTrackValue(e.feedFieldKey,e.feedRowIndex,e.caller.method,"feedFieldKey");var i=FeedData.getFieldValueByKey(e.feedFieldKey,e.feedRowIndex);"string"==typeof i&&FeedData.isCorrectFieldType(e.feedFieldKey,e.caller.method,"feedFieldKey")&&e.outcomes.forEach(function(e){if("string"==typeof e.choice&&e.choice.toLowerCase()===i.toLowerCase())return(e.action||nullai)(d,t)})},goToFeedURLAction:function(e,d,t){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,"feedFieldKey"),d.url="";var i=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);"string"==typeof i&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,"feedFieldKey")&&(d.url=i),e.screen.parentUnit.goToURLAction(e,d,t)}};;
!function(){var t,e,i=1,n=2;function a(){return this.sizeUsingTransforms()?n:i}function h(t,e,i){return function(){return(this.isAnimated&&("string"!=typeof i||this[i])?e:t).apply(this,arguments)}}function s(t,e,i){var n=t[e];t[e]=h(n,function(){return function e(i,n){var h;return i instanceof Object&&i.constructor===Object?(h={},Object.keys(i).forEach(function(t){h[t]=e(i[t],n)}),h):"number"==typeof i?i*n:i}(n.apply(this,arguments),a.call(this))},i)}function o(t,e,i){s(t,"get"+ucfirst(e),i)}function r(){return this.isAnimated}ScreenObject.prototype.positionUsingTransforms=r,ScreenObject.prototype.sizeUsingTransforms=r,"undefined"!=typeof Picture&&(Picture.prototype.positionUsingTransforms=r,Picture.prototype.sizeUsingTransforms=r,t=Picture.prototype.awake,Picture.prototype.awake=function(){t.apply(this,arguments),this._imageElement=null,this.on("appear",this._drawImage.bind(this))},e=Picture.prototype.createNode,Picture.prototype.createNode=function(){return this.parentContainer.on("resize",this._drawImage.bind(this)),e.apply(this,arguments)},Picture.prototype._drawImage=function(){var t,e,i,n,h,a,s,o,r;this._imageElement&&("stretch"==this.fittingSize?(this._imageElement.style.position="absolute",this._imageElement.style.left="0px",this._imageElement.style.top="0px",this._imageElement.style.width="100%",this._imageElement.style.height="100%"):(1===(t=this.imagePosition?this.imagePosition.split("-"):["left","top"]).length&&(-1<["left","right"].indexOf(t[0])?t.push("center"):t.unshift("center")),n=this.file.width/this.file.height,r=(h=this.sizeUsingTransforms()?this.getNaturalSize():this.size).width/h.height,a=this.fittingSize,"original"===(a="fitUpToOriginal"===this.fittingSize?h.width<this.file.width||h.height<this.file.height?"fit":"original":a)?(e=this.file.width,i=this.file.height):"repeat"===a?(e=this.file.meta.width,i=this.file.meta.height):"stretch"===a?(e=h.width,i=h.height):"fit"===a?i=r<n?(e=h.width,this.file.height*(h.width/this.file.width)):(e=this.file.width*(h.height/this.file.height),h.height):"fill"===a&&(i=r<n?(e=this.file.width*(h.height/this.file.height),h.height):(e=h.width,this.file.height*(h.width/this.file.width))),"repeat"===a?(s={left:0,center:Math.round((h.width*this._patternPixelRatio-e)/2),right:h.width*this._patternPixelRatio-e},o={top:0,center:Math.round((h.height*this._patternPixelRatio-i)/2),bottom:h.height*this._patternPixelRatio-i},this._imageElementsCtx.canvas.width=h.width*this._patternPixelRatio,this._imageElementsCtx.canvas.height=h.height*this._patternPixelRatio,this._imageElement.style.width=h.width+"px",this._imageElement.style.height=h.height+"px",this._imageElementsCtx.save(),this._imageElementsCtx.fillStyle=this._pattern,this._imageElementsCtx.translate(s[t[0]],o[t[1]]),this._imageElementsCtx.fillRect(-s[t[0]],-o[t[1]],h.width*this._patternPixelRatio,h.height*this._patternPixelRatio),this._imageElementsCtx.restore()):(s={left:"left: 0px;",center:"left: "+Math.round((h.width-e)/2)+"px;",right:"right: 0px;"},o={top:"top: 0px;",center:"top: "+Math.round((h.height-i)/2)+"px;",bottom:"bottom: 0px;"},r=s[t[0]]+" "+o[t[1]]+" ",this._imageElement.style.cssText="position: absolute; "+r+("width: "+e+"px; height: "+i+"px; "))))},Picture.prototype._handlePreloadedImage=function(t,e){!this.file.dynamic&&"repeat"!==this.fittingSize||(this.file.meta={height:e.naturalHeight,width:e.naturalWidth}),"repeat"===this.fittingSize?(this._imageElement=document.createElement("canvas"),this._imageElementsCtx=this._imageElement.getContext("2d"),this._pattern=this._imageElementsCtx.createPattern(e,"repeat"),this._patternPixelRatio=e.naturalWidth/this.file.width):this._imageElement=e,this._drawImage(),t.appendChild(this._imageElement)});var l=Screen.prototype.resetAction,p=(Screen.prototype.resetAction=function(e,t,i){Scene.instances.forEach(function(t){t.parentScreen===this&&t.resetAction(e,{},noop)}.bind(this)),l.apply(this,arguments)},ScreenObject._roundIfNeeded=function(t){return t},["fontSize","lineSpacing","letterSpacing","scaleBaseHeight","scaleBaseWidth","textShadowBlur","textShadowOffset"]),p=("undefined"!=typeof Texty&&(s(Texty.prototype,"getNaturalSize"),["textPaddingTop","textPaddingRight","textPaddingBottom","textPaddingLeft"].forEach(function(t){o(Texty.prototype,t,"useFontScaleFactorForPadding")}),p.forEach(function(t){o(Texty.prototype,t)})),["borderWidth","shadowDistance","shadowBlur"].concat(p));function c(t,e){var i=RichTexty.prototype[t];RichTexty.prototype[t]=h(i,function(t){return t=i.call(this,t),function(t,h){t.forEach(function(t){var e=h[t];if("none"!==e)switch(t){case"textShadow":var i=e.split(" ");i[0]=parseInt(i[0])*a.call(this)+"px",i[1]=parseInt(i[1])*a.call(this)+"px",h[t]=i.join(" ");break;case"textStroke":i=e.split(" ");i[0]=parseInt(i[0])*a.call(this)+"px",h[t]=i.join(" ");break;default:var i=e.slice(-2),n=parseFloat(e)*a.call(this);h[t]=n+i}},this)}.call(this,e,t),t})}"undefined"!=typeof Button&&(s(Button.prototype,"getNaturalSize"),p.forEach(function(t){o(Button.prototype,t)})),"undefined"!=typeof RichTexty&&(s(RichTexty.prototype,"getNaturalSize"),c.call(this,"transformContextualStyle",["fontSize","letterSpacing","lineSpacing","textShadow","textStroke"]),c.call(this,"transformGlobalStyle",["textPaddingTop","textPaddingBottom","textPaddingLeft","textPaddingRight"]))}();;
!function(n){function r(n,e,t){n=n.filter(function(n){return n.id===e})[0];return n&&n.value?n.value:t}function e(n,e,t,u){function o(n){return((s*n+f)*n+c)*n}function r(n){for(var e,t,u,r,i=n,a=0;a<8;a++){if(u=o(i)-n,Math.abs(u)<.001)return i;if(r=(3*s*i+2*f)*i+c,Math.abs(r)<1e-6)break;i-=u/r}if((i=n)<(e=0))return e;if((t=1)<i)return t;for(;e<t;){if(u=o(i),Math.abs(u-n)<.001)return i;u<n?e=i:t=i,i=.5*(t-e)+e}return i}var c=3*n,f=3*(t-n)-c,s=1-c-f,i=3*e,a=3*(u-e)-i,I=1-i-a;return function(n){return n=r(n),((I*n+a)*n+i)*n}}function t(n){return Math.pow(n,2)}function u(n){return Math.pow(n,3)}function i(n){return Math.pow(n,4)}function a(n){return Math.pow(n,5)}function o(n){return 1-Math.cos(n*Math.PI*.5)}function c(n){return Math.pow(2,10*(n-1))}function f(n){return 1-Math.sqrt(1-n*n)}var s={none:function(n){return 0},steps:function(n,e){var t=r(e,"steps",3),e=r(e,"jump-position","end"),u=1/t;return Math["end"===e?"floor":"ceil"](n*t)*u},linear:function(n){return n},easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1),easeInQuad:t,easeOutQuad:function(n){return 1-t(1-n)},easeInOutQuad:function(n){return n<.5?.5*t(2*n):1-.5*t(2*(1-n))},easeInCubic:u,easeOutCubic:function(n){return 1-u(1-n)},easeInOutCubic:function(n){return n<.5?.5*u(2*n)/2:1-.5*u(2*(1-n))},easeInQuart:i,easeOutQuart:function(n){return 1-i(1-n)},easeInOutQuart:function(n){return n<.5?.5*i(2*n):1-.5*i(2*(1-n))},easeInQuint:a,easeOutQuint:function(n){return 1-a(1-n)},easeInOutQuint:function(n){return n<.5?.5*a(2*n):1-.5*a(2*(1-n))},easeInSine:o,easeOutSine:function(n){return 1-o(1-n)},easeInOutSine:function(n){return.5*o(2*n)},easeInExpo:c,easeOutExpo:function(n){return 1-c(1-n)},easeInOutExpo:function(n){return n<.5?.5*c(2*n):1-.5*c(2*(1-n))},easeInCirc:f,easeOutCirc:function(n){return 1-f(1-n)},easeInOutCirc:function(n){return n<.5?.5*f(2*n):1-.5*f(2*(1-n))},easeInBack:e(.6,-.28,.735,.045),easeOutBack:e(.175,.885,.32,1.275),easeInOutBack:e(.68,-.55,.265,1.55),cubicBezier:e};"undefined"!=typeof module&&null!==module?Object.keys(s).forEach(function(n){module.exports[n]=s[n]}):n.AnimationTimingFunctions=s}(this);;
!function(e){var u=1e5,a=100*u;function v(e,t,n){this._propertyTweens={},n=n||v.getUsedProperties(e);var i,r=function(e){var t,n=[];for(t in e){var i=parseFloat(t);n[Math.round(i*u)]=e[t]}return n}(e);for(i in n){var o=n[i],s=function(e,t){var n,i,r={};for(i of Object.keys(t).sort(function(e,t){return parseInt(e)-parseInt(t)})){var o;e in t[i]&&(void 0===r[i]&&(r[i]={}),(o=t[i][e])instanceof Object?(void 0!==o.value&&null!==o.value&&(n=o.value,r[i].value=o.value),o.timingFunction&&(r[i].timingFunction=o.timingFunction)):(n=o,r[i].value=o,t[i].timingFunction&&(r[i].timingFunction=t[i].timingFunction)))}void 0===r[a]&&(r[a]={value:n});return r}(o,r);this._propertyTweens[o]=new p(s,t)}}function p(e,t){this._keyframes=e,this._defaultTimingFunction=t||AnimationTimingFunctions.linear,this._tweenable=function(e){for(var t in e)return"number"==typeof e[t].value}(this._keyframes)}v.prototype.getValuesAt=function(e){var t,n={};for(t in this._propertyTweens)n[t]=this._propertyTweens[t].getValueAt(e);return n},v.prototype.getPropertyTweens=function(){return this._propertyTweens},p.prototype.getKeyframes=function(){return Object.entries(this._keyframes).map(function(e){return{progress:e[0]/u,properties:e[1]}})},v.getUsedProperties=function(e){var t,n={};for(t in e)for(var i in e[t])"timingFunction"!=i&&(n[i]=!0);return Object.keys(n)},p.prototype.getValueAt=function(e){if(e<0)return null;var t,n,i,r,o;e=Math.round(e*u);for(i of Object.keys(this._keyframes).sort(function(e,t){return parseInt(e)-parseInt(t)}))i==e?(t={position:i,values:this._keyframes[i]},n={position:i,values:this._keyframes[i]}):i<e?t={position:i,values:this._keyframes[i]}:e<i&&!n&&(n={position:i,values:this._keyframes[i]});return this._tweenable?(o=n.position-t.position,r=e-t.position,r=(t.values.timingFunction&&t.values.timingFunction.instance?t.values.timingFunction.instance:this._defaultTimingFunction)(r=0==o?0:r/o,t.values.timingFunction&&t.values.timingFunction.parameters?t.values.timingFunction.parameters:[]),o=n.values.value-t.values.value,t.values.value+o*r):t.values.value},e.KeyframeAnimation=v}(this);;
function BaseScenePlayer(e){this._scene=e,this._state=new StateObject({progress:-1}),this._update=this._update.bind(this),this._render=this._render.bind(this),this._end=this._end.bind(this),this.paused=!0,this.ended=!1,this.supportsAutoplay=!1,this.supportsFallback=!0}extend(BaseScenePlayer.prototype,EventEmitter),Object.defineProperty(BaseScenePlayer.prototype,"progress",{get:function(){return-1!==this._state.progress?this._state.progress:this.ended?100:0}}),BaseScenePlayer.prototype._update=function(){this._state.isDirty("progress")&&(this._scene.updateObjects(this._state.progress),this.emit("progress",this._state.progress))},BaseScenePlayer.prototype._render=function(){this._state.isDirty("progress")&&(this._scene.renderObjects(),this.emit("render"),this._state.markClean())},BaseScenePlayer.prototype._cancel=function(){Ticker.removeFrame(this._update,"update"),Ticker.removeFrame(this._render,"render"),Ticker.removeFrame(this._end,"next"),this._state.markClean(),this.paused=!0},BaseScenePlayer.prototype._end=function(){this.stop(),this.emit("end")},BaseScenePlayer.prototype._stop=noop,BaseScenePlayer.prototype._pause=noop,BaseScenePlayer.prototype._play=function(){return!0},BaseScenePlayer.prototype.play=function(){this._cancel(),this._play()&&(this.paused=!1,Ticker.frame(this._update,"update"),Ticker.frame(this._render,"render"),this.emit("play"))},BaseScenePlayer.prototype.displayFallbackFrame=function(e){this._scene.updateObjects(Math.max(0,Math.min(e,100))),this._scene.renderObjects(),this._state.progress=e,this._state.markClean()},BaseScenePlayer.prototype.pause=function(e){this.silentPause(),this.emit("pause")},BaseScenePlayer.prototype.silentPause=function(e){this.ended=100===this._state.progress,0!==this._state.progress&&100!==this._state.progress||(this._state.progress=-1),this._cancel(),this._pause()},BaseScenePlayer.prototype.stop=function(){this._stop(),this.silentPause(),this.emit("stop")},BaseScenePlayer.prototype.destroy=function(){this._cancel()};;
function TimeScenePlayer(e){TimeScenePlayer.uberConstructor.call(this,e),this._state.registerValue("loopCount",0),this._elapsedTime=null,this._startTime=null,this._lastUpdateTime=null,this.supportsFallback=!1}inherit(TimeScenePlayer,BaseScenePlayer),Object.defineProperty(TimeScenePlayer.prototype,"_loopEnded",{get:function(){return"stop"===this._scene.onEnd&&100<=this._state.progress||"repeat"===this._scene.onEnd&&this._scene.onEndRepeatCount&&this._state.loopCount>=this._scene.onEndRepeatCount||"reverse"===this._scene.onEnd&&this._scene.onEndReverseCount&&this._state.loopCount>=2*this._scene.onEndReverseCount||0===this._scene.getDuration().milliseconds}}),Object.defineProperty(TimeScenePlayer.prototype,"_newLoopStarted",{get:function(){return this._state.isDirty("loopCount")}}),TimeScenePlayer.prototype._update=function(e){var t=this._scene.getDuration().milliseconds,t=(this._startTime=this._startTime||e,this._lastUpdateTime&&(this._startTime-=this._lastUpdateTime,this._lastUpdateTime=null),this._elapsedTime=e-this._startTime,this._state.loopCount=Math.floor(0<t?this._elapsedTime/t:1),100*(0<t?this._elapsedTime/t:1)),s=t%100,s="repeat"===this._scene.onEnd?this._loopEnded||this._newLoopStarted?100:s:"reverse"===this._scene.onEnd?this._newLoopStarted&&this._state.loopCount%2?100:this._loopEnded?0:this._state.loopCount%2?100-s:s:t;this._state.progress=Math.max(0,Math.min(s,100)),TimeScenePlayer.uber._update.apply(this,arguments),this._loopEnded&&Ticker.frame(this._end,"next")},TimeScenePlayer.prototype._pause=function(){this._lastUpdateTime||(this._lastUpdateTime=this._elapsedTime),this._elapsedTime=null,this._startTime=null},TimeScenePlayer.prototype._stop=function(){this._lastUpdateTime=null,this._elapsedTime=null,this._state.loopCount=0};;
</script><script>window.touchEventSimulator = new TouchEventSimulator(document);window.touchEventSimulator.init();function __parseJSON(s){return JSON.parse(s);}</script><style id="font-style-manager"></style><style>#celtra-object-930 .background { background-image: none; background-color: rgba(0,127,82,1); }
#celtra-object-930 .background.down { background-image: -webkit-gradient(linear, left bottom, left top, color-stop(0%, #3A3AA5),color-stop(100%, #4C4CD8)); background-image: -moz-linear-gradient(90deg, #3A3AA5,#4C4CD8); background-image: -ms-linear-gradient(90deg, #3A3AA5,#4C4CD8); background-image: -o-linear-gradient(90deg, #3A3AA5,#4C4CD8); background-image: -webkit-linear-gradient(90deg, #3A3AA5,#4C4CD8); background-image: linear-gradient(0deg,#3A3AA5,#4C4CD8); background-color: transparent; }
#celtra-object-930 .foreground { color: #ffffff; }
#celtra-object-930 .foreground.down { color: #ffffff; }
</style><style>#celtra-object-554 .gradient-shapey { background-image: -webkit-gradient(linear, left top, right top, color-stop(0%, rgba(255,255,255,1)),color-stop(100%, rgba(0,0,0,0))); background-image: -moz-linear-gradient(0deg, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%); background-image: -ms-linear-gradient(0deg, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%); background-image: -o-linear-gradient(0deg, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%); background-image: -webkit-linear-gradient(0deg, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%); background-image: linear-gradient(90deg,rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%);  }
</style></head><body><iframe id="te-clr1-70c17e14-d376-48d3-aac8-1cf076c76c8b-icon" frameborder="0" scrolling="no" style="cursor: pointer; display: block; position: absolute; overflow: hidden; margin: 0px; padding: 0px; pointer-events: auto; transform: none !important; background: transparent !important; opacity: 0.8; z-index: 100002; width: 16px; height: 16px; left: 2px; top: 2px;"></iframe><div id="viewport" style="overflow: hidden; position: absolute; top: 0px; left: 0px; width: 728px; height: 90px;"><div id="celtra-banner" class="celtra-creative-unit celtra-base-creative-unit celtra-view" style="touch-action: manipulation; background-color: rgb(255, 255, 255); overflow: hidden; position: absolute; width: 728px; height: 90px; inset: 50% auto auto 50%; margin-left: -364px; margin-top: -45px;"><div class="celtra-screen-container" style="position: absolute; width: 100%; height: 100%;"><div class="celtra-screen-holder" style="width: 100%; height: 100%;"><div id="celtra-object-2" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; display: none; z-index: -1;"></div><div id="celtra-object-2" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; z-index: -1; display: block;"></div><div id="celtra-object-3" class="celtra-screen celtra-screen-object-container celtra-view" style="touch-action: manipulation; overflow: hidden; height: 100%; width: 100%; display: block;"><div id="celtra-object-1441" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(-155.719px, -34.596px) rotate(0deg) scale(0.5, 0.5); transform-origin: 50% 50%; left: 0px; top: 0px; width: 718.973px; height: 158.4px; z-index: 10011; opacity: 0; display: block;"><div class="scroll-container"><div dir="ltr" style="font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">We're here
to support</div><div dir="ltr" style="display: none; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; height: 0px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">We're here
to support</div><div dir="ltr" style="visibility: hidden; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-right: 4px; padding-bottom: 4px; padding-left: 4px; color: rgb(0, 40, 40); white-space: pre-line; margin-top: 4px;">We're here
to support</div></div></div><div id="celtra-object-1439" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(-156.738px, -34.596px) rotate(0deg) scale(0.5, 0.5); transform-origin: 50% 50%; left: 0px; top: 0px; width: 718.973px; height: 158.4px; z-index: 10010; opacity: 0; display: block;"><div class="scroll-container"><div dir="ltr" style="font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">Whatever the 
diagnosis</div><div dir="ltr" style="display: none; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; height: 0px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">Whatever the 
diagnosis</div><div dir="ltr" style="visibility: hidden; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-right: 4px; padding-bottom: 4px; padding-left: 4px; color: rgb(0, 40, 40); white-space: pre-line; margin-top: 4px;">Whatever the 
diagnosis</div></div></div><div id="celtra-object-230" class="celtra-hotspot celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform: rotate(0deg) scale(1, 1); transform-origin: 50% 50%; left: 0px; top: 0px; width: 728px; height: 90px; z-index: 10009; opacity: 1; display: block;"></div><div id="celtra-object-930" class="celtra-button celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform: translate(526px, 42.501px) rotate(0deg) scale(0.5, 0.5); transform-origin: 50% 50%; left: 0px; top: 0px; width: 260px; height: 57.996px; z-index: 10008; opacity: 1; display: block;"><div class="background" style="border-radius: 39.0982px / 28.998px;"></div><div class="foreground call-to-action" dir="ltr" style="font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: center; text-transform: none; padding-top: 12.998px; border-radius: 39.0982px / 28.998px; font-size: 32px; line-height: 32px;">Book now</div></div><div id="celtra-object-733" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(-162.126px, 29.403px) rotate(0deg) scale(0.5, 0.5); transform-origin: 50% 50%; left: 0px; top: 0px; width: 728px; height: 75.6px; z-index: 10006; opacity: 1; display: block;"><div class="scroll-container"><div dir="auto" style="font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 48px; line-height: 48px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">Sydenham</div><div dir="auto" style="display: none; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 48px; line-height: 48px; height: 0px; padding-left: 4px; padding-right: 4px; margin-top: 4px;">Sydenham</div><div dir="auto" style="visibility: hidden; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-right: 4px; padding-bottom: 4px; padding-left: 4px; color: rgb(0, 40, 40); white-space: pre-line; margin-top: 4px;">Sydenham</div></div></div><div id="celtra-object-524" class="celtra-picture celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(-44.5px, 12.7479px) rotate(0deg) scale(0.64191, 0.64191); transform-origin: 50% 50%; left: 0px; top: 0px; width: 377px; height: 40.5041px; z-index: 10003; opacity: 1; display: block;"><img src="https://cache-ssl.celtra.com/api/blobs/f4f635166da0b112660774899400b51a4f3418321bf3c82a928c50ea8c14d68a/Book%20an%20appointment.png?transform=crush&amp;quality=256" style="position: absolute; left: 0px; top: 1px; width: 377px; height: 38px;"></div><div id="celtra-object-554" class="celtra-shapey celtra-screen-object celtra-view touchable" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 4px; top: -1px; width: 415px; height: 90px; z-index: 10002; opacity: 1; display: block; outline: transparent solid 1px;"><div class="gradient-shapey"></div></div><div id="celtra-object-529" class="celtra-picture celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform-origin: 50% 50%; left: 132px; top: -49px; width: 596px; height: 188px; z-index: 10001; opacity: 1; display: block; outline: transparent solid 1px;"><img src="https://cache-ssl.celtra.com/api/blobs/6af99d8d6ce7fbcf38d78e6877aeb019f51b3e3b1b407a24deac7e8a22e7ad4d/VETS%20FOR%20PETS_LOGO_CORE%20GREEN%20AND%20DARK%20TEAL_RGB.background.png?transform=crush&amp;quality=256" style="position: absolute; left: 0px; top: 48px; width: 596px; height: 92.976px;"></div><div id="celtra-object-1443" class="celtra-texty celtra-screen-object celtra-view" style="touch-action: manipulation; position: absolute; transform: translate(-220.256px, -34.596px) rotate(0deg) scale(0.5, 0.5); transform-origin: 50% 50%; left: 0px; top: 0px; width: 1001px; height: 158.4px; z-index: 10012; opacity: 0; display: block;"><div class="scroll-container"><div dir="ltr" style="font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; padding-left: 4px; padding-right: 4px; margin-top: 7.2px;">We offer advanced
services</div><div dir="ltr" style="display: none; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-bottom: 4px; color: rgb(0, 40, 40); white-space: pre-line; font-size: 70px; line-height: 70px; height: 0px; padding-left: 4px; padding-right: 4px; margin-top: 7.2px;">We offer advanced
services</div><div dir="ltr" style="visibility: hidden; font-family: &quot;-5019995135&quot;, Helvetica, sans-serif; font-style: normal; font-weight: 700; letter-spacing: 0px; text-align: left; text-transform: none; padding-right: 4px; padding-bottom: 4px; padding-left: 4px; color: rgb(0, 40, 40); white-space: pre-line; margin-top: 7.2px;">We offer advanced
services</div></div></div></div></div></div></div></div><script>window.urls = {"creativeUrl":"https://ads.celtra.com/compiled/4e7fd840/","apiUrl":"https://hub.celtra.com/api/","cachedApiUrl":"https://cache-ssl.celtra.com/api/","staticUrl":"https://cache-ssl.celtra.com/api/static/vda5d009053/","qrUrl":"https://qr.celtra.com/api/","insecureCreativeUrl":"http://ads.celtra.com/compiled/4e7fd840/","insecureApiUrl":"http://hub.celtra.com/api/","insecureCachedApiUrl":"http://cache.celtra.com/api/","insecureStaticUrl":"http://cache.celtra.com/api/static/vda5d009053/","insecureQrUrl":"http://qr.celtra.com/api/","trackingUrl":"https://track.celtra.com/","insecureTrackingUrl":"http://track.celtra.com/","geoUrl":"https://geo.celtra.com/","insecureGeoUrl":"http://geo.celtra.com/","customAudiencesUrl":"https://audiences.celtra.com","insecureCustomAudiencesUrl":"http://audiences.celtra.com","shareUrl":"https://hub-user.celtra.com/share/","insecureShareUrl":"http://hub-user.celtra.com/share/","resourceUrl":"https://cache-ssl.celtra.com/api/static/vda5d009053/"};
window.urlOpenedOverrideUrls = {};
window.storeOpenedOverrideUrls = {};
window.urlOpenedUrlAppendage = "";
window.clickThroughDestinationUrl = null;
;

            (function() {
                // Add head or body, if they do not yet exist
                var html = document.documentElement;
                var head = document.querySelector('head');
                if (!head) {
                    head = document.createElement('head');
                    html.insertBefore(head, html.firstChild);
                }
                var body = document.querySelector('body');
                if (!body) {
                    body = document.createElement('body');
                    html.appendChild(body);
                }

                
            // Add CSS
            var styles = document.createElement('style');
            styles.textContent = ".transplanted-form-element-container input,\n.transplanted-form-element-container textarea,\n.transplanted-form-element {\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    text-align: center;\n}\n\n.celtra-display-image-overlay {\n    position: absolute;\n    top: 0; right: 0; bottom: 0; left: 0;\n    z-index: 30;\n    background-repeat: no-repeat;\n    background-position: center center;\n    /* background-color and background-image set in code */\n}\n\n.celtra-display-image-overlay .celtra-back-button {\n    position: absolute;\n    top: 0;\n    width: 30px; height: 30px;\n    background: url('https://cache-ssl.celtra.com/api/static/vda5d009053/runner/clazzes/CreativeUnit/back.png');\n    background-size: 30px 60px;\n}\n\n.celtra-display-image-overlay .celtra-back-button.left {\n    left: 0;\n}\n\n.celtra-display-image-overlay .celtra-back-button.right {\n    right: 0;\n}\n\n.celtra-display-image-overlay .celtra-back-button.touched {\n    background-position: 0 100%;\n}\n\n.celtra-fit-to-container {\n    max-width: 100%;\n    max-height: 100%;\n}\n\n.celtra-center-content {\n    width: 100%;\n    height: 100%;\n    text-align: center;\n}\n.celtra-center-content::before {\n    content: '';\n    display: inline-block;\n    height: 100%;\n    vertical-align: middle;\n}\n.celtra-center-content > * {\n    vertical-align: middle;\n}\n\n.celtra-creative-border {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    z-index: 20;\n    border-style: solid;\n    box-sizing: border-box;\n    pointer-events: none;\n}\n\n/* Disables green outline on tapped objects on HTC phones running Android */\n* {\n    -webkit-tap-highlight-color : rgba(0,0,0,0);\n    tap-highlight-color         : rgba(0,0,0,0);\n}\n\n.celtra-creative-unit {\n    font-family: Helvetica;\n    font-size: 12pt;\n\n    position: relative; /* so contained elements are positioned OK and 'overflow: hidden' works */\n\n    /*\n      z-indices:\n        10 - screenHolder\n        20 - placeboBar\n        40 - alert\n        30 - displayImageAction overlay\n        100 - close button\n    */\n}\n\n.celtra-screen-holder {\n    position: absolute; top: 0; left: 0; bottom: 0; right: 0;\n    z-index: 10;\n}\n\n.celtra-creative-unit, .celtra-creative-unit * {\n    -webkit-text-size-adjust: none;\n        -ms-text-size-adjust: none;\n            text-size-adjust: none;\n    tap-highlight-color: transparent;\n    touch-callout: none;\n    -webkit-user-select: none;\n       -moz-user-select: none;\n        -ms-user-select: none;\n            user-select: none; /* override to 'text' manually if needed */\n\n    margin: 0;\n    padding: 0;\n}\n\n.celtra-close-button {\n    position: absolute;\n    top: 0; right: 0;\n    width: 30px; height: 30px;\n    z-index: 99999999;\n    overflow: hidden;\n    -webkit-transform: translateZ(0);\n}\n\n.celtra-close-button-text {\n    font-family: Arial, Helvetica, Tahoma, sans-serif;\n    font-size: 12px;\n    line-height: 12px;\n    padding: 10px;\n    white-space: nowrap;\n    width: auto;\n    height: auto;\n    cursor: pointer;\n}\n\n.celtra-close-button.touched {\n    visibility: hidden;\n}\n\n.celtra-close-button-down {\n    visibility: hidden;\n}\n\n.celtra-close-button-up.touched+.celtra-close-button-down {\n    visibility: visible;\n}\n\n.celtra-close-button-text.touched {\n    visibility: visible;\n    padding-top: 11px;\n    padding-right: 9px;\n}\n\n.celtra-creative-unit input,\n.celtra-creative-unit textarea {\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    text-align: center;\n}\n.celtra-screen {\n    /*\n      Screens themselves have 0 area and visible overflow (default), so\n      click-through from base to master screen works.\n      \n      The master has z-index 0 and the primary screen has z-index 1.\n    */\n    position: absolute;\n    top: 0; left: 0; \n    \n    pointer-events: none;\n    overflow: hidden;\n}\n\n.celtra-screen > * {\n    pointer-events: auto;\n}\n/*\nThis extra CSS attribute is required for Internet Explorer 10+ to correctly\nroute Pointer events to the object being touched. This is mutually exclusive\nwith scrolling, so there's no way to have both at the same time. This will\nalso prevent swipeable banners if any element on stage has the `touchable`\nCSS class, but will generate `tap` events.\n*/\n.touchable { -ms-touch-action: none; }\n\n/*\nOn IE, if a background is not set on an element, it is\ntransparent to mouse and touch events. This forces the\nelement to become opaque to user events.\n*/\n.celtra-screen-object { background: rgba(0,0,0,0); }\n\n/*\nPointer cursor for hotspot component on desktop.\n*/\n.celtra-hotspot { cursor: pointer; }\n\n\n/*\nForce GPU rendering for all children of animated layers in order to prevent jittery scaling animations.\nBecause the `animated` class is added to objects only when SceneOverrides.js is included, this style rule\nwill not affect any elements in creatives which are not using scenes.\n*/\n.celtra-screen-object.animated div,\n.celtra-screen-object.animated > img,\n.celtra-screen-object.animated .celtra-screen-object div,\n.celtra-screen-object.animated .celtra-screen-object > img {\n    transform: perspective(1px);\n}\n\n.celtra-picture {\n    overflow: hidden;\n}\n\n.celtra-picture.empty {\n    background-color: #000000;\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: 28px;\n    border: 2px solid #404040;\n    box-sizing: border-box;\n}\n\n.celtra-button {\n\tbox-sizing: border-box;\n\tcursor: pointer;\n}\n\n.celtra-button div {\n\toverflow: hidden;\n\tbox-sizing: border-box;\n\tbackground-clip: padding-box;\n\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: transparent;\n\n\tbackground-color: transparent;\n\tbackground-position: center center;\n\tbackground-repeat: no-repeat;\n}\n\n.celtra-button div,\n.celtra-button img {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\theight: 100%;\n\twidth: 100%;\n\ttransition: inherit;\n}\n\n.celtra-button .background,\n.celtra-button .background img,\n.celtra-button .foreground,\n.celtra-button .foreground div {\n\tpointer-events: none;\n}\n\n.celtra-button .call-to-action {\n\tpadding: 0 3px;\n\twhite-space: pre;\n}\n\n.celtra-button .image-fit div {\n\tbackground-size: auto;\n}\n\n.celtra-button .image-stretch div {\n\tbackground-size: 100% 100%;\n}\n\n.celtra-texty .no-break {\n    white-space: nowrap;\n    word-break: keep-all;\n    overflow-wrap: normal;\n    word-wrap: normal;\n}\n\n.celtra-texty .scroll-container {\n    position: relative;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    outline: 1px solid transparent; /* node looses overflow: hidden if object is translated on Android native browser ... line below magically solves that */\n}\n\n.celtra-texty .scroll-container > div {\n    position: absolute;\n    width: 100%;\n    box-sizing: border-box;\n}\n\n.celtra-texty .celtra-vertical-scrollbar {\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 5px;\n    z-index: 2;\n}\n\n.celtra-texty .celtra-vertical-scrollbar.outer {\n    right: -5px;\n}\n\n/*\nWorkaround for smooth text animation in baking for animated Texty and animated containers that contain Texty.\n*/\n.celtra-texty.baking-animated div,\n.celtra-screen-object.baking-animated .celtra-texty div {\n    will-change: transform;\n}\n\n.celtra-shapey {\n\tbox-sizing: border-box;\n}\n\n.celtra-shapey div {\n\tposition: absolute;\n\tleft: 0;\n\ttop: 0;\n\theight: 100%;\n\twidth: 100%;\n\n\toverflow: hidden;\n\tbox-sizing: border-box;\n\tbackground-clip: padding-box;\n\n\tborder-width: 0;\n\tborder-style: solid;\n\tborder-color: transparent;\n\n\ttransition: inherit;\n}\n\n.celtra-store-locator3 {\n    overflow: hidden;\n    background-color: #e5e3df;\n}\n\n.celtra-store-locator3.arabic {\n    direction: rtl;\n}\n\n    .celtra-store-locator3 .initial-map-dialog {\n        position: absolute;\n        top: 0;\n        left: 0;\n        bottom: 0;\n        right: 0;\n        z-index: 10;\n    }\n\n    .celtra-store-locator3 .initial-map-dialog .touchable {\n        cursor: pointer;\n    }\n\n        .celtra-store-locator3 .initial-map-dialog .map-placeholder {\n            position: absolute;\n            top: -100px;\n            left: -100px;\n            right: -100px;\n            bottom: -100px;\n            background-position: center center;\n            background-repeat: repeat;\n            z-index: 9;\n            transform: rotate(10deg);\n        }\n\n        .celtra-store-locator3 .initial-map-dialog .overlay {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background-color: rgba(0, 0, 0, 0.7);\n            z-index: 10;\n        }\n\n            .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content {\n                width: 100%;\n                position: absolute;\n                top: 50%;\n                left: 50%;\n                font-size: 14px;\n                line-height: 20px;\n                color: white;\n                text-align: center;\n                transform: translate(-50%, -50%);\n            }\n\n                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content > div {\n                    display: none;\n                    margin: 10px;\n                }\n\n                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .user-consent .consent-button {\n                    display: inline-block;\n                    padding: 10px;\n                    margin: 20px 15px;\n                    color: white;\n                    text-align: center;\n                    border-radius: 5px;\n                    font-weight: bold;\n                    font-size: 14px;\n                    min-width: 45px;\n                    width: -moz-max-content;\n                    width: max-content;\n                }\n\n                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .consent-button.button-yes {\n                    background-color: green;\n                }\n\n                .celtra-store-locator3 .initial-map-dialog .overlay .overlay-content .consent-button.button-no {\n                    background-color: red;\n                }\n\n            .celtra-store-locator3 .initial-map-dialog .icon {\n                width: 42px;\n                height: 42px;\n                border-radius: 50%;\n                box-shadow: 0 0 7px rgba(0,0,0,0.2);\n                background-color: white;\n                margin: 17px auto 0;\n            }\n\n                .celtra-store-locator3 .initial-map-dialog .icon svg {\n                    width: 20px;\n                    height: 20px;\n                    margin: 11px;\n                }\n\n    .celtra-store-locator3 .map-container {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        z-index: 1;\n    }\n\n    /* -- Button ------------------------------------------------------------------------------------- */\n\n    .celtra-store-locator3 .btn {\n        position: absolute;\n        z-index: 2;\n        cursor: pointer;\n        width: 36px;\n        height: 36px;\n        border-radius: 50%;\n        left: -100px;\n        top: -100px;\n        z-index: 2;\n        box-shadow: 0 0 4px rgba(0,0,0,0.2);\n    }\n\n    .celtra-store-locator3 .btn.animated {\n        transition: all 0.3s cubic-bezier(.97,.01,.05,1);\n    }\n\n        .celtra-store-locator3 .btn.zoomIn,\n        .celtra-store-locator3 .btn.zoomOut {\n            width: 29px;\n            height: 29px;\n            border-radius: 3px;\n        }\n\n        .celtra-store-locator3.dark .btn {\n            box-shadow: 0 0 4px rgba(255,255,255,0.5);\n        }\n\n        .celtra-store-locator3 .btn.zoomIn {\n            border-bottom-right-radius: 0;\n            border-bottom-left-radius: 0;\n        }\n\n        .celtra-store-locator3 .btn.zoomOut {\n            border-top-right-radius: 0;\n            border-top-left-radius: 0;\n        }\n\n            .celtra-store-locator3 .btn svg {\n                width: 16px;\n                height: 16px;\n                margin: 10px;\n            }\n\n            .celtra-store-locator3 .btn.zoomIn svg,\n            .celtra-store-locator3 .btn.zoomOut svg {\n                margin: 7px;\n            }\n\n                .celtra-store-locator3.light .btn.refocus,\n                .celtra-store-locator3.light .btn.zoomIn,\n                .celtra-store-locator3.light .btn.zoomOut,\n                .celtra-store-locator3.light .btn.search {\n                    background-color: white;\n                }\n\n                .celtra-store-locator3.dark .btn.refocus,\n                .celtra-store-locator3.dark .btn.zoomIn,\n                .celtra-store-locator3.dark .btn.zoomOut,\n                .celtra-store-locator3.dark .btn.search {\n                    background-color: black;\n                }\n\n                .celtra-store-locator3.light .btn.refocus svg,\n                .celtra-store-locator3.light .btn.search svg,\n                .celtra-store-locator3.light .btn.zoomOut svg,\n                .celtra-store-locator3.light .btn.zoomIn svg {\n                    fill: black;\n                }\n\n                .celtra-store-locator3.dark .btn.refocus svg,\n                .celtra-store-locator3.dark .btn.search svg,\n                .celtra-store-locator3.dark .btn.zoomIn svg,\n                .celtra-store-locator3.dark .btn.zoomOut svg {\n                    fill: white;\n                }\n\n    /* -- List --------------------------------------------------------------------------------------- */\n\n    .celtra-store-locator3 .list-container {\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        z-index: 4;\n        overflow: hidden;\n        background-color: white;\n        opacity: 0;\n        visibility: hidden;\n    }\n\n    .celtra-store-locator3 .list-container.animated {\n        transition: top .3s cubic-bezier(0,0,.3,1.1), left .3s cubic-bezier(0,0,.3,1.1), opacity .3s ease-out;\n    }\n\n        .celtra-store-locator3 .header.animated {\n            transition: top .3s cubic-bezier(0,.5,.5,1), opacity .3s cubic-bezier(1,0,0,1);\n        }\n\n        .celtra-store-locator3 .header {\n            position: absolute;\n            top: -50px;\n            left: 0;\n            width: 100%;\n            height: 50px;\n            font-size: 14px;\n            line-height: 21px;\n            box-sizing: border-box;\n            z-index: 6;\n            opacity: 0;\n        }\n\n            .celtra-store-locator3 .list-header,\n            .celtra-store-locator3 .search-header,\n            .celtra-store-locator3 .map-header,\n            .celtra-store-locator3 .infobox-header,\n            .celtra-store-locator3 .cluster-header {\n                position: relative;\n                width: 100%;\n                height: 100%;\n                transition: opacity .1s linear;\n            }\n\n        .celtra-store-locator3 .list-header.no-header {\n            display: none;\n        }\n\n            .celtra-store-locator3 .list-header .back,\n            .celtra-store-locator3 .map-header .back,\n            .celtra-store-locator3 .cluster-header .back,\n            .celtra-store-locator3 .infobox-header .back,\n            .celtra-store-locator3 .search-header .back {\n                float: left;\n                cursor: pointer;\n                height: 50px;\n                line-height: 50px;\n                text-overflow: ellipsis;\n                overflow: hidden;\n                white-space: nowrap;\n            }\n\n            .celtra-store-locator3 .search-header .back {\n                position: relative;\n                z-index: 1;\n                width: 36px;\n            }\n\n                .celtra-store-locator3 .cluster-header .back.with-text h5,\n                .celtra-store-locator3 .cluster-header .back.with-text p {\n                    width: auto;\n                    padding-left: 0;\n                }\n\n                    .celtra-store-locator3 .back svg {\n                        float: left;\n                        width: 16px;\n                        height: 16px;\n                        margin: 17px 10px;\n                    }\n\n            .celtra-store-locator3 .list-header .search {\n                float: right;\n                cursor: pointer;\n                height: 100%;\n                width: 44px;\n            }\n\n                .celtra-store-locator3 .list-header .search svg {\n                    width: 16px;\n                    height: 16px;\n                    margin: 17px 14px;\n                }\n\n            .celtra-store-locator3 .search-header .query {\n                position: absolute;\n                top: 0;\n                left: 0;\n                padding: 0 44px 0 36px;\n                box-sizing: border-box;\n                margin: 0;\n                border: none;\n                background: none;\n                height: 100%;\n                width: 100%;\n                font-size: 14px;\n                text-align: left;\n                font-weight: normal;\n            }\n\n            .celtra-store-locator3.arabic .search-header .query {\n                text-align: right;\n            }\n\n            .celtra-store-locator3 .search-header .query:focus {\n                outline-width: 0;\n            }\n\n            .celtra-store-locator3 .search-header .cancel {\n                position: absolute;\n                top: 0;\n                right: 0;\n                width: 44px;\n                height: 100%;\n                cursor: pointer;\n                display: none;\n                z-index: 1;\n            }\n\n                .celtra-store-locator3 .search-header .cancel svg {\n                    width: 16px;\n                    height: 16px;\n                    margin: 17px 14px;\n                }\n\n        .celtra-store-locator3 .list-content-container {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n        }\n\n        .celtra-store-locator3 .list-container.with-header .list-content-container {\n            top: 50px;\n            height: calc(100% - 50px);\n        }\n\n        .celtra-store-locator3 .list-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            text-align: center;\n            font-size: 14px;\n        }\n\n            .celtra-store-locator3 .list-container .details {\n                width: 100%;\n                height: 75px;\n                padding: 10px 85px 10px 10px;\n                overflow: hidden;\n                border-bottom: 1px solid rgba(0,0,0,0.2);\n            }\n\n    .celtra-store-locator3 .celtra-vertical-scrollbar {\n        position: absolute;\n        top: 0;\n        right: 3px;\n        width: 4px;\n        padding: 5px 0;\n        opacity: 0.15;\n        z-index: 2;\n        box-sizing: border-box;\n    }\n\n        .celtra-store-locator3 .celtra-vertical-scrollbar div {\n            background-color: black;\n            border-radius: 2px;\n            width: 100%;\n            height: 100%;\n        }\n\n    /* -- List - modifications ----------------------------------------------------------------------- */\n\n    .celtra-store-locator3.dark .list-container {\n        background-color: black;\n    }\n\n    .celtra-store-locator3.dark .list-container .details {\n        border-bottom: 1px solid rgba(255,255,255,0.2);\n    }\n\n    .celtra-store-locator3.dark .list-wrapper {\n        color: white;\n    }\n\n    .celtra-store-locator3.light .list-wrapper {\n        color: black;\n    }\n\n    .celtra-store-locator3.dark .celtra-vertical-scrollbar div {\n        background-color: white;\n    }\n\n    /* -- Infobox ------------------------------------------------------------------------------------ */\n\n    .celtra-store-locator3 .infobox-container {\n        position: absolute;\n        z-index: 5;\n        height: 150px;\n        overflow: hidden;\n        box-sizing: border-box;\n        box-shadow: 0 0 4px rgba(0,0,0,0.2);\n        margin: 0 10px 10px;\n        background-color: white;\n        opacity: 0;\n        visibility: hidden;\n    }\n\n    .celtra-store-locator3 .infobox-container.animated {\n        transition: top 0.3s cubic-bezier(.25,.1,.25,1), left 0.3s cubic-bezier(.25,.1,.25,1), opacity 0.3s cubic-bezier(.25,.1,.25,1);\n    }\n\n        .celtra-store-locator3 .cluster-header.static {\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 50px;\n            padding-right: 60px;\n            overflow: hidden;\n            box-sizing: border-box;\n            color: white;\n            opacity: 1;\n        }\n\n            .celtra-store-locator3 .cluster-header .title {\n                float: left;\n            }\n\n            .celtra-store-locator3 .cluster-header h5 {\n                float: left;\n                width: 100%;\n                font-size: 14px;\n                padding: 8px 0 0 11px;\n                box-sizing: border-box;\n                line-height: 20px;\n                font-weight: bold;\n            }\n\n            .celtra-store-locator3 .cluster-header .instructions {\n                float: left;\n                width: 100%;\n                padding: 0 0 0 11px;\n                box-sizing: border-box;\n                font-size: 11px;\n                line-height: 14px;\n                clear: both;\n            }\n\n            .celtra-store-locator3 .cluster-header .navigation {\n                position: absolute;\n                top: 0;\n                right: 14px;\n                font-size: 18px;\n                line-height: 50px;\n            }\n\n        .celtra-store-locator3 .infobox-wrapper {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            box-sizing: border-box;\n        }\n\n        .celtra-store-locator3 .infobox-container.cluster .infobox-wrapper,\n        .celtra-store-locator3.small .infobox-wrapper,\n        .celtra-store-locator3.tiny .infobox-wrapper {\n            padding-top: 50px;\n        }\n\n            .celtra-store-locator3 .infobox-location {\n                float: left;\n                position: relative;\n                width: 100%;\n                height: 100%;\n                box-sizing: border-box;\n            }\n\n    /* -- Infobox - modifications -------------------------------------------------------------------- */\n\n    .celtra-store-locator3.small .infobox-container,\n    .celtra-store-locator3.tiny .infobox-container {\n        margin: 0;\n    }\n\n    .celtra-store-locator3.wide .infobox-container {\n        height: 75px;\n    }\n\n    .celtra-store-locator3.wide .infobox-container.cluster {\n        height: 125px;\n        bottom: -140px;\n    }\n\n    .celtra-store-locator3.dark .infobox-container {\n        background-color: black;\n    }\n\n    /* -- Details ------------------------------------------------------------------------------------ */\n\n    .celtra-store-locator3 .details {\n        position: relative;\n        width: 100%;\n        height: calc(100% - 50px);\n        overflow: hidden;\n        white-space: nowrap;\n        color: black;\n        text-align: left;\n        padding: 15px 85px 15px 15px;\n        box-sizing: border-box;\n    }\n\n    .celtra-store-locator3.arabic .details {\n        text-align: right;\n    }\n\n    .celtra-store-locator3 .infobox-container .details.no-actions {\n        height: 100%;\n    }\n\n    .celtra-store-locator3 .infobox-container .details:before {\n        content: '';\n        display: inline-block;\n        height: 100%;\n        width: 0;\n        vertical-align: middle;\n    }\n\n    .celtra-store-locator3 .details .center {\n        display: inline-block;\n        vertical-align: middle;\n        width: 100%;\n    }\n\n        .celtra-store-locator3 .details h3 {\n            font-size: 14px;\n            line-height: 20px;\n            font-weight: normal;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            cursor: pointer;\n        }\n\n        .celtra-store-locator3 .details p {\n            font-size: 12px;\n            line-height: 17px;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n        }\n\n            .celtra-store-locator3 .details p.dimmed,\n            .celtra-store-locator3 .details span.dimmed {\n                opacity: 0.5;\n            }\n\n        .celtra-store-locator3 .details .open,\n        .celtra-store-locator3 .details .closed {\n            color: #54BF78;\n            font-weight: bold;\n            opacity: 1;\n        }\n\n        .celtra-store-locator3 .details .closed {\n            color: #D42238;\n        }\n\n        .celtra-store-locator3 .details .directions {\n            position: absolute;\n            top: 0;\n            right: 0;\n            width: 70px;\n            height: 100%;\n            overflow: hidden;\n            cursor: pointer;\n        }\n\n            .celtra-store-locator3 .details .directions .icon {\n                position: relative;\n                width: 100%;\n                height: 50%;\n            }\n\n                .celtra-store-locator3 .details .directions .icon svg {\n                    position: absolute;\n                    bottom: 0;\n                    left: 19px;\n                    width: 30px;\n                    height: 27px;\n                }\n\n            .celtra-store-locator3 .details .directions .distance {\n                width: 100%;\n                height: 50%;\n                padding-top: 19px;\n                font-size: 12px;\n                line-height: 17px;\n                text-align: center;\n                box-sizing: border-box;\n                white-space: nowrap;\n                overflow: hidden;\n                text-overflow: ellipsis;\n            }\n\n    /* -- Details - modifications -------------------------------------------------------------------- */\n\n    .celtra-store-locator3.tiny .infobox-container .details {\n        padding: 10px 85px 10px 10px;\n    }\n\n    .celtra-store-locator3.wide .details,\n    .celtra-store-locator3.wide.tiny .infobox-container .details {\n        padding: 10px 285px 10px 10px;\n    }\n\n    .celtra-store-locator3.small .list-container .details,\n    .celtra-store-locator3.tiny .list-container .details {\n        padding: 8px 85px 8px 10px;\n        height: 50px;\n    }\n\n    .celtra-store-locator3.wide .infobox-container .details {\n        height: 100%;\n    }\n\n    .celtra-store-locator3.dark .details {\n        color: white;\n    }\n\n    .celtra-store-locator3.small .list-container .details h3,\n    .celtra-store-locator3.tiny .list-container .details h3 {\n        line-height: 17px;\n    }\n\n    .celtra-store-locator3 .list-container .details .directions .icon,\n    .celtra-store-locator3.wide .infobox-container .details .directions .icon,\n    .celtra-store-locator3.tiny .infobox-container .details .directions .icon {\n        height: 60%;\n    }\n\n        .celtra-store-locator3 .list-container .details .directions .icon svg,\n        .celtra-store-locator3.wide .infobox-container .details .directions .icon svg,\n        .celtra-store-locator3.tiny .infobox-container .details .directions .icon svg {\n            bottom: 5px;\n        }\n\n    .celtra-store-locator3.wide.small .infobox-container .details .directions .icon,\n    .celtra-store-locator3.wide.tiny .infobox-container .details .directions .icon {\n        height: 55%;\n    }\n\n    .celtra-store-locator3 .list-container .details .directions .distance,\n    .celtra-store-locator3.wide .infobox-container .details .directions .distance,\n    .celtra-store-locator3.tiny .infobox-container .details .directions .distance {\n        height: 40%;\n        padding-top: 2px;\n    }\n\n    .celtra-store-locator3.wide.small .infobox-container .details .directions .distance,\n    .celtra-store-locator3.wide.tiny .infobox-container .details .directions .distance {\n        height: 45%;\n    }\n\n    .celtra-store-locator3.small .list-container .details .directions .icon,\n    .celtra-store-locator3.tiny .list-container .details .directions .icon {\n        height: 100%;\n    }\n\n        .celtra-store-locator3.small .list-container .details .directions .icon svg,\n        .celtra-store-locator3.tiny .list-container .details .directions .icon svg {\n            bottom: 11px;\n        }\n\n    /* -- Actions ------------------------------------------------------------------------------------ */\n\n    .celtra-store-locator3 .actions {\n        list-style: none;\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 49px;\n        border-top: 1px solid rgba(0,0,0,0.2);\n    }\n\n    .celtra-store-locator3 .actions.no-phone.no-website.no-email {\n        display: none;\n    }\n\n        .celtra-store-locator3 .actions li {\n            float: right;\n            width: 33%;\n            height: 100%;\n            cursor: pointer;\n        }\n\n            .celtra-store-locator3 .actions.no-phone li,\n            .celtra-store-locator3 .actions.no-website li,\n            .celtra-store-locator3 .actions.no-email li {\n                width: 50%;\n            }\n\n            .celtra-store-locator3 .actions.no-phone.no-email li,\n            .celtra-store-locator3 .actions.no-phone.no-website li,\n            .celtra-store-locator3 .actions.no-email.no-website li {\n                width: 100%;\n            }\n\n        .celtra-store-locator3 .actions .icon {\n            width: 100%;\n            height: 100%;\n            text-align: center;\n        }\n\n            .celtra-store-locator3 .actions .icon svg {\n                width: 24px;\n                height: 24px;\n                margin: 13px 0;\n                fill: black;\n            }\n\n    /* -- Actions - modifications -------------------------------------------------------------------- */\n\n    .celtra-store-locator3.dark .actions {\n        border-top: 1px solid rgba(255,255,255,0.2);\n    }\n\n    .celtra-store-locator3.wide .actions {\n        width: 210px;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        right: 70px;\n        border: none;\n    }\n\n        .celtra-store-locator3.wide .actions li {\n            float: right;\n            width: 70px;\n            height: 100%;\n            overflow: hidden;\n            cursor: pointer;\n        }\n\n        .celtra-store-locator3.wide .actions.no-phone li,\n        .celtra-store-locator3.wide .actions.no-website li,\n        .celtra-store-locator3.wide .actions.no-email li,\n        .celtra-store-locator3.wide .actions.no-phone.no-email li,\n        .celtra-store-locator3.wide .actions.no-phone.no-website li,\n        .celtra-store-locator3.wide .actions.no-email.no-website li {\n            width: 70px;\n        }\n\n            .celtra-store-locator3.wide .actions .label {\n                display: block;\n                width: 100%;\n                font-size: 12px;\n                line-height: 17px;\n                color: black;\n                opacity: 0.5;\n                text-align: center;\n                box-sizing: border-box;\n            }\n\n            .celtra-store-locator3.wide .actions .icon svg {\n                width: 32px;\n                height: 32px;\n                opacity: 0.5;\n            }\n\n            .celtra-store-locator3.wide .actions .icon {\n                height: 60%;\n            }\n\n            .celtra-store-locator3.wide .actions .label {\n                height: 40%;\n                padding-top: 2px;\n            }\n\n            .celtra-store-locator3.wide.small .actions .icon,\n            .celtra-store-locator3.wide.tiny .actions .icon {\n                position: relative;\n                height: 55%;\n            }\n\n                .celtra-store-locator3.wide.small .actions .icon svg,\n                .celtra-store-locator3.wide.tiny .actions .icon svg {\n                    position: absolute;\n                    bottom: 0;\n                    left: 19px;\n                    margin: 0;\n                }\n\n            .celtra-store-locator3.wide.small .actions .label,\n            .celtra-store-locator3.wide.tiny .actions .label {\n                height: 45%;\n            }\n\n            .celtra-store-locator3.wide.small .list-container .actions .icon,\n            .celtra-store-locator3.wide.tiny .list-container .actions .icon {\n                height: 100%;\n            }\n\n            .celtra-store-locator3.dark .actions .icon svg {\n                fill: white;\n            }\n\n            .celtra-store-locator3.small .actions .label,\n            .celtra-store-locator3.tiny .actions .label {\n                display: none;\n            }\n\n            .celtra-store-locator3.wide.small .actions .label,\n            .celtra-store-locator3.wide.tiny .actions .label {\n                display: block;\n            }\n\n            .celtra-store-locator3.wide.dark .actions .label {\n                color: white;\n            }\n\n";
            head.appendChild(styles);

            // Add JS
            var js = document.createElement('script');
            js.textContent = "function inherit(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n,Object.defineProperties(e,{uber:{get:function(){return t.prototype},enumerable:!1,configurable:!1},uberConstructor:{get:function(){return t},enumerable:!1,configurable:!1}}),e.prototype.constructor=e}function extend(e,t){for(var n=1;n<arguments.length;n++){t=arguments[n];if(t instanceof Object)for(var r in t)e[r]=t[r]}return e}function deep(e,t){for(var n in t)e[n]instanceof Object&&t[n]instanceof Object?deep(e[n],t[n]):e[n]=t[n]}function delayed(e,t){var n=null;return function(){n&&clearTimeout(n),n=setTimeout(e,t)}}function throttled(e,t){var n=null;return function(){n=n||setTimeout(function(){n=null,e()},t)}}function deferred(e,t,n,r){return function(){defer(e,t,n,r)}}function useAsap(){return\"undefined\"!=typeof creative&&creative.adapter&&creative.adapter.useAsap||\"undefined\"!=typeof adapter&&adapter.useAsap}function hasClass(e,t){return e.classList.contains(t)}function addClass(e,t){e.classList.add(t)}function removeClass(e,t){e.classList.remove(t)}function toggleClass(e,t){e.classList.toggle(t)}function cssurl(e){return\"url('\"+e.replace(/'/g,\"\\\\'\")+\"')\"}function camelize(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}function ucfirst(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zeroPad(e,t){null==t&&(t=2);t=Math.max(0,t-(\"\"+e).length);return(\"\"+Math.pow(10,t)).slice(1)+e}function htmlentitize(e){return e.replace(/&/g,\"&amp;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#39;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\")}function removeHtmlTags(e){for(var t,n=\"(?:[^\\\"'>]|\\\"[^\\\"]*\\\"|'[^']*')*\",r=new RegExp(\"<(?:!--(?:(?:-*[^->])*--+|-?)|script\\\\b\"+n+\">[\\\\s\\\\S]*?</script\\\\s*|style\\\\b\"+n+\">[\\\\s\\\\S]*?</style\\\\s*|/?[a-z]\"+n+\")>\",\"gi\");(e=(t=e).replace(r,\"\"))!==t;);return e.replace(/</g,\"&lt;\")}function trim(e){return e.replace(/^\\s+|\\s+$/g,\"\")}function to_utf8(e){return unescape(encodeURIComponent(e))}function isRTLChar(e){return!!(e=String(e).charCodeAt(0))&&(1424<=e&&e<=1535||1536<=e&&e<=1791||1792<=e&&e<=1871||1872<=e&&e<=1919||2144<=e&&e<=2159||2208<=e&&e<=2303||64288<=e&&e<=64335||64336<=e&&e<=65023||65136<=e&&e<=65279||8207===e||8235===e||8238===e)}function isLTRChar(e){return!!(e=String(e).charCodeAt(0))&&(65<=e&&e<=90||97<=e&&e<=122||192<=e&&e<=214||216<=e&&e<=246||248<=e&&e<=696||768<=e&&e<=1424||2048<=e&&e<=8191||11264<=e&&e<=64284||65022<=e&&e<=65135||65277<=e&&e<=65535||8206===e||8234===e||8237===e)}function guessWritingDirection(e){for(var t=Math.min(25,e.length),n=0;n<t;n++){var r=e.charAt(n);if(isLTRChar(r))return\"ltr\";if(isRTLChar(r))return\"rtl\"}return null}function randInt(){return(Math.random()+\"\").slice(2)}function _isListenerOptionSupported(e){var t=_isListenerOptionSupported.opts;if(void 0===t[e]){t[e]=!1;try{window.addEventListener(\"listener-test\",null,Object.defineProperty({},e,{get:function(){t[e]=!0}}))}catch(e){}}return t[e]}function _buildNativeListenerOptions(e){var t;return\"object\"!=typeof e?!!e:_isListenerOptionSupported(\"capture\")?(t={capture:!!e.capture},_isListenerOptionSupported(\"passive\")&&(t.passive=!!e.passive),t):!!e.capture}function _analyzeTouch(e){var t,n=Math.abs(e.firstTouch.x-e.lastTouch.x),r=Math.abs(e.firstTouch.y-e.lastTouch.y);return\"y\"===e.validAxis?t=r>e.minDistanceForSwipe:\"x\"===e.validAxis&&(t=n>e.minDistanceForSwipe),{isHorizontal:r<n,isConsideredSwipe:t}}function attach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.addEventListener(t,n,_buildNativeListenerOptions(r))}function detach(e,t,n,r){t=getEventNames()[t.toLowerCase()]||t;e.removeEventListener(t,n,_buildNativeListenerOptions(r))}function once(t,n,r,o){attach(t,n,function e(){detach(t,n,e,o),r.apply(this,arguments)},o)}function trigger(e,t,n,r){var o=document.createEvent(\"HTMLEvents\"),n=(o.initEvent(t,n,r),\"on\"+ucfirst(t));return\"function\"==typeof e[n]&&e[n](),e.dispatchEvent(o)}function fakeclick(t,e){var n=(e=e||window).document.createElement(\"a\"),e=(n.cssText=\"visibility: hidden\",n.addEventListener(\"click\",function(e){t(),e.preventDefault(),e.stopPropagation(),n.parentNode.removeChild(n)},!0),e.document.body.appendChild(n),document.createEvent(\"MouseEvents\"));e.initEvent(\"click\",!0,!0),n.dispatchEvent(e)}function fakeClickAhrefBlank(e,t,n){t=t||noop;var r=(n=n||window).document.createElement(\"a\"),e=(r.style.cssText=\"visibility: hidden\",r.setAttribute(\"href\",e),r.setAttribute(\"target\",\"_blank\"),r.addEventListener(\"click\",function(e){e.stopPropagation(),t(),r.parentNode.removeChild(r)},!0),n.document.body.appendChild(r),n.document.createEvent(\"MouseEvents\"));e.initEvent(\"click\",!0,!0),r.dispatchEvent(e)}!function(a){if(!this.defer){try{for(;void 0!==a.parent.location.href&&a.parent.document!==a.document;)a=a.parent}catch(e){}e=\"function\"==typeof(u=a).setImmediate;var t,n,r,o,i,c,u,e,s=u.MutationObserver?function(e){t=document.createElement(\"div\"),new MutationObserver(function(){e(),t=null}).observe(t,{attributes:!0}),t.setAttribute(\"i\",\"1\")}:!e&&u.postMessage&&!u.importScripts&&u.addEventListener?(o=\"com.setImmediate\"+Math.random(),i=0,c={},u.addEventListener(\"message\",function(e){e.source===u&&0===e.data.indexOf(o)&&(e=e.data.split(\":\")[1],c[e](),delete c[e])},!1),function(e){var t=9007199254740991===i?0:++i;c[t]=e,u.postMessage(o+\":\"+t,\"*\")}):!e&&u.document&&\"onreadystatechange\"in document.createElement(\"script\")?function(e){(n=document.createElement(\"script\")).onreadystatechange=function(){n.onreadystatechange=null,n.parentNode.removeChild(n),n=null,e()},document.body.appendChild(n)}:(r=e&&setImmediate||setTimeout,function(e){r(e)});this.defer=function(e,t,n,r){var o,i,t=0|t;n&&(void 0!==defer.perf?i=defer.perf:\"undefined\"!=typeof creative?i=creative.perf:\"undefined\"!=typeof perf&&(i=perf),i&&!i._stopTrackingDefers&&(o=i.start(\"defer\",{deferId:n,delay:t}))),e&&(i=function(){o&&o.end(),e()},r?s(i):a.setTimeout(i,t))}}}(window),Function.prototype.bind||Object.defineProperty(Function.prototype,\"bind\",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}}}),function(t){t.getEventNames=function(){var e={};return\"WebKitAnimationEvent\"in t&&(e.animationstart=\"webkitAnimationStart\",e.animationiteration=\"webkitAnimationIteration\",e.animationend=\"webkitAnimationEnd\"),\"WebKitTransitionEvent\"in t&&(e.transitionend=\"webkitTransitionEnd\"),e}}(window),_isListenerOptionSupported.opts={};var getTimestamp=void 0===window.performance||void 0===window.performance.now?Date.now:window.performance.now.bind(window.performance);function noop(){}function nullai(e,t){t&&t()}function retTrue(){return!0}function retFalse(){return!1}function offset(e){var t=e.getBoundingClientRect(),e=e.ownerDocument,n=e.documentElement,e=e.defaultView;return{top:t.top+(e.pageYOffset||n.scrollTop)-(n.clientTop||0),left:t.left+(e.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}}function addCssRule(e,t,n){var r=document.createElement(\"style\");r.textContent=e+\" {\"+t+\"}\",(n?n.document:document).getElementsByTagName(\"head\")[0].appendChild(r)}function redrawAndroidIframe(){var e=document.createElement(\"style\");document.body.appendChild(e),document.body.removeChild(e)}function parseQuery(e){var t={};return(e=e.replace(/\\&$/,\"\").replace(/\\+/g,\"%20\")).split(\"&\").forEach(function(e){e=e.split(\"=\").map(decodeURIComponent);t[e[0]]=e[1]}),t}function buildQuery(e){var t,n=[];for(t in e)n.push(encodeURIComponent(t)+\"=\"+encodeURIComponent(e[t]));return n.join(\"&\")}function postBlob(e,t){var n=new XMLHttpRequest;n.open(\"POST\",creative.apiUrl+\"blobs?base64=1\"),n.setRequestHeader(\"Content-Type\",\"application/octet-stream\"),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText,n.status)},n.send(e)}function tmpl(e,t){if(!e)return\"\";var n;if(-1==e.indexOf(\"<%\"))n=function(){return e};else{var r=e.split(/<%\\s*|\\s*%>/g),o=\"var p = []; with(o) {\\n\",i=!1;r.forEach(function(e){i?\"=\"==e[0]?o+=\"  p.push(\"+e.replace(/^=\\s*|\\s*$/g,\"\")+\");\\n\":o+=\"  \"+e+\"\\n\":e&&(o+=\"  p.push('\"+e.replace(/'/g,\"\\\\'\").split(/\\r?\\n/g).join(\"\\\\n');\\n  p.push('\")+\"');\\n\"),i=!i}),o+='} return p.join(\"\");';try{n=new Function(\"o\",o)}catch(e){r=new Error(\"Cannot parse template! (see `template` property)\");throw r.template=o,r}}return t?n(t):n}function flash(){var e=document.createElement(\"div\");e.style.background=\"white\",e.style.opacity=.005,e.style.position=\"absolute\",e.style.top=0,e.style.left=0,e.style.width=\"100%\",e.style.height=\"100%\",e.style.zIndex=2147483647,document.body.appendChild(e),setTimeout(function(){e.parentNode.removeChild(e)},0)}function crc32(e){\"use strict\";for(var t=-1,n=0,r=[0,-227835133,-516198153,324072436,-946170081,904991772,648144872,-724933397,-1965467441,2024987596,1809983544,-1719030981,1296289744,-1087877933,-1401372889,1578318884,274646895,-499825556,-244992104,51262619,-675000208,632279923,922689671,-996891772,-1702387808,1760304291,2075979607,-1982370732,1562183871,-1351185476,-1138329528,1313733451,549293790,-757723683,-1048117719,871202090,-416867903,357341890,102525238,-193467851,-1436232175,1477399826,1264559846,-1187764763,1845379342,-1617575411,-1933233671,2125378298,820201905,-1031222606,-774358714,598981189,-143008082,85089709,373468761,-467063462,-1170599554,1213305469,1526817161,-1452612982,2107672161,-1882520222,-1667500394,1861252501,1098587580,-1290756417,-1606390453,1378610760,-2032039261,1955203488,1742404180,-1783531177,-878557837,969524848,714683780,-655182201,205050476,-28094097,-318528869,526918040,1361435347,-1555146288,-1340167644,1114974503,-1765847604,1691668175,2005155131,-2047885768,-604208612,697762079,986182379,-928222744,476452099,-301099520,-44210700,255256311,1640403810,-1817374623,-2130844779,1922457750,-1503918979,1412925310,1197962378,-1257441399,-350237779,427051182,170179418,-129025959,746937522,-554770511,-843174843,1070968646,1905808397,-2081171698,-1868356358,1657317369,-1241332974,1147748369,1463399397,-1521340186,-79622974,153784257,444234805,-401473738,1021025245,-827320098,-572462294,797665321,-2097792136,1889384571,1674398607,-1851340660,1164749927,-1224265884,-1537745776,1446797203,137323447,-96149324,-384560320,461344835,-810158936,1037989803,781091935,-588970148,-1834419177,1623424788,1939049696,-2114449437,1429367560,-1487280117,-1274471425,1180866812,410100952,-367384613,-112536529,186734380,-538233913,763408580,1053836080,-860110797,-1572096602,1344288421,1131464017,-1323612590,1708204729,-1749376582,-2065018290,1988219213,680717673,-621187478,-911630946,1002577565,-284657034,493091189,238226049,-61306494,-1307217207,1082061258,1395524158,-1589280451,1972364758,-2015074603,-1800104671,1725896226,952904198,-894981883,-638100751,731699698,-11092711,222117402,510512622,-335130899,-1014159676,837199303,582374963,-790768336,68661723,-159632680,-450051796,390545967,1230274059,-1153434360,-1469116676,1510247935,-1899042540,2091215383,1878366691,-1650582816,-741088853,565732008,854102364,-1065151905,340358836,-433916489,-177076669,119113024,1493875044,-1419691417,-1204696685,1247431312,-1634718085,1828433272,2141937292,-1916740209,-483350502,291187481,34330861,-262120466,615137029,-691946490,-980332558,939183345,1776939221,-1685949482,-1999470558,2058945313,-1368168502,1545135305,1330124605,-1121741762,-210866315,17165430,307568514,-532767615,888469610,-962626711,-707819363,665062302,2042050490,-1948470087,-1735637171,1793573966,-1104306011,1279665062,1595330642,-1384295599],n=0;n<e.length;n++)t=t>>>8^r[255&(t^e.charCodeAt(n))];return(-1^t)>>>0}function isArray(e){return\"[object Array]\"===Object.prototype.toString.call(e)}function isDefAndNotNull(e){return null!=e}function updateQueryStringParameter(e,t,n){t=encodeURIComponent(t),n=encodeURIComponent(n);var r=new RegExp(\"([?|&])\"+t+\"=.*?(&|$)\",\"i\");return separator=-1!==e.indexOf(\"?\")?\"&\":\"?\",e.match(r)?e.replace(r,\"$1\"+t+\"=\"+n+\"$2\"):e+separator+t+\"=\"+n}function fetchShortenedUrl(r,e,t){t=t||noop;var n,o=!1,i=fetchShortenedUrl.inProgress,a=fetchShortenedUrl.cache;function c(t,n){i[r].forEach(function(e){e[t](n)}),delete i[r]}\"http\"==!r.slice(0,4)?t():a[r]?defer(function(){e(a[r])},0,\"fetchShortenedUrl defer success callback\"):(i[r]||(i[r]=[],o=!0),i[r].push({success:e,error:t}),o&&(t=(creative.runtimeParams.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"shortenedUrls/\",o={url:r,fields:\"shortUrlKey\"},n={cbName:\"shortener_\"+btoa(to_utf8(r)).replace(/\\//g,\"$\").replace(/\\+/g,\"_\").replace(/=/g,\"\")},loadJSONP(t+\"?\"+buildQuery(o),n,function(e){e=creative.shareUrl+e.shortUrlKey;c(\"success\",a[r]=e)},function(){requestCreateShortenedUrl(r,c)})))}function requestCreateShortenedUrl(t,n){var e=(creative.runtimeParams.secure?creative.apiUrl:creative.insecureApiUrl)+\"shortenedUrls/\",r=fetchShortenedUrl.cache,o=new XMLHttpRequest;o.open(\"POST\",e),o.setRequestHeader(\"Content-Type\",\"application/json; charset=utf-8\"),o.onreadystatechange=function(){var e;4===o.readyState&&(201===o.status?(e=JSON.parse(o.responseText),e=creative.shareUrl+e.shortUrlKey,r[t]=e,n(\"success\",e)):n(\"error\"))},o.send(JSON.stringify({url:t}))}function isMediaPlaying(e){try{return 0<e.currentTime&&!e.paused&&!e.ended}catch(e){return!1}}function merge(){for(var e,t={},n=0;n<arguments.length;n+=1)if(null!=(e=arguments[n]))for(var r in e)t[r]=e[r];return t}function clamp(e,t,n){return Math.max(e,Math.min(t,n))}function lerp(e,t,n){return e+n*(t-e)}function map(e,t,n,r,o){return(o-e)/(t-e)*(r-n)+n}function step(e,t){return t<e?0:1}function pulse(e,t,n){return step(e,n)-step(t,n)}function smoothstep(e,t,n){n=clamp(0,1,(n-e)/(t-e));return n*n*n*((6*n-15)*n+10)}function bump(e,t,n){n=clamp(0,1,(n-e)/(t-e));return(Math.cos(Math.PI*n)+1)/2}function getWindowNesting(e){var t={iframe:e!==e.top,friendlyIframe:!1,iabFriendlyIframe:!1,hostileIframe:!1,iframeDepth:0};if(t.iframe){var n=e;try{for(t.friendlyIframe=!!e.top.location.href,t.iabFriendlyIframe=t.friendlyIframe&&void 0!==e.inDapIF&&e.inDapIF;void 0!==n.parent.location.href&&n.parent.document!==n.document;)n=n.parent,t.iframeDepth++;void 0===e.top.document&&(t.hostileIframe=!0)}catch(e){t.hostileIframe=!0}}return t}function isFetchSupported(){return!!(window.fetch&&window.URL&&URL.createObjectURL)}function isBeaconSupported(){return!(!window.navigator||!window.navigator.sendBeacon)}function isNativeImplementation(e){return\"function\"==typeof e&&-1<e.toString().indexOf(\"[native code]\")}function getViewportGeometry(e,t){var n=deviceInfo.deviceType.desktop()&&\"BackCompat\"!=e.document.compatMode,r=deviceInfo.os.ios(\"9\",null),o=e.document.documentElement||{};return{width:\"win\"!==t&&(n||r||\"doc\"===t)?o.clientWidth:e.innerWidth,height:\"win\"!==t&&(n||\"doc\"===t)?o.clientHeight:e.innerHeight,left:e.scrollX||o.scrollLeft||0,top:e.scrollY||o.scrollTop||0}}function safeQuerySelector(e,t){try{return e.querySelector(t)}catch(e){return null}}function safeQuerySelectorAll(e,t){try{return e.querySelectorAll(t)}catch(e){return[]}}function getElementRectRelativeToTopViewport(e){var t=e?CRect.adopt(e.getBoundingClientRect()):CRect.ZERO,n=e.ownerDocument&&e.ownerDocument.defaultView||null;try{for(;n&&n!==n.parent&&void 0!==n.parent.location.href&&n.parent.document!==n.document&&n.frameElement;){var r=CRect.adopt(n.frameElement.getBoundingClientRect());t.left+=r.left,t.top+=r.top,n=n.parent}}catch(e){}return t}Date.now||(Date.now=function(){return+new Date}),Array.prototype.waitForEach||Object.defineProperty(Array.prototype,\"waitForEach\",{value:function(o,i,a){var c=this.length;c?this.forEach(function(e,t,n){var r=!1;o.call(a,e,function(){if(r)throw\"Called `done` multiple times for element \"+t;r=!0,--c||i()},t,n)},a):i()}}),function(i){i.loadJS=function(t,e,n,r){var o=i.loadJS.externals,e={success:e||noop,error:n||noop};if(!/^[A-Za-z0-9]*:\\/\\/|^\\/\\//.test(t)){var n=creative.hostedFiles.filter(function(e){return e.filepath===t})[0];if(void 0===n)return console.warn('Hosted file \"'+t+'\" was not found.'),void e.error();if(!1!==n.loaded)return console.warn('Hosted file \"'+t+'\" is already loaded.'),void setTimeout(e.success,0);n.loaded=!0,t=creative.cachedApiUrl+\"hostedFiles/\"+creative.id+\"/\"+creative.version+\"/\"+t}t in o&&!r?o[t].loaded?setTimeout(e.success,0):o[t].cbs.push(e):(o[t]={cbs:[e]},(n=document.createElement(\"script\")).type=\"text/javascript\",n.onload=function(){o[t].loaded=!0,o[t].cbs.forEach(function(e){e.success()}),o[t].cbs=[]},n.onerror=function(){o[t].cbs.forEach(function(e){e.error()}),o[t].cbs=[],delete o[t]},n.src=t,i.loadJS.appendToRoot(n))},i.loadJS.externals={},i.loadJS.appendToRoot=function(e){return document.querySelector(\"head\").appendChild(e)},i.loadJSONP=function(e,t,n,r){\"function\"==typeof t&&(r=n,n=t,t={});var o=t.cbName||\"__jsonp\"+randInt();e+=(-1==e.indexOf(\"?\")?\"?\":\"&\")+(t.paramName||\"jsonp\")+\"=\"+o,i[o]=function(e){n(e),delete i[o]},loadJS(e,noop,r,!0)}}(window),void 0===Function.prototype.name&&function(){var t=/^function\\s+(\\w+?)\\s*?\\(/;Object.defineProperty(Function.prototype,\"name\",{get:function(){var e=this.constructor.prototype.toString.call(this);return t.test(e)?e.match(t)[1]:\"\"}})}(),fetchShortenedUrl.cache={},fetchShortenedUrl.inProgress={};;\nfunction CPoint(t,i){this.x=+t||0,this.y=+i||0}function CRect(t,i,e,o){this.left=+t||0,this.top=+i||0,this.width=+e||0,this.height=+o||0}CPoint.offset=function(t){t=offset(t);return new CPoint(t.left,t.top)},CPoint.convertPointFromNodeToPage=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)+(t?t.x:0),(i?i.y:0)+(t?t.y:0))):null},CPoint.convertPointFromPageToNode=function(t,i){return t&&void 0===t.x?(t=CPoint.offset(t),new CPoint((i?i.x:0)-(t?t.x:0),(i?i.y:0)-(t?t.y:0))):null},CPoint.sample=function(t,i,e){for(var o=Math.floor(Math.sqrt(t.width*i/t.height)),n=Math.floor(Math.sqrt(t.height*i/t.width)),h=t.width/o,r=t.height/n,s=0;s<n;s++)for(var f=0;f<o;f++)e((f+.5)*h+t.left,(s+.5)*r+t.top)},CPoint.epsilon=function(t,i,e){return Math.abs(t-i)<e},CPoint.prototype.equals=function(t){return CPoint.epsilon(this.x,t.x,.25)&&CPoint.epsilon(this.y,t.y,.25)},CRect.ZERO=new CRect,Object.defineProperties(CRect.prototype,{right:{get:function(){return this.left+this.width},set:function(t){var i=this.left;t<this.left&&(this.left=t,t=i),this.width=t-this.left},enumerable:!0},bottom:{get:function(){return this.top+this.height},set:function(t){var i=this.top;t<this.top&&(this.top=t,t=i),this.height=t-this.top},enumerable:!0},tl:{get:function(){return new CPoint(this.left,this.top)}},tr:{get:function(){return new CPoint(this.right,this.top)}},bl:{get:function(){return new CPoint(this.left,this.bottom)}},br:{get:function(){return new CPoint(this.right,this.bottom)}},area:{get:function(){return this.width*this.height}}}),CRect.adopt=function(t){return new CRect(t.left,t.top,t.width,t.height)},CRect.prototype.zero=function(){return 0===this.area},CRect.prototype.intersect=function(t){var i,e,o;return!!t&&(i=Math.max(this.left,t.left),e=Math.max(this.top,t.top),o=Math.min(this.right,t.right)-i,t=Math.min(this.bottom,t.bottom)-e,o<0||t<0?CRect.ZERO:new CRect(i,e,o,t))},CRect.prototype.copyFrom=function(t){this.left=t.left,this.top=t.top,this.width=t.width,this.height=t.height},CRect.prototype.relativeTo=function(t){return new CRect(this.left-t.left,this.top-t.top,this.width,this.height)},CRect.prototype.contains=function(t){return t instanceof CPoint?t.x>=this.left&&t.x<=this.right&&t.y>=this.top&&t.y<=this.bottom:t instanceof CRect?t.left>=this.left&&t.right<=this.right&&t.top>=this.top&&t.bottom<=this.bottom:void 0},CRect.prototype.map=function(t,i){var e=i.width/t.width,o=i.height/t.height;return new CRect((this.left-t.left)*e+i.left,(this.top-t.top)*o+i.top,this.width*e,this.height*o)},CRect.prototype.equals=function(t){return t&&this.left==t.left&&this.top==t.top&&this.right==t.right&&this.bottom==t.bottom},CRect.prototype.toString=function(){return\"CRect: \"+JSON.stringify(this)};;\nfunction Logger(e){if(!(this instanceof Logger))return new Logger(e);e=e||\"\";var n=noop;(0<=Logger.enabledNames.indexOf(e)||0<=Logger.enabledNames.indexOf(\"all\"))&&(n=function(){var e=[].slice.apply(arguments);e.unshift(Logger._ts()+\" [\"+Logger.sessionId+(this.name?\" \"+this.name:\"\")+\"]\"),console.log.apply(console,e)}),this.name=e,this.log=n,this.warn=n,this.debug=n,this.error=n}Logger._ts=function(){var e=new Date;function n(e,n){for(e+=\"\";e.length<n;)e=\"0\"+e;return e}return e.getFullYear()+\"-\"+n(e.getMonth()+1,2)+\"-\"+n(e.getDate(),2)+\" \"+n(e.getHours(),2)+\":\"+n(e.getMinutes(),2)+\":\"+n(e.getSeconds(),2)+\".\"+n(e.getTime()-1e3*Math.floor(e.getTime()/1e3),3)},Logger.init=function(e,n){Logger.enabledNames=e,Logger.sessionId=n||(Math.random()+\"\").slice(15)},Logger.initFromRuntimeParams=function(e){Logger.init(e.debug?e.debug.split(\",\"):[],e.sessionId)};;\nwindow.CeltraDeviceInfo={},function(o){function s(e,n){this.os=new t(e.osName,e.osVersion),this.browser=new r(e.browserName,e.browserVersion,n),this.engine=new i(e.browserRenderingEngine,e.browserRenderingEngineVersion),this.deviceType=new a(e.deviceType,e.mobileDevice),this.vendor=e.vendor||\"\",this.model=e.model||\"\",this.userAgent=n}function t(e,n){this.name=e||\"\",this.version=n||\"0\"}function r(e,n,t){this.name=e||\"\",this.version=n||\"0\",this.userAgent=t}function i(e,n){this.name=e||\"\",this.version=n||\"0\"}function a(e,n){this.hardwareType=e||\"\",this.mobile=n||\"\"}function h(e,n){var t,r,i;if(!e)return!0;if(0===n.length)i=r=null;else if(1===n.length)r=n[0],i=n[0];else{if(2!==n.length)throw\"Invalid number of arguments\";r=n[0],i=n[1]}function o(e){return parseInt(e.replace(/\\D/g,\"\"),10)}for(e=e.split(\".\").map(o),r=r?r.split(\".\").map(o):[],i=i?i.split(\".\").map(o):[],t=Math.max(r.length,i.length)-e.length;0<=t;t--)e.push(0);function s(e,n){for(var t=0;t<Math.min(e.length,n.length);t++){if(e[t]<n[t])return-1;if(e[t]>n[t])return 1}return 0}return!(-1===s(e,r)||1===s(e,i))}t.prototype.android=function(){return\"Android\"===this.name&&h(this.version,arguments)},t.prototype.osx=function(){return\"OSX\"===this.name&&h(this.version,arguments)},t.prototype.ios=function(){return\"IOS\"===this.name&&h(this.version,arguments)},t.prototype.windows=function(){return\"Windows\"===this.name&&h(this.version,arguments)},t.prototype.windowsPhone=function(){return\"WindowsPhone\"===this.name&&h(this.version,arguments)},t.prototype.linux=function(){return\"Linux\"===this.name},r.prototype.safari=function(){return\"Safari\"===this.name&&h(this.version,arguments)},r.prototype.chrome=function(){return 0===this.name.indexOf(\"Chrom\")&&h(this.version,arguments)},r.prototype.ie=function(){return 0===this.name.indexOf(\"Internet Explorer\")&&h(this.version,arguments)},r.prototype.android=function(){return\"Android Browser\"===this.name&&h(this.version,arguments)},r.prototype.samsung=function(){return\"Samsung Browser\"===this.name&&h(this.version,arguments)},r.prototype.opera=function(){return 0===this.name.indexOf(\"Opera\")&&h(this.version,arguments)},r.prototype.silk=function(){return\"Amazon Silk\"===this.name&&h(this.version,arguments)},r.prototype.firefox=function(){return 0===this.name.indexOf(\"Firefox\")&&h(this.version,arguments)},r.prototype.edge=function(){return\"Edge\"===this.name&&h(this.version,arguments)},r.prototype.miui=function(){return\"MIUI Browser\"===this.name&&h(this.version,arguments)},r.prototype.webView=function(){var e,n,t=null;return\"iP\"===(o.navigator.platform||\"\").substr(0,2)?(e=-1!==(e=this.userAgent).indexOf(\"Safari\")&&-1!==e.indexOf(\"Version\"),n=!/constructor/i.test(o.HTMLElement),e&&!o.navigator.standalone?t=\"iOS Safari or Safari Controller\":(n||o.indexedDB)&&o.statusbar.visible?(o.webkit&&o.webkit.messageHandlers||n||o.indexedDB)&&(t=\"WKWebView\"):t=\"UIWebView\"):/^.*\\/\\d\\.\\d \\(.*wv\\).*/.test(this.userAgent)&&(t=\"AndroidWebView\"),t},r.prototype.facebookApp=function(){var e=this.userAgent;return-1<e.indexOf(\"FBAN\")||-1<e.indexOf(\"FBAV\")},i.prototype.webkit=function(){return\"WebKit\"===this.name&&h(this.version,arguments)},i.prototype.gecko=function(){return\"Gecko\"===this.name&&h(this.version,arguments)},i.prototype.trident=function(){return\"Trident\"===this.name&&h(this.version,arguments)},i.prototype.presto=function(){return\"Presto\"===this.name&&h(this.version,arguments)},i.prototype.blink=function(){return\"Blink\"===this.name&&h(this.version,arguments)},a.prototype.phone=function(){return\"Phone\"===this.hardwareType},a.prototype.tablet=function(){return\"Tablet\"===this.hardwareType},a.prototype.desktop=function(){return\"Desktop\"===this.hardwareType},a.prototype.mobileDevice=function(){return!0===this.mobile},o.CeltraDeviceInfo.create=function(e,n){var t,r,i;return e=e||o.navigator.userAgent||\"\",r=n=n||{},-1===(t=e).indexOf(\"Playstation\")&&(i=t.match(/\\bSilk\\/([0-9._-]+)\\b/))&&(r.browserName=\"Amazon Silk\",r.browserVersion=i[1]),r.browserName&&r.browserVersion&&(0===r.browserName.indexOf(\"Chrome\")&&h(r.browserVersion,[\"28\",null])||0===r.browserName.indexOf(\"Opera\")&&h(r.browserVersion,[\"15\",null]))&&(r.browserRenderingEngine=\"Blink\"),r.browserRenderingEngineVersion||(r.browserRenderingEngineVersion=(i=(i=(i=t.match(/Trident\\/([0-9.]+)/))||((i=t.match(/Presto\\/([0-9.]+)/))||t.match(/AppleWebKit\\/*([0-9.]+)/i)))||t.match(/Gecko\\/*([0-9.]+)/))?i[1]:\"\"),new s(n,e)}}(window);;\nwindow.deviceInfo=CeltraDeviceInfo.create(window.navigator.userAgent,window.celtraDeviceInfoRuntimeParams);;\n!function(e){e.celtra=e.celtra||{};var t={},u=(t.ios=i,t.android=r,t.webkit=function(){var e=n().match(/AppleWebKit\\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windowsPhone=o,t.gecko=function(){var e=n().match(/Gecko\\/*([0-9.]+)/i);return!!e&&a(e[1],arguments)},t.windows=function(){var e=n().match(/MSIE ([0-9]{1,}[.0-9]{0,})|Trident.* rv:([0-9]{1,}[.0-9]{0,})/i);return!!e&&a(e[1]||e[2],arguments)},t.kindleSilk=function(){var e=n().match(/Silk\\/([0-9.]+)/);return!!e&&a(e[1],arguments)},t.kindle=function(){var e=n().toLowerCase();return!!/kftt|kfot|kfjwi|kfjwa|kfso|kfth|kfapwi|kfthwi|kfsowi|kfthwa|kfapwa|kfap|sd4930ur/.test(e)&&a(\"2\",arguments)},t.iframe=function(){return u.top!==e},t.desktop=function(){return!(r()||i()||o())},t.tablet=function(){return/iPad/.test(n())||550<(\"undefined\"!=typeof offsetWidthOverride?offsetWidthOverride:(document.body.offsetWidth,Math.min(innerWidth,innerHeight)))},t.chromeBased=function(){if(!(i()||window.chrome&&\"Google Inc.\"===window.navigator.vendor))return!1;var e;e=i()?n().match(/CriOS\\/([0-9]+.)/):n().match(/Chrome\\/([0-9]+.)/);return!!e&&a(e[1],arguments)},t.isHighDensityDisplay=function(){return 1<window.devicePixelRatio||window.matchMedia&&window.matchMedia(\"(-webkit-min-device-pixel-ratio: 1.5),(min--moz-device-pixel-ratio: 1.5),(-o-min-device-pixel-ratio: 3/2),(min-resolution: 1.5dppx)\").matches},extend(e.celtra,t),delete t.webkit,extend(e,t),{max:e.Math.max,min:e.Math.min,userAgent:e.navigator.userAgent,top:e.top}),n=function(){return void 0!==e.userAgentOverride?e.userAgentOverride:u.userAgent};function i(){var e=n().match(/iP(ad|hone|od).*OS ([0-9_]+)/);return!!e&&a(e[2].replace(/_/g,\".\"),arguments)}function r(){var e=n().match(/Android ([0-9.]+)/);return!n().match(/Windows Phone/)&&!!e&&a(e[1],arguments)}function o(){var e=n().match(/Windows Phone ([0-9.]+)/);return!!e&&a(e[1],arguments)}function a(e,t){if(!e)return!0;if(0===t.length)r=i=null;else if(1===t.length)i=t[0],r=t[0];else{if(2!==t.length)throw\"Invalid number of arguments\";i=t[0],r=t[1]}function n(e){return parseInt(e.replace(/\\D/g,\"\"),10)}e=e.split(\".\").map(n);for(var i=i?i.split(\".\").map(n):[],r=r?r.split(\".\").map(n):[],o=u.max(i.length,r.length)-e.length;0<=o;o--)e.push(0);function a(e,t){for(var n=0;n<u.min(e.length,t.length);n++){if(e[n]<t[n])return-1;if(e[n]>t[n])return 1}return 0}return!(-1===a(e,i)||1===a(e,r))}}(window);;\n!function(n){var e=n.navigator.userAgent,r=function(){var e=n;try{for(;void 0!==e.parent.location.href&&e.parent.document!==e.document;)e=e.parent}catch(e){}return e}(),t=/rv:.*Gecko\\//.test(e),i=/MSIE|Trident\\//.test(e),o=/WebKit/.test(e),a=/^-?([mM]oz|[wW]eb[kK]it|[mM]s)-?/,l={},s=[],f=o?\"webkit\":i?\"ms\":t?\"Moz\":\"\",u=(e=e.match(/AppleWebKit\\/(\\d+)/))&&~~e[1]<540,c=[\"transform\",\"transform-origin\",\"transform-style\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\",\"animation\",\"animation-delay\",\"animation-direction\",\"animation-duration\",\"animation-fill-mode\",\"animation-iteration-count\",\"animation-name\",\"animation-play-state\",\"animation-timing-function\",\"appearance\",\"backface-visibility\",\"perspective\",\"perspective-origin\"],m=d();function d(){return r.getComputedStyle(r.document.body,null)}function p(e,t,i){if(!e)throw new Error(\"No element specified!\");if(E(t)){if(!(t in e.style)&&p.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+t);if(void 0===i)return e.style[t];e.style[t]=i}else{if(-1==s.indexOf(t)&&y(t),void 0===i)return e.style[l[t]];e.style[l[t]]=i}}function w(e,t){if(!e)throw new Error(\"No element specified!\");var i,e=e.ownerDocument.defaultView.getComputedStyle(e,null);if(u&&-1<c.indexOf(t)&&(t=\"webkit\"+v(t)),!e||\"none\"==e.display||!(n===r||(i=n.frameElement.ownerDocument.defaultView.getComputedStyle(n.frameElement,null))&&\"none\"!=i.display))return null;if(t in e||!p.BREAK_ON_ERROR)return E(t)?e[t]:(-1==s.indexOf(t)&&y(t),e[l[t]]);throw new Error(\"Invalid CSS attribute \"+t)}function y(e){m=m||d();var t=f+v(e);if(u&&-1<c.indexOf(e))l[e]=t;else if(m&&e in m)l[e]=e;else if(m&&t in m)l[e]=t;else if(!m&&deviceInfo.browser.firefox)l[e]=e;else if(p.BREAK_ON_ERROR)throw new Error(\"Invalid CSS attribute \"+e+' or iframe still display \"none\" in FF');s.push(e)}function E(e){return a.test(e)}function v(e){return(e+=\"\")?e[0].toUpperCase()+e.slice(1):\"\"}p.BREAK_ON_ERROR=!1,n.celtra=n.celtra||{},n.celtra.styler={css:p,computedCSS:w,isWebkit:o,isGecko:t,isIE:i},n.css=p,n.computedCSS=w}(window);;\nvar Freezer={};Freezer.unfreeze=function(n,r,e){var l=[],s={},f=0,d=null;function z(n,e,o,t,a){ActionInvocationSimulator.isDryRun()?ActionInvocationSimulator.needsDryRun(n.internalId)&&(ActionInvocationSimulator.logActionDryRun(n.internalId,n.method,e.localId),e[n.method+\"ActionDryRun\"]?e[n.method+\"ActionDryRun\"](o,t,a):a()):e[n.method+\"Action\"](o,t,a)}var o,t=function n(a){if(a instanceof Array)return a.map(n);if(a instanceof Object){var e,o;if(\"ActionInvocation\"===a.clazz){a.internalId=++f;var i=d,c=function(n,e){if(!n)throw\"Cannot execute an action without a context.\";e=e||noop;var o=c.isStatic;if(void 0===o&&(o=!c.instance),c.disabled)e();else if(o){if(c.instance)throw\"ActionInvocation for a static method must not have an instance assigned.\";if(\"function\"!=typeof c.actionClazz[c.method+\"Action\"])throw\"Clazz \"+c.actionClazz+' does not define the static action \"'+c.method+'\".';var t=extend({},c.args,{triggerId:i,caller:a});z(c,c.actionClazz,n,t,e)}else if(c.instance){if(!(c.instance instanceof c.actionClazz))throw\"Instance \"+c.instance+\" is not an instance of clazz \"+c.actionClazz;if(\"function\"!=typeof c.instance[c.method+\"Action\"])throw\"Instance of clazz \"+c.actionClazz+' does not define the instance action \"'+c.method+'\".';t=extend({},c.args,{triggerId:i,caller:a}),z(c,c.instance,n,t,e)}else ActionInvocationSimulator.isDryRun()?e():defer(e,0,\"Freezer.unfreeze defer c\")}}else if(a.clazz){var t=r[a.clazz];if(!t)throw new Error(\"Unsupported clazz: \"+a.clazz);c=Object.create(t.prototype)}else c={},a.onFire&&(d=a.type);for(e in a)a.hasOwnProperty(e)&&\"clazz\"!==e&&(c[e]=n(a[e]));for(e in l.push(c),c.localId&&(s[c.localId]&&console.error(\"Duplicate localId: \"+c.localId),s[c.localId]=c),c)\"clazz\"===e.slice(-5).toLowerCase()&&(o=c[e])&&(r[o]?c[e]=r[o]:console.error(\"Unsupported clazz: \"+c.clazz));return c}return a}(n);for(o in l.forEach(function(n){for(var e in n)if(\"LocalId\"===e.slice(-7)){var o=n[e];o instanceof Function||(null===o?i=null:(i=s[o])||console.error(\"Invalid localId reference: \"+o),n[e.slice(0,-7)]=i,delete n[e])}else if(\"LocalIds\"===e.slice(-8)){for(var t=[],a=0;a<n[e].length;a++){var i,c=n[e][a];(i=s[c])||console.error(\"Invalid localId reference: \"+c),t.push(i)}n[e.slice(0,-8)]=t,delete n[e]}}),e)t[o]=e[o];return l.reverse().forEach(function(n){n.awake&&n.awake()}),t};;\nfunction Batcher(e){e=e||{},this._cache={},this._downloadQueue={},this._base=e.baseUrl,this._protoLoading=e.protoLoading}Batcher.prototype.getDataUri=function(e,t){var a,r,n,c=this;if(\"function\"!=typeof t)throw\"getDataURI callback is not a function\";if(-1!==e.indexOf(\"://\"))a=e;else{if(\"/\"===e[0])throw\"An absolute path as URL?\";a=this._base+e}0===a.indexOf(creative.cachedApiUrl)?(r=a.slice(creative.cachedApiUrl.length),n=!0):0===a.indexOf(creative.insecureCachedApiUrl)&&(r=a.slice(creative.insecureCachedApiUrl.length),n=!1),r?r in this._cache?defer(function(){t(c._cache[r])},0,\"Batcher.getDataUri in cache\",useAsap()):(this._downloadQueue[r]||(this._downloadQueue[r]={requested:!1,secure:!1,callbacks:[]}),this._downloadQueue[r].callbacks.push(t),n&&(this._downloadQueue[r].secure=!0),defer(function(){var e,t=[],a=!1;for(e in c._downloadQueue){var r;7992<c._generateBatchUrl(!0,t.concat(e)).length||((r=c._downloadQueue[e]).requested||(r.requested=!0,t.push(e),r.secure&&(a=!0)))}t.length&&(Logger(\"batcher\").log(t.length+\" new batchable URLs requested during last runloop iteration (\"+(a?\"at least one secure\":\"none secure\")+\"):\\n - \"+t.join(\"\\n - \")),c._loadBatch(a,t,function(e){for(var t in e){var a=e[t];!1===a&&(a=(c._downloadQueue[t].secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+t),c._cache[t]=a,c._downloadQueue[t].callbacks.forEach(function(e){e(a)}),delete c._downloadQueue[t]}}))},0,\"Batcher.getDataUri downloadQueue\",useAsap())):defer(function(){t(e)},0,\"Batcher.getDataUri url not batchable\",useAsap())},Batcher.prototype._generateBatchUrl=function(e,t){return(e?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"batch?urls=\"+t.sort().map(encodeURIComponent).join(\",\")},Batcher.prototype._loadBatch=function(e,t,o){var a,i=this._generateBatchUrl(e,t);isFetchSupported()&&this._protoLoading.blobURIsSupported?fetch(i+\"&binary=1\").then(function(e){return e.arrayBuffer()}).then(function(e){for(var t={},a=new DataView(e),r=0;r<e.byteLength;){var n=a.getUint32(r),c=(r+=4,JSON.parse(String.fromCharCode.apply(null,new Uint8Array(e.slice(r,r+n))))),n=(r+=n,e.slice(r,r+c.bodyLength));r+=c.bodyLength,200===c.code?t[c.path]=URL.createObjectURL(new Blob([n],{type:c.contentType})):(Logger(\"batcher\").warn(\"Batcher: Could not retrieve URL '\"+c.path+\"' using batcher, returning it directly.\"),creative.track({name:\"batcherError\",url:i,path:c.path,binary:!0}),t[c.path]=!1)}o(t)}):this._protoLoading.dataURIsSupported?loadJSONP(i,{cbName:\"__batcher_jsonp_\"+Math.abs(function(e){for(var t=5381,a=0;a<e.length;a++)t=(t<<5)+t+(char=e.charCodeAt(a));return t}(i))},function(e){var t,a={};for(t in e){var r=e[t];200===r.code?a[t]=r.data:(Logger(\"batcher\").warn(\"Batcher: Could not retrieve URL '\"+t+\"' using batcher, returning it directly.\"),creative.track({name:\"batcherError\",url:i,path:t,binary:!1}),a[t]=!1)}o(a)}):(a=t.reduce(function(e,t){return e[t]=!1,e},{}),defer(function(){o(a)},0,\"Batcher._loadBatch defer callback, no data: and no blob: support, returning urls directly.\"))};;\nfunction EngagementTracker(e,t){var i,c,u=15,l=150,d=1e3,s=15,p=s+5,v={capture:!0,passive:!0},m=e,f=t,n=t.adapter,o=n.trackingCenter,h=t.units,g=!1,I=null,w=!0,b={},L=0,T=null,j=Date.now(),M=0,y=0,E=e.ownerDocument.defaultView||e.ownerDocument.parentWindow;function a(e){var t,n,o,a,r;g||(t=D(e.target))&&(g=!0,n=randInt(),o=m.getBoundingClientRect(),a=t.node.getBoundingClientRect(),r=m.parentNode.getBoundingClientRect(),i=Math.round(o.left-r.left),c=Math.round(o.top-r.top),f.setUniversalInteractionId(n),\"touchstart\"===e.type?(w=!0,M=e.targetTouches[0].pageX,y=e.targetTouches[0].pageY,m.addEventListener(\"touchmove\",U,v),m.addEventListener(\"touchend\",P,v)):\"mousedown\"===e.type&&(w=!1,M=e.clientX,y=e.clientY,m.addEventListener(\"mousemove\",U,v),m.addEventListener(\"mouseup\",P,v)),deviceInfo.deviceType.desktop()&&m.addEventListener(\"mouseout\",C,v),j=T=Date.now(),L=0,(b=function(e,t){var n=null,o=null,a=null,r=!1;t instanceof Screen?(o=null,a=(n=t).parentUnitVariant,r=!0):\"undefined\"!=typeof ScreenObject&&t instanceof ScreenObject?(n=t.parentScreen,o=t,a=n.parentUnitVariant,r=!0):\"undefined\"!=typeof CreativeUnitVariant&&t instanceof CreativeUnitVariant&&(a=t,r=!(o=n=null));if(r)return extend({unitName:(a||n).parentUnit.name,unitVariantLocalId:a?a.localId:null,screenLocalId:n?n.localId:null,screenTitle:n?n.title:null,screenIsMaster:n?n.isMasterScreen():null,objectLocalId:o?o.localId:null,objectName:o?o.name:null,objectClazz:o?o.constructor.name:null,initiationTimestamp:new Date/1e3},e);return e}(b={name:\"universalInteraction\",universalInteractionId:n,unitSize:{w:m.offsetWidth,h:m.offsetHeight},objectSize:t?{t:Math.round(a.top-o.top),l:Math.round(a.left-o.left),w:Math.round(a.width),h:Math.round(a.height)}:null,path:[],addPoint:function(e,t,n,o){this.path.push({x:Math.round(e-i),y:Math.round(t-c),clientTimestamp:n,objectLocalId:o?o.localId:null})}},t)).addPoint(M,y,j/1e3,t))}function U(e){var t,n,o,a,r;g&&(I&&(E.clearTimeout(I),I=null),\"touchmove\"===e.type?(t=e.targetTouches[0].pageX,n=e.targetTouches[0].pageY):\"mousemove\"===e.type&&(t=e.clientX,n=e.clientY),L+=(e=t-M,o=n-y,Math.sqrt(e*e+o*o)),M=t,y=n,o=(e=Date.now())-j,a=Math.pow(b.path.length/(.5*s),6),r=Math.pow((e-T)/d,6),b.path.length<p&&(u+a*u<L||l+r*l<o)&&(b.addPoint(t,n,e/1e3,D(document.elementFromPoint(t,n))),j=e,L=0))}function C(e){var t=Date.now();I=E.setTimeout(function(){P(0,t)},200)}function P(e,t){g&&(g=!1,t=t||Date.now(),b.addPoint(M,y,t/1e3,D(document.elementFromPoint(M,y))),o.track(b),n.sendUserInteractionToPreview&&n.sendUserInteractionToPreview(),w?(m.removeEventListener(\"touchmove\",U,v),m.removeEventListener(\"touchend\",P,v)):(m.removeEventListener(\"mousemove\",U,v),m.removeEventListener(\"mouseup\",P,v)),deviceInfo.deviceType.desktop()&&m.removeEventListener(\"mouseout\",C,v))}function D(e){if(e)for(var a,r,t=e;;){if(t.id&&0==t.id.indexOf(\"celtra-\")){r=t.id.replace(\"celtra-\",\"\"),0==t.id.indexOf(\"celtra-object-\")&&(a=t.id.replace(\"celtra-object-\",\"\"));var n=function e(t){for(var n in t)if(t.hasOwnProperty(n)){if(t[n].name&&t[n].name==r)return t[n];if(t[n].localId&&t[n].localId==a)return t[n];var o;if(t[n].variants?o=e(t[n].variants):t[n].screens?o=e(t[n].screens):t[n].objects?o=e(t[n].objects):t[n].content&&t[n].content.objects?o=e(t[n].content.objects):t[n].component&&(o=t[n].component),o)return o}}(h);if(n)return\"undefined\"!=typeof CreativeUnit&&n instanceof CreativeUnit?n.currentScreen:n}if(!t.parentNode)break;t=t.parentNode}return null}attach(m,\"touchstart\",a,v),attach(m,\"mousedown\",a,v)};\nfunction Tapper(T,m){var C=\"undefined\"!=typeof creative&&creative.adapter||adapter;function w(t){for(var e=t,a=null;1!=e.nodeType;)e=e.parentNode;for(;e&&1==e.nodeType&&e.tagName;){var n=e.tagName.toLowerCase();if(hasClass(e,\"touchable\")||\"a\"===n&&e.href||\"button\"===n||\"img\"===n||\"input\"===n&&e.type&&\"button\"===e.type.toLowerCase()){a=e;break}e=e.parentNode}return a}function k(t,e){t=t.ownerDocument.createEvent(\"MouseEvents\");t.initEvent(\"tap\",!0,!0),e.dispatchEvent(t)}(m=m||C.useNativeClickForTapDetection)&&(attach(T,\"click\",function(t){t=w(t.target);t&&k(T,t)},!C.nativeClickEmittedOnSwipe),C.useNativeClickForTapDetection)||attach(T,\"touchstart\",function(t){var a,n,c,o,r,i,u,h,s,d,l,v,p,e,f,g=w(t.target);g&&(c=!1,celtra.iframe()&&(n=(a=function(){var t=C.getTopWindow();return[t.scrollX,t.scrollY,t.innerWidth,t.innerHeight]})(),c=!0),o=t.targetTouches[0].clientX-10,r=t.targetTouches[0].clientX+10,i=t.targetTouches[0].clientY-10,u=t.targetTouches[0].clientY+10,addClass(g,\"touched\"),l=d=s=h=!1,v=new Date,p=function(t){var e;h||s||(e=t.targetTouches[0].clientX,t=t.targetTouches[0].clientY,h=c&&n.toString()!=a().toString(),((s=!(o<=e&&e<=r&&i<=t&&t<=u))||h?removeClass:addClass)(g,\"touched\"))},e=function(t){var e;l||(l=!0,detach(T,\"touchmove\",p,!1),detach(T,\"touchend\",arguments.callee,!1),hasClass(g,\"touched\")&&(e=200<new Date-v&&!deviceInfo.deviceType.desktop(),removeClass(g,\"touched\"),s||h||d||e||m||k(T,g)))},f=function(){detach(T,\"touchend\",f,!0),nextFrame(function(){d=!0,e()})},attach(T,\"touchcancel\",function(t){removeClass(g,\"touched\"),e(t)},!1),attach(T,\"touchmove\",p,!1),attach(T,\"touchend\",e,!1),attach(T,\"touchend\",f,!0))},!0)};\nfunction TouchEventSimulator(t){this.el=t,this.doc=t.ownerDocument||t,this.win=this.doc.defaultView,this.touch=null,this._initialised=!1,this._firstEventFired=!1,this.handleFirstEvent=this.handleFirstEvent.bind(this),this.handleMouseDown=this.handleMouseDown.bind(this),this.handleMouseMove=this.handleMouseMove.bind(this),this.handleMouseUp=this.handleMouseUp.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.handlePointerDown=this.handlePointerDown.bind(this),this.handlePointerMove=this.handlePointerMove.bind(this),this.handlePointerUp=this.handlePointerUp.bind(this),this.handlePointerCancel=this.handlePointerCancel.bind(this),this.captureBubbleEvents=this.captureBubbleEvents.bind(this)}TouchEventSimulator.mode=null,TouchEventSimulator.prototype.start=function(){this._initialised?\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator already initialised!\"):(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Enabling touch event simulation\"),this.doc.defaultView.msPointerEnabled?this.startPointers():this.startMouse(),this.el.addEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.addEventListener(\"touchcancel\",this.captureBubbleEvents,!1),this.el.addEventListener(\"tap\",this.captureBubbleEvents,!1))},TouchEventSimulator.prototype.stop=function(){this._initialised?(\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").log(\"Disabling touch event simulation\"),this.win&&this.win.msPointerEnabled?this.stopPointers():this.stopMouse(),this.el.removeEventListener(\"touchstart\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchmove\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchend\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"touchcancel\",this.captureBubbleEvents,!1),this.el.removeEventListener(\"tap\",this.captureBubbleEvents,!1)):\"function\"==typeof Logger&&Logger(\"TouchEventSimulator\").warn(\"Touch event simulator not running!\")},TouchEventSimulator.prototype.captureBubbleEvents=function(t){t.stopPropagation(),t.preventDefault()},TouchEventSimulator.prototype.startMouse=function(){this.el.addEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.addEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.addEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.addEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.addEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!0},TouchEventSimulator.prototype.stopMouse=function(){this.el.removeEventListener(\"mousedown\",this.handleMouseDown,!0),this.el.removeEventListener(\"mousemove\",this.handleMouseMove,!0),this.el.removeEventListener(\"mouseup\",this.handleMouseUp,!0),this.el.removeEventListener(\"mouseout\",this.handleMouseOut,!0),this.el.removeEventListener(\"dragstart\",this.handleDragStart,!0),this._initialised=!1},TouchEventSimulator.prototype.startPointers=function(){this.el.addEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.addEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.addEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.addEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!0},TouchEventSimulator.prototype.stopPointers=function(){this.el.removeEventListener(\"MSPointerDown\",this.handlePointerDown,!0),this.el.removeEventListener(\"MSPointerMove\",this.handlePointerMove,!0),this.el.removeEventListener(\"MSPointerUp\",this.handlePointerUp,!0),this.el.removeEventListener(\"MSPointerCancel\",this.handlePointerCancel,!0),this._initialised=!1},TouchEventSimulator.prototype.init=function(){this.doc.defaultView.navigator.msPointerEnabled?this.start():(this.el.addEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.addEventListener(\"mousedown\",this.handleFirstEvent,!0))},TouchEventSimulator.prototype.updateTouchCoordinates=function(t){this.touch.screenX=t.screenX,this.touch.screenY=t.screenY,this.touch.pageX=t.pageX,this.touch.pageY=t.pageY,this.touch.clientX=t.clientX,this.touch.clientY=t.clientY},TouchEventSimulator.prototype.ignorables=[\"select\",\"input\",\"textarea\"],TouchEventSimulator.prototype.isFormElement=function(t){return-1<this.ignorables.indexOf(t.nodeName.toLowerCase())},TouchEventSimulator.prototype.isIgnorable=function(t){for(var e=t;e&&e instanceof HTMLElement;e=e.parentNode)if(hasClass(e,\"ignore-toucheventsimulator\"))return!0;return!1},TouchEventSimulator.prototype.handleFirstEvent=function(t){this._firstEventFired||(this._firstEventFired=!0,this.el.removeEventListener(\"touchstart\",this.handleFirstEvent,!0),this.el.removeEventListener(\"mousedown\",this.handleFirstEvent,!0),\"touch\"!=TouchEventSimulator.mode&&\"mousedown\"==t.type?(TouchEventSimulator.mode=\"mouse\",this.start(),this.handleMouseDown(t)):TouchEventSimulator.mode=\"touch\")},TouchEventSimulator.prototype.handleMouseDown=function(t){0!=t.button||this.isIgnorable(t.target)||(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),t.stopPropagation(),this.isFormElement(t.target)||t.preventDefault(),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handleMouseMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handleMouseUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),t.stopPropagation(),t.preventDefault(),this.fireTouchEvent(\"touchend\",t),this.touch=null)},TouchEventSimulator.prototype.handleMouseOut=function(t){this.touch&&0==t.button&&(t.clientX<=0||t.clientX>=this.win.innerWidth||t.clientY<=0||t.clientY>=this.win.innerHeight)&&this.cancelInteraction()},TouchEventSimulator.prototype.handleDragStart=function(t){return t.preventDefault(),!1},TouchEventSimulator.prototype.handlePointerDown=function(t){0==t.button&&(this.touch={identifier:0,target:t.target},this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchstart\",t))},TouchEventSimulator.prototype.handlePointerMove=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchmove\",t))},TouchEventSimulator.prototype.handlePointerUp=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchend\",t))},TouchEventSimulator.prototype.handlePointerCancel=function(t){this.touch&&0==t.button&&(this.updateTouchCoordinates(t),this.fireTouchEvent(\"touchcancel\",t),this.touch=null)},TouchEventSimulator.prototype.fireTouchEvent=function(t,e){var n=this.doc.createEvent(\"HTMLEvents\");n.initEvent(t,!0,!0),\"touchend\"==t||\"touchcancel\"==t?(n.touches=n.targetTouches=[],n.changedTouches=[this.touch]):n.touches=n.targetTouches=n.changedTouches=[this.touch],e.target.dispatchEvent(n)},TouchEventSimulator.prototype.cancelInteraction=function(){this.touch&&(this.fireTouchEvent(\"touchcancel\",this.touch),this.touch=null)};;\nfunction SwipeListener(t){var a,n,c,h,e=t.target,o=t.swipeNodeGetter,i=t.swipe,u=t.minLength||50,r=Object.create(ClickPreventer).initClickPrevention(function(){return e});function s(t,e){return Math.abs(t)>Math.abs(e)?0<t?\"east\":\"west\":0<e?\"south\":\"north\"}function d(){detach(o(),\"touchmove\",l,!1),detach(o(),\"touchend\",g,!1)}function l(t){var e;1<t.touches.length?d():(e=t.changedTouches[0].pageX-a,t=t.changedTouches[0].pageY-n,(h=Math.max(Math.abs(e),Math.abs(t)))>Math.min(50,u)&&(null===c?c=s(e,t):(e=s(e,t),c!=e&&d())))}function g(t){d(),u<=h&&(i(c,h),r.attachClickPreventionHandler())}attach(window,\"touchstart\",noop,!1),attach(e,\"touchstart\",function(t){creative.adapter.useNativeClickForTapDetection||t.preventDefault(),1==t.touches.length&&(a=t.changedTouches[0].pageX,n=t.changedTouches[0].pageY,h=0,c=null,attach(o(),\"touchmove\",l,!1),attach(o(),\"touchend\",g,!1),r.detachClickPreventionHandler())},!1)};\nvar ClickPreventer={initClickPrevention:function(e){return this._getDefaultClickPreventionNode=e||function(){},this._clickPreventionNode=null,this._clickPreventionHandler=this._clickPreventionHandler.bind(this),this},attachClickPreventionHandler:function(e){creative.adapter.nativeClickEmittedOnSwipe&&!this._clickPreventionNode&&(this._clickPreventionNode=e||this._getDefaultClickPreventionNode(),attach(this._clickPreventionNode,\"click\",this._clickPreventionHandler,!0))},detachClickPreventionHandler:function(){creative.adapter.nativeClickEmittedOnSwipe&&this._clickPreventionNode&&(detach(this._clickPreventionNode,\"click\",this._clickPreventionHandler,!0),this._clickPreventionNode=null)},_clickPreventionHandler:function(e){e.stopPropagation(),this.detachClickPreventionHandler()}};;\nfunction PlaceboBar(i,n,r,e){var t=!1,l=document.createElement(\"div\"),a=(l.className=\"celtra-placebobar\",l.style.cssText=\"position: absolute; bottom: 60px; left: 0; right: 0; margin: auto; z-index: 20; width: 215px; height: 8px;\",document.createElement(\"img\")),a=(a.src=creative.resourceUrl+\"runner/clazzes/CreativeUnit/loading-back.png\",a.style.position=\"absolute\",a.style.width=\"100%\",a.style.height=\"100%\",l.appendChild(a),document.createElement(\"div\")),o=(a.style.position=\"absolute\",a.style.top=\"2px\",a.style.bottom=\"2px\",a.style.left=\"3px\",a.style.right=\"3px\",l.appendChild(a),document.createElement(\"div\"));return o.style.background=\"url(\"+creative.resourceUrl+\"runner/clazzes/CreativeUnit/loading-over.png) \"+e+\" repeat-x\",o.style.position=\"absolute\",o.style.width=\"0\",o.style.height=\"100%\",a.appendChild(o),l.start=function(){var a;t||(t=!0,a=new Date,setTimeout(function e(){if(!l.parentNode)return;var t=Math.min((new Date-a)/i,n);o.style.width=100*t+\"%\";t<n&&setTimeout(e,2*r*Math.random())},0))},l};\nvar EventEmitter={emit:function(e){var t,n=this._listeners;n&&n[e]&&(t=[].slice.call(arguments,1),n[e].forEach(function(e){if(\"undefined\"!=typeof window)e.apply(window,t);else{if(\"undefined\"==typeof self)throw\"EventEmitter not supported in current scope.\";e.apply(self,t)}}))},emits:function(e){var t=arguments;return function(){this.emit.apply(this,t)}.bind(this)},addListener:function(e,t){var n=this._listeners;(n=n||(this._listeners={}))[e]||(n[e]=[]),n[e].push(t)},removeListener:function(e,t){var n=this._listeners;n&&n[e]&&(n[e]=n[e].filter(function(e){return e!==t}))},once:function(t,n){var i=this;i.on(t,function e(){i.off(t,e),n.apply(this,arguments)})},onAll:function(e,t){e.split(\" \").waitForEach(function(e,t){this.once(e,t)},t,this)}};EventEmitter.on=EventEmitter.addListener,EventEmitter.off=EventEmitter.removeListener,EventEmitter.addEventListener=EventEmitter.addListener,EventEmitter.removeEventListener=EventEmitter.removeListener,\"undefined\"!=typeof module&&null!==module&&(module.exports=EventEmitter);;\nfunction InViewObject(t,e){this.view=t,this.inViewParent=e,this._init()}extend(InViewObject.prototype,EventEmitter),InViewObject.prototype._init=function(){this.rectInView=CRect.ZERO,this.areaInViewRatio=0,this.active=!1,this._maxPossibleDimensions={width:0,height:0,area:0},this.computeRectInView=this.computeRectInView.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this)},InViewObject.prototype.getNode=function(){return this.view.getNode()},InViewObject.prototype.getParentMaxPossDims=function(){return this.inViewParent?this.inViewParent.getMaxPossibleDimensions():this.adapter.getViewportRect()},InViewObject.prototype.computeRectInView=function(){var t=this.inViewParent.getRectInView(),e=this.getBoundingClientRect(),t=t.intersect(e),i=!1,e=(this.rectInView.equals(t)||(this.rectInView=t,i=!0),this._computeMaxPossibleDimensions(e,this.getParentMaxPossDims()),0<this._maxPossibleDimensions.area?t.area/this._maxPossibleDimensions.area:0),n=!1;e!==this.areaInViewRatio&&(this.areaInViewRatio=e,n=!0),i&&(this.emit(\"rectInViewChanged\",t),Logger(\"InViewObject\").debug(this.view.toString()+\", rectInViewChanged: \"+this.rectInView.toString())),n&&(this.emit(\"areaInViewRatioChanged\",e),Logger(\"InViewObject\").debug(this.view.toString()+\", areaInViewRatioChanged: \"+e))},InViewObject.prototype.getBoundingClientRect=function(){var t=this.getNode();return t?CRect.adopt(t.getBoundingClientRect()):CRect.ZERO},InViewObject.prototype.getMaxPossibleDimensions=function(){return this._maxPossibleDimensions},InViewObject.prototype._computeMaxPossibleDimensions=function(t,e){this._maxPossibleDimensions.width=Math.min(e.width,t.width),this._maxPossibleDimensions.height=Math.min(e.height,t.height),this._maxPossibleDimensions.area=this._maxPossibleDimensions.width*this._maxPossibleDimensions.height},InViewObject.prototype.getRectInView=function(){return this.rectInView},InViewObject.prototype.getAreaInViewRatio=function(){return this.areaInViewRatio},InViewObject.prototype.start=function(){this.active||(this._start(),this.active=!0,this.computeRectInView())},InViewObject.prototype._start=function(){this.inViewParent.on(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.on(\"areaInViewRatioChanged\",this.computeRectInView)},InViewObject.prototype.stop=function(){this.active&&(this.computeRectInView(),this._stop(),this.active=!1)},InViewObject.prototype._stop=function(){this.inViewParent.off(\"rectInViewChanged\",this.computeRectInView),this.inViewParent.off(\"areaInViewRatioChanged\",this.computeRectInView)};;\nfunction TaskScheduler(){this.hub=extend({},EventEmitter)}TaskScheduler.prototype.when=function(){var n=this,e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);return{run:function(t){e.waitForEach(function(t,e){n.hub.once(t,e)},t)}}},TaskScheduler.prototype.notify=function(t){this.paused||this.hub.emit(t)},TaskScheduler.prototype.notifies=function(t){return function(){this.notify(t)}.bind(this)},TaskScheduler.prototype.pause=function(){this._paused=!0};;\nfunction DryRunResultSet(t){this._actions=t}DryRunResultSet.prototype.contains=function(e,o){return this._actions.some(function(t){var n=e==t.method,t=!o||o==t.instance;return n&&t})},DryRunResultSet.prototype.getAll=function(){return this._actions},DryRunResultSet.prototype.concat=function(t){return new DryRunResultSet(this._actions.concat(t.getAll()))};;\nvar ActionInvocationSimulator={_dryRun:!1,_dryRunActions:[],_dryRunExecutedActionsLocalIds:[],beginDryRun:function(){this._dryRun=!0,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[]},endDryRun:function(){var n=this._dryRunActions;return this._dryRun=!1,this._dryRunActions=[],this._dryRunExecutedActionsLocalIds=[],new DryRunResultSet(n)},isDryRun:function(){return this._dryRun},needsDryRun:function(n){return!this._dryRunExecutedActionsLocalIds[n]},logActionDryRun:function(n,t,u){this._dryRunExecutedActionsLocalIds[n]=!0,this._dryRunActions.push({method:t,instance:u})}};;\nvar TriggerHost={_getTriggers:function(i,t){return t=t||retTrue,this.triggers.filter(function(r){return r.type==i&&t(r.parameters,r)})},_fireArrayOfTriggers:function(r,i,t){i=i||noop,t=t||new ActionContext(this),r.waitForEach(function(r,i){r.onFire?r.onFire(t,i):i()},i)},hasTriggers:function(r,i){return 0<this._getTriggers(r,i).length},fireTriggersDryRun:function(r,i,t,e){try{ActionInvocationSimulator.beginDryRun(),this.fireTriggers(r,i,t,e)}finally{r=ActionInvocationSimulator.endDryRun()}return r},fireTriggers:function(r,i,t,e){r=this._getTriggers(r,i);this._fireArrayOfTriggers(r,t,e)},fireSortedTriggers:function(r,i,t,e,n){r=this._getTriggers(r,i),n=n||null;this._fireArrayOfTriggers(r.sort(n),t,e)},triggerAction:function(r,i,t){this.fireTriggers(i.eventName,null,t,r)},triggerActionByLocalId:function(r,i,t){var e=this.triggers.filter(function(r){return r.localId===i.localId});0<e.length&&this._fireArrayOfTriggers(e,t,r)},triggerByLocalIdAction:function(r,i,t){i=i.event?[i.event]:[];this._fireArrayOfTriggers(i,t,r)},triggerByLocalIdActionDryRun:function(r,i,t){this.triggerByLocalIdAction(r,i,t)}};;\nvar SceneHost={_initImmediatelyPlayedScenes:function(){var e;this.immediatelyPlayedScenes&&(e=[],this instanceof Screen?(e=this.immediatelyPlayedScenes.appear.scenes,this.appearedAtLeastOnce||(e=e.concat(this.immediatelyPlayedScenes.firstAppear.scenes))):e=this.immediatelyPlayedScenes.conditionMet.scenes,e.forEach(function(e){e.renderFirstFrame()}))}};;\nfunction ActionContext(e,t){if(this._id=randInt(),this.initiator=e,this.initiationTimestamp=new Date/1e3,\"object\"==typeof t?(this.consideredUserInitiatedByBrowser=!!t.consideredUserInitiatedByBrowser,this.certainlyNotCausedByUserBehavior=!!t.certainlyNotCausedByUserBehavior):(this.consideredUserInitiatedByBrowser=!!t,this.certainlyNotCausedByUserBehavior=!1),this.inUserInitiatedIteration=this.consideredUserInitiatedByBrowser,this.consideredUserInitiatedByBrowser&&this.certainlyNotCausedByUserBehavior)throw new Error(\"Unable to create an ActionContext where both consideredUserInitiatedByBrowser and certainlyNotCausedByUserBehavior are true!\");if(e instanceof Screen)this.screen=e,this.screenObject=null,this.unitVariant=this.screen.parentUnitVariant;else if(e instanceof ScreenObject)this.screen=e.parentScreen,this.screenObject=e,this.unitVariant=this.screen.parentUnitVariant;else{if(!(\"undefined\"!=typeof CreativeUnitVariant&&e instanceof CreativeUnitVariant))throw new Error(\"Initiator (\"+e+\") is not a Screen or a ScreenObject. Analytics would be confused.\");this.screen=null,this.screenObject=null,this.unitVariant=e}if(this.inUserInitiatedIteration&&(t=function(){this.inUserInitiatedIteration=!1}.bind(this),defer(t),nextFrame(t)),this.trackUserInteraction=this.trackUserInteraction.bind(this),this._isAttributable=!!this.screen&&this._isScreenReadyForEventAttribution(),this.screen&&!this.screen.parentUnit.name)throw new Error(\"Parent unit missing name.\")}ActionContext.prototype._isScreenReadyForEventAttribution=function(){return this.screen.isMasterScreen()?this.screen.parentContainer.screens.some(function(e){return e.appearedAtLeastOnce&&e.isNormalScreen()}):this.screen.appearedAtLeastOnce},ActionContext.prototype.extendEvent=function(e){return extend({unitName:(this.unitVariant||this.screen).parentUnit.name,unitVariantLocalId:this.unitVariant?this.unitVariant.localId:null,screenLocalId:this.screen?this.screen.localId:null,screenTitle:this.screen?this.screen.title:null,screenIsMaster:this.screen?this.screen.isMasterScreen():null,objectLocalId:this.screenObject?this.screenObject.localId:null,objectName:this.screenObject?this.screenObject.name:null,objectClazz:this.screenObject?this.screenObject.constructor.name:null,initiationTimestamp:this.initiationTimestamp},e)},ActionContext.prototype.initiatedBeforeScreenShown=function(){return this.screen&&!this._isAttributable},ActionContext.prototype.track=function(e,t){this.initiatedBeforeScreenShown()&&console.warn('Event \"'+e.name+'\" appears to be initiated before a screen was ever shown and will be ignored.'),creative.track(this.extendEvent(e),t)},ActionContext.prototype.trackUserInteraction=function(){var e;creative.getUserInteracted()?creative.interactionTrackingTimeout||(this.track({name:\"interaction\"}),creative.interactionTrackingTimeout=setTimeout(function(){creative.interactionTrackingTimeout=null},1e3)):(creative.runtimeParams.userInteracted=1,creative.experiments.get(\"TrackViewableAreaChange\")&&(e=creative.adapter).canMeasureViewportPlacementGeometry&&\"function\"==typeof e.trackViewableAreaRatio&&e.trackViewableAreaRatio(),this.track({name:\"firstInteraction\"})),defer(creative.trackingCenter.batchFlush),creative.userInteracted(this)},ActionContext.prototype.trackClickThrough=function(e){e=e||noop,creative.runtimeParams.clickedThrough?this.track({name:\"clickThrough\"},e):(creative.runtimeParams.clickedThrough=1,this.track({name:\"firstClickThrough\"},e)),defer(creative.trackingCenter.batchFlush),creative.clickedThrough(this)};;\nfunction VideoContext(e,t,i){VideoContext.uberConstructor.call(this,e instanceof ActionContext?e.initiator:e,e&&e.userInitiated),this.file=t,this.url=t.getUrl(),this.label=i,this.source=null}inherit(VideoContext,ActionContext),VideoContext._eventNames=[\"videoDurationUpdate\",\"videoPlayAttempted\",\"videoPresetSelected\",\"videoPlayedSegment\",\"videoStart\",\"videoFirstQuartile\",\"videoMidpoint\",\"videoThirdQuartile\",\"videoComplete\"],VideoContext.prototype.registerSource=function(e){if(!e)throw\"Not a valid source of video events.\";this.source=e,VideoContext._eventNames.forEach(function(t){this.source.on(t,function(e){this.handleEvent(t,e)}.bind(this))}.bind(this))},VideoContext.prototype.handleEvent=function(e,t){this.track(extend(JSON.parse(JSON.stringify(t||{})),{name:e}))},VideoContext.prototype.track=function(e){var t;\"videoPlayAttempted\"==e.name&&(t=this.file.url?\"URL\":\"File\",extend(e,{sourceType:t,source:\"URL\"==t?this.file.url:this.file.blobHash,label:this.label})),VideoContext.uber.track.call(this,e)};;\nfunction ShakeListener(){this.shakeThreshold=1.5,this.canListen=!0,this.slidingWindow=5,this.signals=[],this.handleMotion=this.handleMotion.bind(this),this.topWindow=creative.adapter.getTopWindow()}extend(ShakeListener.prototype,EventEmitter),ShakeListener.prototype.start=function(){this.canListen=!0;var i=window.DeviceMotionEvent&&window.DeviceMotionEvent.requestPermission;creative.deviceMotionListenerAdded||(creative.deviceMotionListenerAdded=!0,i?window.DeviceMotionEvent.requestPermission().then(function(i){\"granted\"==i?this.topWindow.addEventListener(\"devicemotion\",this.handleMotion):this.emit(\"shakeFallback\")}.bind(this)).catch(function(i){console.warn(i.message+\". Triggering fallback behaviour\"),this.emit(\"shakeFallback\")}.bind(this)):this.topWindow.addEventListener(\"devicemotion\",this.handleMotion))},ShakeListener.prototype.stop=function(){this.canListen=!1,creative.deviceMotionListenerAdded&&(creative.deviceMotionListenerAdded=!1,this.topWindow.removeEventListener(\"devicemotion\",this.handleMotion))},ShakeListener.prototype.handleMotion=function(i){var e,t,n,s,h;this.canListen&&(this.signals.push(i.accelerationIncludingGravity),this.signals.length>this.slidingWindow&&this.signals.shift(),i={x:(i=this.signals.reduce(function(i,e){return{x:i.x+e.x,y:i.y+e.y,z:i.z+e.z}})).x/this.signals.length,y:i.y/this.signals.length,z:i.z/this.signals.length},this.prevSignal&&(e=null,h=Math.abs(i.x-this.prevSignal.x),s=Math.abs(i.y-this.prevSignal.y),t=Math.abs(i.z-this.prevSignal.z),90===Math.abs(creative.adapter.orientation)&&(n=s,s=h,h=n),s<h&&t<h&&h>this.shakeThreshold?e=\"x\":h<s&&t<s&&s>this.shakeThreshold?e=\"y\":h<t&&s<t&&t>this.shakeThreshold&&(e=\"z\"),(h>this.shakeThreshold||s>this.shakeThreshold||t>this.shakeThreshold)&&this.emit(\"shake\",e)),this.prevSignal=i)};;\n!function(){\"use strict\";t=window.navigator.userAgent,e=window.navigator.vendor,i=!!document.fonts;var t,e,i,r=/Apple/.test(e)?(e=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(t))?i&&603<parseInt(e[1],10):i:(e=/Gecko.*Firefox\\/(\\d+)/.exec(t))?i&&46<parseInt(e[1],10):i,o=[\"Droid Sans\"];function l(t){var e=t.family.replace(/ /g,\"+\"),i=(i=t.style,\"italic\"===String(i).toLowerCase()?\"italic\":\"\");t=t.weight;t=(void 0===(t=/normal|bold|([1-9])00/i.exec(t))?\"\":\"normal\"===(t=t[0])?\"400\":\"bold\"===t?\"700\":t)+i;return 0<t.length?e+\":\"+t:e}function h(t,e,i){var o,n;r?(o=t.style+\" \"+t.weight+' 300px \"'+t.getBrowserCompatibleFontFamily()+'\"',n=t.hasUnicodeRangeDefined()&&t.hasSubsetStringDefined()?t.getSubsetString():\" \",document.fonts.load(o,n).then(function(t){(1<=t.length?e:i)()},function(t){i()})):\"undefined\"==typeof FontLoader?i(\"Font Loader is not initialized.\"):FontLoader.watch(t.getBrowserCompatibleFontFamily(),t.style,t.weight,e,i,t.getSubsetString())}function f(t,e,i,o){var n,s=[].slice.apply(document.getElementsByTagName(\"link\")).filter(function(t){return t.href===e})[0];s||((s=document.createElement(\"link\")).setAttribute(\"rel\",\"stylesheet\"),s.setAttribute(\"media\",\"all\"),s.setAttribute(\"href\",e)),r?(n=function(){s._finished=!0,h(t,i,o)},s._finished?h(t,i,o):(s.addEventListener(\"load\",n),s.addEventListener(\"error\",n))):setTimeout(function(){h(t,i,o)},0),s.parentNode||document.getElementsByTagName(\"head\")[0].appendChild(s)}function n(t){for(var e in t)this[e]=t[e]}n.prototype.getId=function(){return this.typefaceId||this.id},n.prototype.getSubsetString=function(){return this.subset},n.prototype.getTrackingUrl=function(){return this.trackingUrl},n.prototype.getUnicodeRange=function(){return this.unicodes},n.prototype.getBrowserCompatibleFontFamily=function(){if(this.isAdobe()||this.useGoogleFontsAPI()||this.isSystem())return this.family;var t=this.family+(this.stretch?\" \"+this.stretch:\"\")+\" \"+this.provider;if(this.hasSubsetStringDefined()&&!this.hasUnicodeRangeDefined()&&(t+=\" \"+encodeURIComponent(this.getSubsetString())),25<t.length){for(var e=5381,i=0,o=t.length;i<o;i++)e=(e<<5)+e+t.charCodeAt(i);return e.toString()}return t},n.prototype.setBaseUrl=function(t){this.baseUrl=t},n.prototype.isAdobe=function(){return\"adobe\"===this.provider},n.prototype.isCustom=function(){return\"custom\"===this.provider},n.prototype.isGoogle=function(){return\"google\"===this.provider},n.prototype.isMonotype=function(){return\"monotype\"===this.provider},n.prototype.isSystem=function(){return\"system\"===this.provider},n.prototype.hasSubsetStringDefined=function(){var t=this.getSubsetString();return\"string\"==typeof t&&0<t.length},n.prototype.hasTrackingUrlDefined=function(){var t=this.getTrackingUrl();return\"string\"==typeof t&&0<t.length},n.prototype.hasUnicodeRangeDefined=function(){var t=this.getUnicodeRange();return\"string\"==typeof t&&0<t.length},n.prototype.needsLoading=function(){return this.isAdobe()||this.isCustom()||this.isGoogle()||this.isMonotype()},n.prototype.useGoogleFontsAPI=function(){return\"google\"===this.provider&&-1!==o.indexOf(this.family)},n.prototype.getCssProperties=function(){return{\"font-family\":this.needsLoading()?'\"'+this.getBrowserCompatibleFontFamily()+'\", Helvetica, sans-serif':this.getBrowserCompatibleFontFamily(),\"font-style\":this.style,\"font-weight\":this.weight}},n.prototype.getFileUrl=function(t){if(\"string\"==typeof this.baseUrl){var e=this.hasSubsetStringDefined();if(this.isGoogle())var i=l(this),i=this.baseUrl+\"google/\"+i+\"/3_webfont.\"+t;else if(void 0!==this.files&&void 0!==this.files[t]){var o=this.getId();if(\"string\"!=typeof o)return this.baseUrl+this.files[t]+\".\"+t;var n=this.files[t].blobHash,s=this.files[t].name||\"webfont\",n=e?\"3_\"+n:n;i=this.baseUrl+o+\"/\"+n+\"/\"+encodeURIComponent(s)+\".\"+t}return\"string\"==typeof i&&e&&(i+=\"?subset=\"+encodeURIComponent(this.getSubsetString())),i}},n.prototype.generateFontFace=function(){var t=\"\",e=[],i=this.getFileUrl(\"woff2\"),i=(i&&e.push('url(\"'+i+'\") format(\"woff2\")'),this.getFileUrl(\"woff\")),i=(i&&e.push('url(\"'+i+'\") format(\"woff\")'),this.getFileUrl(\"ttf\"));return i&&e.push('url(\"'+i+'\") format(\"truetype\")'),this.style&&this.weight&&0<e.length&&(t=\"@font-face {\",t=(t=(t=(t+='font-family: \"'+this.getBrowserCompatibleFontFamily()+'\";')+\"font-style: \"+this.style+\";\")+\"font-weight: \"+this.weight+\";\")+\"src:\"+e.join(\",\")+\";\",this.hasUnicodeRangeDefined()&&(t+=\"unicode-range: \"+this.getUnicodeRange()+\";\"),t+=\"}\"),t},n.prototype.loadStyle=function(e){e=e||function(){};function t(t){e(t||\"Failed to load font files.\")}var i,o,n,s,r,a;this.isCustom()||this.isGoogle()&&!this.useGoogleFontsAPI()||this.isMonotype()?(o=this,n=e,s=t,r=\"font-style-manager\",(a=document.getElementById(r))||((a=document.createElement(\"style\")).id=r,document.getElementsByTagName(\"head\")[0].appendChild(a)),(r=o.generateFontFace())?([].slice.apply(a.sheet.cssRules).some(function(t){return t.style.getPropertyValue(\"font-family\").replace(/^['\"](.+)['\"]$/,\"$1\")==o.getBrowserCompatibleFontFamily()&&t.style.getPropertyValue(\"font-style\")==o.style&&t.style.getPropertyValue(\"font-weight\")==o.weight})||a.sheet.insertRule(r,a.sheet.cssRules.length),h(o,n,s)):s(\"Unable to define style for font without specifying files, style and weight.\")):this.isAdobe()?\"string\"==typeof this.projectId?f(this,i=\"https://use.typekit.net/\"+this.projectId+\".css\",e,t):t(\"Missing Adobe web project id.\"):this.useGoogleFontsAPI()?(i=\"https://fonts.googleapis.com/css?family=\"+l(this),this.hasSubsetStringDefined()&&(i+=\"&text=\"+encodeURIComponent(this.getSubsetString())),f(this,i,e,t)):this.isSystem()?e():t(\"Invalid or unsupported provider.\")},Object.defineProperty(n,\"useCSSFontLoadingAPI\",{value:r}),window.FontBase=n}();;\nvar ScreenNodeTransition={replace:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display=\"block\",s.style.display=\"block\",e.style.display=\"none\",nextFrame(function(){r.style.opacity=1,t.style.opacity=0,nextFrame(function(){t.style.display=\"none\",nextFrame(a||noop)})})},fade:function(t,e,r,s,i,a){r.style.opacity=0,r.style.display=\"block\",s.style.display=\"block\",e.style.display=\"none\",once(t,\"transitionend\",function(){celtra.styler.css(r,\"transition\",\"\"),celtra.styler.css(t,\"transition\",\"\"),t.style.display=\"none\",nextFrame(a||noop)}),nextFrame(function(){celtra.styler.css(t,\"transition\",\"opacity \"+i.duration+\"ms ease-out\"),celtra.styler.css(r,\"transition\",\"opacity \"+i.duration+\"ms ease-out\"),nextFrame(function(){r.style.opacity=1,t.style.opacity=0})})},slide:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"};switch(i.direction||\"west\"){case\"north\":n.startingFrom=\"translateY(0)\",n.endingFrom=\"translateY(\"+-i.unitSize.height+\"px)\",n.startingTo=\"translateY(\"+i.unitSize.height+\"px)\",n.endingTo=\"translateY(0)\";break;case\"south\":n.startingFrom=\"translateY(0)\",n.endingFrom=\"translateY(\"+i.unitSize.height+\"px)\",n.startingTo=\"translateY(\"+-i.unitSize.height+\"px)\",n.endingTo=\"translateY(0)\";break;case\"east\":n.startingFrom=\"translateX(0)\",n.endingFrom=\"translateX(\"+i.unitSize.width+\"px)\",n.startingTo=\"translateX(\"+-i.unitSize.width+\"px)\",n.endingTo=\"translateX(0)\";break;case\"west\":n.startingFrom=\"translateX(0)\",n.endingFrom=\"translateX(\"+-i.unitSize.width+\"px)\",n.startingTo=\"translateX(\"+i.unitSize.width+\"px)\",n.endingTo=\"translateX(0)\"}n.startingFromOpacity=1,n.startingToOpacity=0,n.endingFromOpacity=0,n.endingToOpacity=1,this._runTransition(t,e,r,s,n,i.duration,a)},flip:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"},o=\"perspective(\"+2*i.unitSize.width+\"px) \";switch(i.direction||\"west\"){case\"north\":n.startingFrom=o+\"rotateX(0)\",n.endingFrom=o+\"rotateX(180deg)\",n.startingTo=o+\"rotateX(-180deg)\",n.endingTo=o+\"rotateX(0)\";break;case\"south\":n.startingFrom=o+\"rotateX(0)\",n.endingFrom=o+\"rotateX(-180deg)\",n.startingTo=o+\"rotateX(180deg)\",n.endingTo=o+\"rotateX(0)\";break;case\"east\":n.startingFrom=o+\"rotateY(0)\",n.endingFrom=o+\"rotateY(180deg)\",n.startingTo=o+\"rotateY(-180deg)\",n.endingTo=o+\"rotateY(0)\";break;case\"west\":n.startingFrom=o+\"rotateY(0)\",n.endingFrom=o+\"rotateY(-180deg)\",n.startingTo=o+\"rotateY(180deg)\",n.endingTo=o+\"rotateY(0)\"}celtra.styler.css(t.parentNode,\"transformStyle\",\"preserve-3d\"),celtra.styler.css(t,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(e,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(r,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(s,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(t,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% 0\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% 0\"),this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\"transformStyle\",\"\"),celtra.styler.css(t,\"backfaceVisibility\",\"\"),celtra.styler.css(e,\"backfaceVisibility\",\"\"),celtra.styler.css(r,\"backfaceVisibility\",\"\"),celtra.styler.css(s,\"backfaceVisibility\",\"\"),celtra.styler.css(t,\"transform\",\"\"),celtra.styler.css(e,\"transform\",\"\"),celtra.styler.css(r,\"transform\",\"\"),celtra.styler.css(s,\"transform\",\"\"),celtra.styler.css(t,\"transformOrigin\",\"\"),celtra.styler.css(e,\"transformOrigin\",\"\"),celtra.styler.css(r,\"transformOrigin\",\"\"),celtra.styler.css(s,\"transformOrigin\",\"\"),nextFrame(a||noop)})},cube:function(t,e,r,s,i,a){var n={transition:\"all \"+i.duration+\"ms ease-out\"},o=\"perspective(\"+2*i.unitSize.width+\"px) \";switch(i.direction||\"west\"){case\"north\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(90deg) \",n.startingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(-90deg)\",n.endingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \";break;case\"south\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(-90deg)\",n.startingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(90deg) \",n.endingTo=o+\"translateZ(\"+-i.unitSize.height/2+\"px) rotateX(0)     \";break;case\"east\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(90deg) \",n.startingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(-90deg)\",n.endingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \";break;case\"west\":n.startingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \",n.endingFrom=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(-90deg)\",n.startingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(90deg) \",n.endingTo=o+\"translateZ(\"+-i.unitSize.width/2+\"px) rotateY(0)     \"}deviceInfo.browser.chrome()&&(n.startingFrom+=\" rotateZ(0.01deg)\",n.startingTo+=\" rotateZ(0.01deg)\");var l=t.style.overflow,c=e.style.overflow,y=r.style.overflow,d=s.style.overflow;switch(celtra.styler.css(t.parentNode,\"transformStyle\",\"preserve-3d\"),t.style.overflow=e.style.overflow=\"hidden\",r.style.overflow=s.style.overflow=\"hidden\",celtra.styler.css(t,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(e,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(r,\"backfaceVisibility\",\"hidden\"),celtra.styler.css(s,\"backfaceVisibility\",\"hidden\"),i.direction||\"west\"){case\"north\":case\"south\":celtra.styler.css(t,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% \"+-i.unitSize.height/2+\"px\");break;case\"east\":case\"west\":celtra.styler.css(t,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(e,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(r,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\"),celtra.styler.css(s,\"transformOrigin\",\"50% 50% \"+-i.unitSize.width/2+\"px\")}this._runTransition(t,e,r,s,n,i.duration,function(){celtra.styler.css(t.parentNode,\"transformStyle\",\"\"),t.style.overflow=l,e.style.overflow=c,r.style.overflow=y,s.style.overflow=d,celtra.styler.css(t,\"transformOrigin\",\"\"),celtra.styler.css(e,\"transformOrigin\",\"\"),celtra.styler.css(r,\"transformOrigin\",\"\"),celtra.styler.css(s,\"transformOrigin\",\"\"),celtra.styler.css(t,\"backfaceVisibility\",\"\"),celtra.styler.css(e,\"backfaceVisibility\",\"\"),celtra.styler.css(r,\"backfaceVisibility\",\"\"),celtra.styler.css(s,\"backfaceVisibility\",\"\"),nextFrame(a||noop)})},_runTransition:function(t,e,r,s,i,a,n){celtra.styler.css(t,\"transform\",i.startingFrom),celtra.styler.css(e,\"transform\",i.startingFrom),celtra.styler.css(r,\"transform\",i.startingTo),celtra.styler.css(s,\"transform\",i.startingTo),t.style.opacity=e.style.opacity=void 0===i.startingFromOpacity?1:i.startingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.startingToOpacity?1:i.startingToOpacity;var o=!(r.style.display=s.style.display=\"block\"),l=this._runOnce(function(){o||(o=!0,celtra.styler.css(r,\"transition\",\"\"),celtra.styler.css(s,\"transition\",\"\"),celtra.styler.css(t,\"transition\",\"\"),celtra.styler.css(e,\"transition\",\"\"),celtra.styler.css(r,\"transform\",\"\"),celtra.styler.css(s,\"transform\",\"\"),celtra.styler.css(t,\"transform\",\"\"),celtra.styler.css(e,\"transform\",\"\"),t.style.display=e.style.display=\"none\",t.style.opacity=e.style.opacity=r.style.opacity=s.style.opacity=\"\",nextFrame(n||noop))});once(r,\"transitionend\",l),setTimeout(function(){celtra.styler.css(r,\"transition\",i.transition),celtra.styler.css(t,\"transition\",i.transition),celtra.styler.css(s,\"transition\",i.transition),celtra.styler.css(e,\"transition\",i.transition),nextFrame(function(){o||(celtra.styler.css(t,\"transform\",i.endingFrom),celtra.styler.css(e,\"transform\",i.endingFrom),celtra.styler.css(r,\"transform\",i.endingTo),celtra.styler.css(s,\"transform\",i.endingTo),t.style.opacity=e.style.opacity=void 0===i.endingFromOpacity?1:i.endingFromOpacity,r.style.opacity=s.style.opacity=void 0===i.endingToOpacity?1:i.endingToOpacity)}),setTimeout(l,a+150)},20)},run:function(t,e,r,s,i,a){var n=this._getSupportedAnimation(i.animation||\"replace\");if(!(n in this))throw new Error(\"The transition function does not exist!\");this[n].apply(this,arguments)},_getSupportedAnimation:function(t){return!android(\"4\")||window.navigator.userAgent.match(/Chrome.*(Mobile)? Safari/)||\"cube\"!==t&&\"flip\"!==t?t:\"fade\"},_runOnce:function(t){var e=!1;return function(){if(!e)return e=!0,t()}}};;\nvar ScreenTransitioner={goingToScreen:null,_masterShown:!1,goToScreen:function(e,n,t){var i=Array.prototype.slice.apply(arguments);if(this.isAppearing){var r=function(){this._preloadReachableScreens(),t&&t()}.bind(this);if(!e)return r();if(e.loaded){var s=this.currentScreen;if(n=n||{},this.goingToScreen)return r();(this.goingToScreen=e).triggerBeforeAppear(function(){this.initiateScreenTransition(e,n,function(){this.goingToScreen=null,this.currentScreen=e,s&&(s.disappear(),s.exitRenderTree()),this._masterShown||(this._masterShown=!0,this.master.enterRenderTree(),this.master.appear()),this.currentScreen.enterRenderTree(),this.currentScreen.appear(),r()}.bind(this))}.bind(this))}else e.getNode(function(){this.goToScreen.apply(this,i)}.bind(this))}else this.once(\"appeared\",function(){this.goToScreen.apply(this,i)}.bind(this))},initiateScreenTransition:function(e,n,t){if(n=n||{},t=t||noop,this.visibleScreen==e)return t();var i,r,s,o,a=(this.visibleScreen=e)===this.loadingScreen;a&&e.loaded?this._screenTransition(e.getNode(),null,n,t):e.loaded&&this.master.loaded?(this.loadingScreen&&(this.loadingScreen.getNode().style.display=\"none\"),this._screenTransition(e.getNode(),this.master.getNode(),n,t)):(Logger(\"unit\").warn(\"Screens should be loaded but were not\"),s=function(){--o||this._screenTransition(i,r,n,t)},o=a?(i=this.loadingScreen.getNode(s.bind(this)),r=null,1):(i=e.getNode(s.bind(this)),r=this.master.getNode(s.bind(this)),2))},_screenTransition:function(e,n,t,i){function r(){s||(s=!0,i())}var s;e.style.display=\"none\",n&&(this._masterClone||this._createMasterClone(),this.screenHolder.appendChild(this._masterClone),n.parentNode||this.screenHolder.appendChild(n),this._masterClone.style.zIndex=n.style.zIndex=-1),e&&!e.parentNode&&this.screenHolder.appendChild(e),n&&(this._masterClone.style.display=\"block\",n.style.display=\"none\"),null!=this.currentScreen?(t.unitSize=extend({},this.size),ScreenNodeTransition.run(this.currentScreen.node,this._masterClone,e,n,t,function(){n.style.display=\"block\",this._masterClone.display=\"none\",i()}.bind(this))):(n&&(n.style.display=\"block\",this._masterClone.style.display=\"none\"),s=!(e.style.display=\"block\"),nextFrame(r),defer(r))},_preloadReachableScreens:function(){setTimeout(function(){var i=[];Object.keys(this.currentScreen.dynamicReachableScreenConditions).forEach(function(n){var e=n.split(\"/\"),t=creative.experiments.get(e[0],e.slice(1));null!=t&&Object.keys(this.currentScreen.dynamicReachableScreenConditions[n]).forEach(function(e){e!=t.chosenVariant&&(i=i.concat(this.currentScreen.dynamicReachableScreenConditions[n][e]))}.bind(this))}.bind(this)),this.currentScreen.reachableScreens.concat(this.master.reachableScreens).forEach(function(e){-1==i.indexOf(e.localId.toString())&&e.getNode()}.bind(this))}.bind(this),0)},_createMasterClone:function(){return this._masterClone&&this._masterClone.parentNode&&this._masterClone.parentNode.removeChild(this._masterClone),this._masterClone=this.master.getNode().cloneNode(!0),this._masterClone.style.display=\"none\",this._masterClone.style.zIndex=-1,this._masterClone}};;\nfunction AdViewableTimeObserver(e){this._tracker=e,this._readyToShow=!1,this._adapter}function AdViewableInViewObjectObserver(e){AdViewableInViewObjectObserver.uberConstructor.apply(this,arguments),this._inViewObjects=[],this._viewableInViewObjects=[]}function AdViewableUnitObserver(e){AdViewableUnitObserver.uberConstructor.apply(this,arguments),this._units=[],this._viewableUnits=[],this._containerIsViewable=!1}AdViewableTimeObserver.prototype.readyToShow=function(e){throw new Error(\"AdViewableInViewObjectObserver.readyToShow not implemented!\")},AdViewableTimeObserver.prototype.registerUnit=function(e){throw new Error(\"AdViewableInViewObjectObserver.registerUnit not implemented!\")},AdViewableTimeObserver.prototype.registerAdapter=function(e){throw new Error(\"AdViewableTimeObserver.registerAdapter not implemented!\")},AdViewableTimeObserver.prototype.stop=function(){this._tracker.stop()},inherit(AdViewableInViewObjectObserver,AdViewableTimeObserver),AdViewableInViewObjectObserver.prototype.registerAdapter=function(e){this._adapter=e;var t=this._tracker;e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){0===this._viewableInViewObjects.length&&t.stop()}.bind(this))},AdViewableInViewObjectObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableInViewObjectObserver.prototype.registerUnit=function(e){var r=e.inView,e=this._inViewObjects,a=this._viewableInViewObjects,n=this._tracker;-1===e.indexOf(r)&&(e.push(r),!(-1!==a.indexOf(r))&&0<r.getAreaInViewRatio()&&a.push(r),this._tryStartTracker(),r.on(\"areaInViewRatioChanged\",function(e){var t=a.indexOf(r),i=-1!==t;!i&&0<e?(a.push(r),this._tryStartTracker()):0===e&&i&&(a.splice(t,1),0===a.length&&n.stop())}.bind(this)))},AdViewableInViewObjectObserver.prototype._tryStartTracker=function(){var e=this._adapter,e=e&&e.mediaState.playingVideo;return!(!this._readyToShow||!(0<this._viewableInViewObjects.length||e))&&(this._tracker.start(),!0)},inherit(AdViewableUnitObserver,AdViewableTimeObserver),AdViewableUnitObserver.prototype.registerAdapter=function(e){this._adapter=e,this._containerIsViewable=e.containerIsViewable;var t=this._tracker;e.on(\"containerViewableChange\",function(e){(this._containerIsViewable=e)?this._tryStartTracker():t.stop()}.bind(this)),e.mediaState.on(\"videoStarted\",function(){this._tryStartTracker()}.bind(this)),e.mediaState.on(\"videoStopped\",function(){this._adapter.containerIsViewable&&0!==this._viewableUnits.length||t.stop()}.bind(this))},AdViewableUnitObserver.prototype.readyToShow=function(){this._readyToShow=!0,this._tryStartTracker()},AdViewableUnitObserver.prototype.registerUnit=function(t){if(!this._adapter)throw new Error(\"adapter was not registered yet!\");var e=this._units,i=this._viewableUnits,r=this._tracker;-1===e.indexOf(t)&&(e.push(t),-1===i.indexOf(t)&&t._visible&&(i.push(t),this._tryStartTracker()),t.on(\"appeared\",function(){-1===i.indexOf(t)&&(i.push(t),this._tryStartTracker())}.bind(this)),t.on(\"disappeared\",function(){var e=i.indexOf(t);-1!==e&&(i.splice(e,1),0===i.length&&r.stop())}.bind(this)))},AdViewableUnitObserver.prototype._tryStartTracker=function(){var e=this._adapter;return!!(e&&(e.containerIsViewable||e.mediaState.playingVideo)&&this._readyToShow&&0<this._viewableUnits.length)&&(this._tracker.start(),!0)};;\nfunction AdViewableTimeTracker(i,e,t,n){this._trackingCenter=i,this._raf=e,this._win=t,this._intervals=n||{3e3:1e3,1e4:2e3,63e3:3e3},this._isRunning=!1,this._viewableMilliseconds=0,this._fromTime=0,this._pendingPingTimeoutId,this._pendingPingRafId,this._maxRafLatency=500}AdViewableTimeTracker.eventName=\"viewableTime\",AdViewableTimeTracker.TrackingData=function(i,e){return{name:AdViewableTimeTracker.eventName,from:i/1e3,to:(e=e<i?i:e)/1e3}},AdViewableTimeTracker.prototype.start=function(){this._isRunning||(this._isRunning=!0,this._fromTime=Date.now(),0===this._viewableMilliseconds?this._initPing():this._setNextPing())},AdViewableTimeTracker.prototype.stop=function(){var i,e;this._clearPendingPing(),this._isRunning&&-1!==this._getPingInterval()&&(e=(i=Date.now())-this._fromTime,this._viewableMilliseconds+=e,e=new AdViewableTimeTracker.TrackingData(this._fromTime,i),this._track(e)),this._isRunning=!1},AdViewableTimeTracker.prototype._initPing=function(){var i=this._fromTime,e=this._getPingInterval(),t=new AdViewableTimeTracker.TrackingData(this._fromTime,i);this._pendingPingRafId=this._raf.nextFrame(function(){this._track(t),this._setFromTimeForNextPing(i,e),this._setNextPing()}.bind(this))},AdViewableTimeTracker.prototype._setNextPing=function(){this._clearPendingPing();var t=this._getPingInterval();this._isRunning&&-1!==t&&(this._pendingPingTimeoutId=this._win.setTimeout(function(){var e;this._isRunning&&(e=Date.now(),this._viewableMilliseconds+=t,this._normalizeFromTime(e,t),this._pendingPingRafId=this._raf.nextFrame(function(){var i=new AdViewableTimeTracker.TrackingData(this._fromTime,e);this._track(i),this._setFromTimeForNextPing(e,t),this._setNextPing()}.bind(this)))}.bind(this),t))},AdViewableTimeTracker.prototype._normalizeFromTime=function(i,e){var t=i-this._fromTime;e+this._maxRafLatency<t&&(this._fromTime=i)},AdViewableTimeTracker.prototype._setFromTimeForNextPing=function(i,e){var t=Date.now();this._fromTime=e<t-i?t:i},AdViewableTimeTracker.prototype._getPingInterval=function(){var e=this._viewableMilliseconds,t=this._intervals,i=Object.keys(this._intervals),n=+i[i.length-1],r=-1;return i.some(function(i){return e<+i&&(r=t[i],n<e+r&&(r=-1),!0)}),r},AdViewableTimeTracker.prototype._clearPendingPing=function(){this._raf.cancelFrame(this._pendingPingRafId),this._win.clearTimeout(this._pendingPingTimeoutId)},AdViewableTimeTracker.prototype._track=function(i){this._trackingCenter.track(i)};;\n!function(t){var i=e.prototype;function e(){this.playingVideo=!1}extend(i,EventEmitter),i.stopVideo=function(){this.playingVideo=!1,this.emit(\"videoStopped\")},i.startVideo=function(){this.playingVideo=!0,this.emit(\"videoStarted\")},t.MediaState=e}(window);;\nfunction StateObject(e){Object.defineProperties(this,{values:{enumerable:!1,configurable:!1,writable:!0,value:{}},_isDirty:{enumerable:!1,configurable:!1,writable:!0,value:!1}}),Object.keys(e).forEach(function(t){this.registerValue(t,e[t])},this)}extend(StateObject.prototype,EventEmitter),StateObject.prototype.registerValue=function(r,t){this.values[r]={dirty:!1,value:t},Object.defineProperty(this,r,{get:function(){return this.values[r].value},set:function(t){var e=this.values[r],i=e.value;t!=i&&(e.dirty=!0,e.value=t,this._isDirty=!0,this.emit(\"change:\"+r,t,i))},enumerable:!0})},StateObject.prototype.markClean=function(e){var i=!1;Object.keys(this.values).forEach(function(t){e&&t!==e||(this[t].dirty=!1),i=i||this[t].dirty},this.values),this._isDirty=i},StateObject.prototype.getDirtyValues=function(){for(var t={},e=Object.keys(this.values),i=0;i<e.length;i++)this.values[e[i]].dirty&&(t[e[i]]=this.values[e[i]].value);return t},StateObject.prototype.isDirty=function(t){return void 0===t?this._isDirty:this.values[t].dirty},StateObject.prototype.anyDirty=function(t){1<arguments.length&&(t=Array.prototype.slice.apply(arguments));for(var e=0;e<t.length;e++)if(this.values[t[e]].dirty)return!0;return!1},StateObject.prototype.copy=function(){var t,e={};for(t in this.values)e[t]=this[t];return new StateObject(e)},StateObject.prototype.copyFrom=function(t){for(var e in t.values)this[e]=t[e]};;\nfunction StateAnimation(t,i){this.stateObject=t,this.propertyName=i,this.running=!1,this.lastUpdateTime=null,this.tick=this.tick.bind(this),this._callback=null}function SpringyAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},SpringyAnimation.defaults,e||{}),this.state={x:t[i],v:0},this.derivative={dx:0,dv:0}}function EasingAnimation(t,i,e){StateAnimation.apply(this,arguments),this.options=extend({},EasingAnimation.defaults,e||{}),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null}StateAnimation.prototype.start=function(){this.running||(this.lastUpdateTime=null,this.running=!0,Ticker.frame(this.tick,\"update\"))},StateAnimation.prototype.pause=function(){Ticker.removeFrame(this.tick,\"update\"),this.running=!1},StateAnimation.prototype.tick=function(){var t=Date.now();this.update(t-(this.lastUpdateTime||t)),this.lastUpdateTime=t},StateAnimation.prototype.update=function(t){throw new Error(\"Not implemented\")},Object.defineProperty(StateAnimation.prototype,\"value\",{get:function(){return this.stateObject[this.propertyName]},set:function(t){this.stateObject[this.propertyName]=t},enumerable:!0}),inherit(SpringyAnimation,StateAnimation),SpringyAnimation.defaults={springForce:1e3,damping:20,restThreshold:1},SpringyAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),\"function\"==typeof i&&(e=i,i=0),this.d=t,this.state.v=\"number\"==typeof i?i:0,this.state.x=this.value,this._callback=e,this.start()},SpringyAnimation.prototype.update=function(t){t=Math.min(.03,t/1e3);Math.abs(this.state.x-this.d)<this.options.restThreshold&&Math.abs(this.state.v)<this.options.restThreshold?(this.pause(),this.value=this.d,this.d=null,defer(this._callback||noop),this._callback=null):(this._integrate(this.state,t),this.value=this.state.x)},SpringyAnimation.prototype._integrate=function(t,i){var e=this._getDerivative(this.state),a=this._getDerivative(this.state,.5*i,e),n=this._getDerivative(this.state,.5*i,a),s=this._getDerivative(this.state,i,n);t.x+=i/6*(e.dx+2*(a.dx+n.dx)+s.dx),t.v+=i/6*(e.dv+2*(a.dv+n.dv)+s.dv)},SpringyAnimation.prototype._getDerivative=function(t,i,e){return void 0===e?{dx:t.v,dv:this._acceleration(t)}:{dx:(t={x:t.x+e.dx*i,v:t.v+e.dv*i}).v,dv:this._acceleration(t,i)}},SpringyAnimation.prototype._acceleration=function(t){return-this.options.springForce*(t.x-this.d)-this.options.damping*t.v},inherit(EasingAnimation,StateAnimation),EasingAnimation.defaults={exp:1.8},EasingAnimation.presets={easeIn:.6,easeOut:1.8,linear:1},EasingAnimation.prototype.animateTo=function(t,i,e){this.running&&this.pause(),this._callback=e,this._startValue=this.value,this._startTime=Date.now(),this._targetValue=t,this._targetTime=i,this.start()},EasingAnimation.prototype.update=function(t){var i=Date.now()-this._startTime,e=this._targetValue-this._startValue;i>=this._targetTime?(this.pause(),this.value=this._targetValue,defer(this._callback||noop),this._startValue=null,this._startTime=null,this._targetValue=null,this._targetTime=null,this._callback=null):this.value=Math.pow(i/this._targetTime,this.options.exp)*e+this._startValue};;\nfunction ThresholdObserver(e){this.threshold=e,this._value=null}extend(ThresholdObserver.prototype,EventEmitter),Object.defineProperty(ThresholdObserver.prototype,\"value\",{get:function(){return this._value},set:function(e){var t,h;null!==this._value&&this._value!==e&&(t=this._value-this.threshold)*(h=e-this.threshold)<=0&&(t<0?this.emit(\"up\"):h<0&&this.emit(\"down\")),this._value=e}});;\nfunction BaseCreativeUnit(){}inherit(BaseCreativeUnit,View),BaseCreativeUnit.IGNORABLES=[\"INPUT\",\"SELECT\",\"TEXTAREA\",\"BUTTON\"],BaseCreativeUnit.prototype.awake=function(){BaseCreativeUnit.uber.awake.call(this),this._availableSize={width:0,height:0},this._isRendering=!1,this._engagementTracker=null,this._rxState=null,this._rxStateCopies=[]},BaseCreativeUnit.prototype.createNode=function(){return Logger(\"unit\").log(\"Starting to load \"+this),this.on(\"loaded\",creative.adapter.perf.start(\"CreativeUnit.load\").end),creative.experiments.get(\"TrackingLoadingTimes\")&&this.once(\"_firstScreenLoaded\",function(){var e,t=Date.now()-1e3*creative.runtimeParams.payloadJsClientTimestamp;t<3e4&&(e={unitName:this.name},creative.aggregatorTracking.trackAggregator(\"unitLoadTime\",t,e),creative.aggregatorTracking.trackAggregator(\"unitLoadSuccesses\",e))}.bind(this)),creative.adapter.on(\"mediaStopRequested\",function(e){this.emit(\"mediaStopRequested\",e)}.bind(this)),this.unitDiv=BaseCreativeUnit.uber.createNode.call(this),this._engagementTracker=new EngagementTracker(this.unitDiv,creative),Tapper(this.unitDiv,this.useClickForTap),attach(this.unitDiv,\"touchstart\",this._handleTouchStart.bind(this)),attach(this.unitDiv,\"touchmove\",this._handleTouchMove.bind(this)),this.unitDiv},BaseCreativeUnit.prototype.setAvailableSize=function(e,t){var r=this._availableSize.width!=e||this._availableSize.height!=t;return this._availableSize.width=e,this._availableSize.height=t,r},BaseCreativeUnit.prototype.getAvailableSize=function(){return{width:this._availableSize.width,height:this._availableSize.height}},BaseCreativeUnit.prototype.enterRenderTree=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.exitRenderTree=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.finishedLoading=function(){BaseCreativeUnit.uber.finishedLoading.call(this),Logger(\"unit\").log(\"Finished loading \"+this)},BaseCreativeUnit.prototype.getAccessibilityProperties=function(){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.openAccessibilityUrl=function(e){var t=new ActionContext(this.currentScreen);this.goToURLAction(t,{url:e,reportLabel:e},noop)},BaseCreativeUnit.prototype._handleTouchStart=function(e){if(!this.swipeable&&!creative.adapter.useNativeClickForTapDetection){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;var r=function(){for(;t!==this.unitDiv;){if(t.className&&hasClass(t,\"map-container\"))return!0;t=t.parentNode}return!1}.bind(this);-1!=BaseCreativeUnit.IGNORABLES.indexOf(t.nodeName)||r()||e.preventDefault()}},BaseCreativeUnit.prototype._handleTouchMove=function(e){this.swipeable||e.preventDefault()},BaseCreativeUnit.prototype.createRxState=function(){this._rxState=this._generateNewRxStateObject()},BaseCreativeUnit.prototype._generateNewRxStateObject=function(){return new StateObject({left:null,top:null,right:null,bottom:null,width:null,height:null,vw:null,vh:null,x:null,y:null,pageYOffset:null})},BaseCreativeUnit.prototype.updateRxState=function(e){var t;this._rxState&&(e=getElementRectRelativeToTopViewport(e),t=creative.adapter.getTopWindow(),this._rxState.left=~~e.left,this._rxState.top=~~e.top,this._rxState.right=~~e.right,this._rxState.bottom=~~e.bottom,this._rxState.width=~~e.width,this._rxState.height=~~e.height,this._rxState.vw=t.innerWidth,this._rxState.vh=t.innerHeight,this._rxState.pageYOffset=t.pageYOffset,this._rxState.x=~~(e.left+e.width/2-t.innerWidth/2),this._rxState.y=~~(e.top+e.height/2-t.innerHeight/2),this._rxStateCopies.forEach(function(e){e.copyFrom(this._rxState)}.bind(this)))},BaseCreativeUnit.prototype.getRxStateObject=function(){var e;return this._rxState?((e=this._generateNewRxStateObject()).copyFrom(this._rxState),this._rxStateCopies.push(e),e):null},BaseCreativeUnit.prototype.goToScreenAction=function(e,t,r){throw new Error(\"Not implemented\")},BaseCreativeUnit.prototype.alertAction=function(e,t,r){this.alert({message:t.text},r)},BaseCreativeUnit.prototype.checkOrientationAction=function(e,t,r){var a,i=creative.adapter.orientation;0===i||180===i?a=t.onPortrait:-90!=i&&90!=i||(a=t.onLandscape),a?a(e,r):r()},BaseCreativeUnit.prototype.checkOrientationActionDryRun=BaseCreativeUnit.prototype.checkOrientationAction,BaseCreativeUnit.prototype._processURLParams=function(e){return\"string\"!=typeof e?e:creative.macros(e)},BaseCreativeUnit.prototype._addUrlAppendage=function(e){var t;return creative.urlOpenedUrlAppendage?(t=this.size.width+\"x\"+this.size.height,e+(0<=e.indexOf(\"?\")?\"&\":\"?\")+creative.urlOpenedUrlAppendage.replace(new RegExp(\"{celtraFirstUnitSize}\",\"ig\"),t)):e},BaseCreativeUnit.prototype.openBrowser=function(e,t,r,a){if(!t)return(r||noop)();creative.adapter.trackEventsAndOpenBrowser(this._processURLParams(t),creative.shouldClickThroughToNewWindow(e),r,a)},BaseCreativeUnit.prototype.openClickThroughDestinationAction=function(e,t,r){var a=creative.clickThroughDestinationUrl,i=creative.shouldClickThroughToNewWindow(e),n=!1,o=\"clickThroughDestinationOpened\",s=function(){n||(n=!0,creative.adapter.openBrowser(this._processURLParams(a),i))}.bind(this);a&&-1==[\"http://\",\"https://\"].indexOf(a)?(creative.adapter._stopAllMedia(),0<a.indexOf(\"itunes.apple.com/us/app/\")||0===a.indexOf(\"market://details?id=\")?(e.track({name:o,appUri:a}),e.trackClickThrough(),creative.adapter.trackingCenter.flush(),creative.adapter.getApp(this._processURLParams(a))):(a=this._addUrlAppendage(a),e.track({name:o,url:a}),e.trackClickThrough(),!creative.adapter.canOpenUrlInSameWindow||i?(creative.adapter.trackingCenter.flush(),s()):(creative.adapter.trackingCenter.flush(s),defer(s,2e3)))):e.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"}),e.screen&&creative.adapter.sendToEventMonitor(o,t.triggerId,e.screen.name,a||\"\",null,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.goToURLAction=function(e,t,r){function a(e,t,r){c&&creative.aggregatorTracking.trackAggregator(\"openBrowserRefactor\",1,{branch:e,logic:t,environment:r})}var i=creative.urlOpenedOverrideUrls&&creative.urlOpenedOverrideUrls[t.reportLabel]||t.url,n=creative.shouldClickThroughToNewWindow(e),o=!1,s=function(){o||(o=!0,creative.adapter.openBrowser(this._processURLParams(i),n))}.bind(this),c=(creative.experiments.get(\"OpenBrowserRefactor\")||{}).chosenVariant,l=(creative.experiments.get(\"WindowOpenWithDelay\")||{}).chosenVariant;if(!i||-1<[\"http://\",\"https://\"].indexOf(i))return e.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"}),r();var d,i=this._addUrlAppendage(i),p=\"urlOpened\";creative.adapter._stopAllMedia(),e.track({name:p,url:i,label:t.reportLabel}),e.trackClickThrough(),deviceInfo.browser.ie()||deviceInfo.browser.edge()?!creative.adapter.canOpenUrlInSameWindow||n?(a(\"new-window\",\"flush-and-open\",\"desktop-windows\"),creative.adapter.trackingCenter.flush(),s()):(a(\"same-window\",\"flush-then-open\",\"desktop-windows\"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):\"on\"==c?!creative.adapter.canOpenUrlInSameWindow||n?(a(\"new-window\",\"flush-and-open\",\"all-except-desktop-windows\"),creative.adapter.trackingCenter.flush(),s()):(a(\"same-window\",\"flush-then-open\",\"all-except-desktop-windows\"),creative.adapter.trackingCenter.flush(s),defer(s,2e3)):!creative.adapter.canOpenUrlInSameWindow||n?(a(\"new-window\",\"wrap+open\",\"all-except-desktop-windows\"),l&&creative.aggregatorTracking.trackAggregator(\"windowOpenWithDelay\",1,{delay:l}),c&&creative.aggregatorTracking.trackAggregator(\"openBrowserRefactorFlushVsWrap\",1,{trackingWith:\"wrap\"}),d=creative.wrapRedirectPageUrl(this._processURLParams(i)),c&&(creative.aggregatorTracking.trackAggregator(\"openBrowserRefactorFlushVsWrap\",1,{trackingWith:\"flush\"}),creative.adapter.trackingCenter.flush()),void 0===l||\"control\"===l?creative.adapter.openBrowser(d,n):setTimeout(function(){creative.adapter.openBrowser(d,n)},0)):(a(\"same-window\",\"wrap+open\",\"all-except-desktop-windows\"),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(this._processURLParams(i)),n)),creative.adapter.sendToEventMonitor(p,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.facebookURLAction=function(e,t,r){if(!t.url)return r();var a=\"facebookShareAttempt\",i=(creative.adapter._stopAllMedia(),e.track({name:a,url:t.url,label:t.reportLabel}),e.trackClickThrough(),\"http://m.facebook.com/sharer.php?u=\"+encodeURIComponent(t.url));creative.adapter.openBrowser(creative.wrapRedirectPageUrl(i),creative.shouldClickThroughToNewWindow(e)),creative.adapter.sendToEventMonitor(a,t.triggerId,e.screen.name,i,t.reportLabel,e.initiatedBeforeScreenShown()),r()},BaseCreativeUnit.prototype.callURLAction=function(e,t,r){if(!t.url)return r();var t=this._processURLParams(t.url),a=new Image;a.onload=a.onerror=function(){r()},a.src=t},BaseCreativeUnit.prototype.displayImageAction=function(e,a,i){if(!a.file)return i();var t,r=function(e,t){var r=document.createElement(\"div\"),e=(r.className=\"celtra-display-image-overlay touchable\",r.style.backgroundImage='url(\"'+a.file.getUrl()+'\")',this.unitDiv.appendChild(r),(e>this.size.width||t>this.size.height)&&(r.style.backgroundSize=\"contain\"),a.color&&(r.style.backgroundColor=a.color),attach(r,\"tap\",function(e){r.parentNode.removeChild(r),i()},!1),document.createElement(\"div\"));e.className=\"celtra-back-button touchable \"+this.alignBackButtonHorizontal,r.appendChild(e)}.bind(this);a.file.meta?r(a.file.meta.width,a.file.meta.height):((t=new Image).onload=function(){r(this.width,this.height)},t.onerror=function(e){return console.error(\"Couldn't display image: \"+a.file.getUrl()),i()},t.src=a.file.getUrl())},BaseCreativeUnit.prototype.saveImageAction=function(i,n,o){var e,s=\"imageSaveAttempted\";function r(e,t){var r=e.getOriginalUrl(),a=e.name,e=e.blobHash;i.track({name:s,blobHash:e,label:n.reportLabel}),i.trackClickThrough(),creative.adapter.canSaveImage()?creative.adapter.trackingCenter.flush(function(){var e=\"shared.png\",e=(void 0!==a?e=a:\"string\"==typeof t&&0<t.trim().length&&(e=t.trim()+\".png\"),creative.adapter.saveImage(r,encodeURIComponent(e),o),t||a);creative.adapter.sendToEventMonitor(s,n.triggerId,i.screen.name,e,n.reportLabel,i.initiatedBeforeScreenShown())}):new SaveImageDialog(creative.adapter,creative.resourceUrl,r).show(o)}n.imageOrigin=n.imageOrigin||\"asset\",\"component\"==n.imageOrigin&&n.component?n.component.file?r(n.component.file,n.component.name):null===(e=n.component.getField())?o():-1===creative.runtimeParams.enabledServices.indexOf(\"contentSharing\")?this.alertAction(i,{text:\"This feature is not available in your region\"},o):(e=e.url.split(\",\")[1],creative.adapter.createPlacements({preloader:{attachment:\"body\",positioning:\"screen\",type:\"layer\"}},function(){var e=creative.adapter.placements.preloader,t=(e.setZIndex(\"max\"),e.setSize(\"100%\",\"100%\"),e.setPosition(0,0),e.createElement(\"link\")),t=(t.rel=\"stylesheet\",t.type=\"text/css\",t.href=creative.resourceUrl+\"runner/clazzes/PostBlobPreloader.css\",e.getContainer().appendChild(t),e.createElement(\"div\")),r=(addClass(t,\"celtra-preloader-container\"),e.createElement(\"div\"));addClass(r,\"celtra-preloader-image\"),r.style.backgroundImage=\"url(\"+creative.resourceUrl+\"runner/clazzes/CreativeUnit/preloader.png)\",t.appendChild(r),e.populate(t,function(){e.show()})}),postBlob(e,function(e,t){creative.adapter.destroyPlacement(\"preloader\"),200<=t&&t<300?(t=JSON.parse(e),e=creative.cachedApiUrl+\"blobs/\"+t.hash+\"/shared.png\",r(new File(e),n.component.name)):o()})):\"asset\"==n.imageOrigin&&n.file?r(n.file):o()},BaseCreativeUnit.prototype.playSoundAction=function(e,t,r){if(!t.file)return r();t=new Audio(t.file.getUrl());attach(t,\"ended\",function(){r()},!1),t.play()},BaseCreativeUnit.prototype.playAudioAction=function(e,t,r){this.playSoundAction(e,t,r),e.track({name:\"audioPlayed\",source:t.file.getUrl(),label:t.reportLabel})},BaseCreativeUnit.prototype.playVideoInPlayerAction=function(t,r,a){if(!r.file)return a();var e=creative.adapter.useFSVP,i=r.file.url?\"URL\":\"File\",n=new VideoContext(t,r.file,r.reportLabel);n.track({engineType:\"html5\",name:\"videoPlayAttempted\",trackable:e,filename:r.file.name,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\"fullscreen\",sourceType:i,source:\"URL\"==i?r.file.url:r.file.blobHash,label:r.reportLabel}),n.track({name:\"videoPresetSelected\",videoPreset:null}),creative.adapter.playVideoInPlayer(n,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoInPlayerActionDryRun=function(e,t,r){if(!t.file)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.playVideoFromURLAction=function(t,r,a){if(!r.url)return a();var e=r.file=new File(r.url),i=creative.adapter.useFSVP,n=e.url?\"URL\":\"File\",o=(creative.adapter._stopAllMedia(),new VideoContext(t,e,r.reportLabel));o.track({engineType:\"html5\",name:\"videoPlayAttempted\",trackable:i,filename:null,userInitiated:t.consideredUserInitiatedByBrowser,startMuted:!1,videoPlayerMode:\"fullscreen\",sourceType:n,source:\"URL\"==n?e.url:e.blobHash,label:r.reportLabel}),o.track({name:\"videoPresetSelected\",videoPreset:null}),creative.adapter.playVideoInPlayer(o,r,function(e){((e?r.onSuccess:r.onFailure)||nullai)(t,a)})},BaseCreativeUnit.prototype.playVideoFromURLActionDryRun=function(e,t,r){if(!t.url)return r();(t.onSuccess||nullai)(e,noop),(t.onFailure||nullai)(e,noop),r()},BaseCreativeUnit.prototype.vibrateAction=function(e,t,r){r()},BaseCreativeUnit.prototype.getAppAction=function(t,r,e){function a(){return new RegExp(\"^\\\\d+$\").test(r.appStoreUrl)?\"https://itunes.apple.com/app/id\"+r.appStoreUrl:(u(r.appStoreUrl)?\"\":\"http://\")+r.appStoreUrl}function i(){return u(r.androidMarketAppId)?r.androidMarketAppId:android()||\"Android\"===p.osName?\"market://details?id=\"+r.androidMarketAppId:\"https://play.google.com/store/apps/details?id=\"+r.androidMarketAppId}var n,o,s,c,l,d,p=(creative.runtimeParams.overrides||creative.runtimeParams).deviceInfo,u=function(e){return new RegExp(\"(^http(s)?://)|(^market://)\",\"i\").test(e)};creative.adapter._stopAllMedia(),creative.storeOpenedOverrideUrls[r.reportLabel]?n=creative.storeOpenedOverrideUrls[r.reportLabel]:r.appStoreUrl&&(ios()||-1!==[\"OSX\",\"IOS\"].indexOf(p.osName))?n=a():r.androidMarketAppId&&(n=i()),n&&-1==[\"http://\",\"https://\"].indexOf(n)?(o=!ios(\"9\",null),s=\"storeOpened\",c=2,l=function(){creative.adapter.getApp(this._processURLParams(n))}.bind(this),d=function(){var e;!--c&&o&&(l(),e={},r.appStoreUrl&&(e.appStoreUrl=a()),r.androidMarketAppId&&(e.androidMarketAppId=i()),creative.adapter.sendToEventMonitor(s,r.triggerId,t.screen.name,e,r.reportLabel,t.initiatedBeforeScreenShown()))}.bind(this),t.track({name:s,appUri:n,label:r.reportLabel},d),t.trackClickThrough(d),o||setTimeout(l,0)):t.track({name:\"userError\",userErrorId:\"exitUriIsEmpty\"}),e()},BaseCreativeUnit.prototype.callPhoneAction=function(e,t,r){if(!t.number)return r();creative.adapter._stopAllMedia();function a(){creative.adapter.callPhone(t.number),creative.adapter.sendToEventMonitor(i,t.triggerId,e.screen.name,t.number,t.reportLabel,e.initiatedBeforeScreenShown())}var i=\"phoneCalled\",n=deviceInfo.os.ios()&&deviceInfo.browser.safari();e.track({name:i,number:t.number,label:t.reportLabel}),e.trackClickThrough(),n?(creative.adapter.trackingCenter.flush(),defer(a)):creative.adapter.trackingCenter.flush(a),r()},BaseCreativeUnit.prototype.answerSurveyQuestion=function(e,t,r){var a=/[0-9a-f]{8}/;[\"answerIds\",\"questionId\",\"surveyId\",\"answers\"].forEach(function(e){if(\"answerIds\"===e){if(!(t.answerIds instanceof Array))throw new Error(\"args.answerIds must be an array\");t.answerIds.forEach(function(e){if(!a.test(e))throw new Error(\"args.answerIds must contain Ids that have hexadecimal formatted string containing 8 characters\")})}else if(\"answers\"===e){if(!(t.answers instanceof Array)||t.answers.length!==t.answerIds.length)throw new Error(\"args.\"+e+\" length should be the same as args.answerIds\")}else if(!a.test(t[e]))throw new Error(\"args.\"+e+\" must be hexadecimal formatted string containing 8 characters\")}),e.track({name:\"surveyQuestionAnswered\",answerIds:t.answerIds,questionId:t.questionId,surveyId:t.surveyId,surveyVersion:t.surveyVersion,answerIdTextMappings:t.answers.map(function(e){return{id:e.id,text:e.text,orderIndex:e.orderIndex}})}),r()},BaseCreativeUnit.prototype.saveTheDateAction=function(e,r,t){return r.eventName&&r.location&&r.start?(r.end=r.end||new Date(r.start.getTime()+36e5),r.timezone=r.timezone||\"my\",i(r.start)?i(r.end)?r.end<r.start?(console.error(\"End date must be after the start date!\"),t()):-1===[\"my\",\"utc\",\"user\"].indexOf(r.timezone)?(console.error(\"Invalid timezone argument!\"),t()):void 0!==r.reminder&&-1===[\"5m\",\"15m\",\"30m\",\"1h\",\"2h\",\"1d\",\"2d\",\"date\"].indexOf(r.reminder)?(console.error(\"Invalid reminder argument!\"),t()):(r.start=a(r.start),r.end=a(r.end),void CCalendar.saveTheDateAction(e,r,t)):(console.error(\"Invalid end date\"),t()):(console.error(\"Invalid start date\"),t())):(console.error(\"saveTheDateAction must have eventName, location and start date defined!\"),t());function a(e){var t;return r.allDay?(t=new CDate).value=e.getFullYear()+\"-\"+zeroPad(e.getMonth()+1)+\"-\"+zeroPad(e.getDate()):(e=\"my\"===r.timezone?e.getUTCFullYear()+\"-\"+zeroPad(e.getUTCMonth()+1)+\"-\"+zeroPad(e.getUTCDate())+\" \"+zeroPad(e.getUTCHours())+\":\"+zeroPad(e.getUTCMinutes())+\":\"+zeroPad(e.getUTCSeconds()):e.getFullYear()+\"-\"+zeroPad(e.getMonth()+1)+\"-\"+zeroPad(e.getDate())+\" \"+zeroPad(e.getHours())+\":\"+zeroPad(e.getMinutes())+\":\"+zeroPad(e.getSeconds()),(t=new CDateTime).value=e,t.tz=r.timezone),t}function i(e){return e instanceof Date&&!isNaN(e)}},BaseCreativeUnit.prototype.resizeAction=function(e,t,r){throw new Error(\"Resize action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype._areRevealResizeActionArgsValid=function(e){return-1!==[\"intro\",\"collapsed\",\"maximum\",\"fullscreen\"].indexOf(e.height)},BaseCreativeUnit.prototype.expandAction=function(e,t,r){throw new Error(\"Expand action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype._assertAppearBeforeExpand=function(){this.hasAppearedAtLeastOnce||creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"expandBeforeAppear\"})},BaseCreativeUnit.prototype.collapseAction=function(e,t,r){throw new Error(\"Collapse action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype.dismissAction=function(e,t,r){throw new Error(\"Dismiss action is not available for this ad format or creative unit\")},BaseCreativeUnit.prototype.findAll=function(){throw new Error(\"Not implemented!\")},BaseCreativeUnit.prototype.findByType=function(){throw new Error(\"Not implemented!\")},BaseCreativeUnit.prototype.find=function(e){e=this.findAll(e);return 0<e.length?e[0]:null};;\n!function(e){\"use strict\";function t(e,r,t,n){if(-1===[\"PUT\",\"DELETE\"].indexOf(e))throw new Error(\"Unsupported request method: \"+e);if(void 0===creative.runtimeParams.customAudiences[r])throw new Error('Custom audience \"'+r+'\" is not used by the creative.');creative.runtimeParams.customAudiences[r]={userExists:t,userData:n};var i,u,s,o=creative.secure?creative.customAudiencesUrl:creative.insecureCustomAudiencesUrl,c=\"/audiences/\"+r,a=creative.userIdentifiers;for(i in a)for(var d in a[i])d=a[u=i][d],s=void 0,(s=new XMLHttpRequest).open(e,o+c+\"/\"+encodeURIComponent(u)+\"/\"+encodeURIComponent(d)+\"?\"+creative.authTokenUrlParam),s.send(n)}var r={toString:function(){return\"[Clazz CustomAudiences]\"}};r.addUser=function(e,r){creative.runtimeParams.userOptOut||t(\"PUT\",e,!0,r)},r.removeUser=function(e){creative.runtimeParams.userOptOut||t(\"DELETE\",e,!1)},e.CustomAudiences=r}(window);;\n!function(e){\"use strict\";function n(t,n){var o=[];function a(e){n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e),e.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)})})}function i(e){!e||n&&0<o.length||e.forEach(function(e){t(e)&&o.push(e)})}return\"Screen\"==this.constructor.name?(a(this.objects),i(this.scenes)):\"function\"==typeof this.getActiveContainers&&this.getActiveContainers().forEach(function(e){a(e.objects),i(e.scenes)}),o}function o(e){return 0<(e=n.call(this,e,!0)).length?e[0]:null}function t(t){return function(e){return void 0===t||e.name==t}}var a={ambience:\"Ambience\",animatey:\"Animatey\",abtest:\"Best\",basket:\"Basket\",button:\"Button\",canvas:\"Canvas\",celebration:\"Celebration\",checkbox:\"CheckBox\",feedbasedchoice:\"ChoiceFeed\",countdown:\"Countdown\",draggy:\"Draggy\",dropdown:\"Dropdown\",dynamiccontent:\"DynamicContent\",facebookshare:\"FacebookShareButton\",fallback:\"Fallback\",frame:\"Frame\",flippy:\"Flippy\",group:\"Group\",gyro:\"Gyro\",hotspot:\"Hotspot\",input:\"Input\",map:\"Map\",transitions:\"Transitions\",slider:\"BeforeAfterSlider\",mastervideo:\"MasterVideo\",nearby:\"Nearby\",painty:\"Painty\",pannable:\"Pannable\",particles:\"Particle\",picture:\"Picture\",puzzle:\"Puzzle\",shapey:\"Shapey\",smoke:\"Smoke\",stack:\"Stack\",stopwatch:\"Stopwatch\",locatorclassic:\"StoreLocator2\",locator:\"StoreLocator3\",swipeygallery:\"Swipey\",swipeygroup:\"SwipeyGroup\",cube3d:\"Cube3d\",takephoto:\"TakePhotoButton\",texty:\"Texty\",twitterfeed:\"TwitterFeed\",twittershare:\"TwitterShareButton\",inlinevideo:\"Video\",\"360view\":\"View360\",\"360video\":\"Video360\",\"360\u00b0video\":\"Video360\",weather:\"Weather\",whatsappshare:\"WhatsAppShareButton\",wipeable:\"Wipeable\",youtube:\"Youtube\",scene:\"Scene\",brandtracksurvey:\"BrandTrackSurvey\",brandtrackquestion:\"BrandTrackQuestion\",customcode:\"CustomCode\",videoasset:\"VideoAsset\"};e.DiscoverableTrait={findAll:function(e){return n.call(this,t(e))},findByType:function(t){return void 0===t?[]:n.call(this,function(e){return e.constructor.name==((e=(e=t).toLowerCase().replace(/\\W+/g,\"\"))in a?a[e]:\"\")})},findByLocalId:function(t){return o.call(this,function(e){return e.localId==t})},find:function(e){return o.call(this,t(e))}}}(window);;\n!function(e){\"use strict\";var n={choice:{checkChoiceFeed:[\"feedFieldKey\"],ChoiceFeed:[\"choiceFeedFieldKey\"],ChoiceFeedECD:[\"choiceFeedFieldKey\"]},color:{Shapey:[\"backgroundColorFeedFieldKey\"],Texty:[\"textColorFeedFieldKey\"],RichTexty:[\"textFillFeedFieldKey\"]},font:{Texty:[\"textFontFeedFieldKey\"],Button:[\"textFontFeedFieldKey\"],RichTexty:[\"fontFeedFieldKey\"]},html:{CustomCode:[\"htmlContentFeedFieldKey\"],CustomCodeECD:[\"htmlContentFeedFieldKey\"]},image:{Picture:[\"imageSourceFeedFieldKey\"],Swipey:[\"contentItemsFeedFieldKey\"],Video:[\"posterImageFeedFieldKey\"]},text:{Texty:[\"textContentFeedFieldKey\"],Button:[\"callToActionTextFeedFieldKey\"],RichTexty:[\"textFeedFieldKey\"]},url:{goToFeedURL:[\"feedFieldKey\"],QRCode:[\"destinationUrlFeedFieldKey\"]},video:{MasterVideo:[\"videoSourceFeedFieldKey\"],VideoAsset:[\"videoSourceFeedFieldKey\"],Video:[\"videoSourceFeedFieldKey\"],VideoAssetECD:[\"videoSourceFeedFieldKey\"]},audio:{AudioECD:[\"audioSourceFeedFieldKey\"]}};function d(e){e=\"string\"==typeof e?e.split(\"/\"):[];if(!(e.length<2))return e[1]}var i={};function r(e){var t;return void 0===i[e]&&(i[e]={type:\"unknown\",rows:[]}),0===e.indexOf(\"LocationTableImplicitField\")&&\"unknown\"===i[e].type&&(t=\"text\",\"/website\"===e.slice(-8)&&(t=\"url\"),i[e].type=t),i[e]}var t=!1;function o(){return t||(creative.runtimeParams.dynamicContent.forEach(function(i){i.rows.forEach(function(e,n){var d=e.fieldValues;Object.keys(d).forEach(function(e){var t=r(e),i=d[e].metaData,e=d[e].value;t.rows[n]={metadata:\"object\"==typeof i?JSON.parse(JSON.stringify(i)):null,value:e}})}),i.fields.forEach(function(e){var t=r(\"CustomFeedField/\"+e.id);t.id=e.id,t.feedId=i.feedId,t.name=e.name,t.type=e.fieldType})}),t=!0),i}e.FeedData={checkAndTrackValue:function(e,t,i,n){e&&(this.isCorrectFieldType(e,i,n)?this.getFieldValueByKey(e,t)||(console.warn(\"Feed source missing for key on \"+i+\": \"+e+\".\"),creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"feedValueMissing\"})):creative.adapter.trackingCenter.track({name:\"userError\",userErrorId:\"feedValueUnlinked\"}))},getCustomFields:function(){var t=o();return Object.keys(t).filter(function(e){return 0===e.indexOf(\"CustomFeedField\")}).map(function(e){e=t[e];return{id:e.id,feedId:e.feedId,name:e.name,type:e.type,values:e.rows.map(function(e){return e.value}).filter(function(e){return null!==e})}})},getCustomFieldByKey:function(e){var t=d(e);if(t)for(var i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].id===t)return i[n]},getCustomFieldByName:function(e){for(var t,i=this.getCustomFields(),n=0;n<i.length;n++)if(i[n].name===e){t=i[n];break}return t},getFeedByFieldKey:function(e){var t=d(e);if(t)return creative.runtimeParams.dynamicContent.find(function(e){return e.fields.some(function(e){return e.id==t})})},getFieldByKey:function(e){return o()[e]},getFieldRowsByKey:function(e){e=this.getFieldByKey(e),e=e?e.rows:[];return 1===e.length&&\"string\"==typeof e[0].value||1<e.length?e:[]},getFieldRowByKey:function(e,t){return t=\"number\"==typeof t?t:0,this.getFieldRowsByKey(e)[t]},getFieldValueByKey:function(e,t){e=this.getFieldRowByKey(e,t);return e&&e.value},isCorrectFieldType:function(e,t,i){var e=this.getFieldByKey(e);return!!e&&(\"RichTexty\"===t&&(i=i.split(\"#\")[0]+\"FeedFieldKey\"),e=e.type,-1!==((n[e]||{})[t]||[]).indexOf(i))}}}(window);;\nvar FeedImageOptimizationTrait={getFeedImageOptimizationSetting:function(i){if(this.feedImageOptimizationSettings)for(var t=0;t<this.feedImageOptimizationSettings.length;t++)if(this.feedImageOptimizationSettings[t].feedFieldKey===i)return this.feedImageOptimizationSettings[t];return null}};;\nvar FeedImageCreator={_createFeedImageFile:function(e,t){var i,n,e=e+\"FeedFieldKey\",t=FeedData.getFieldValueByKey(this[e],t);return\"string\"==typeof t&&FeedData.isCorrectFieldType(this[e],this.constructor.name,e)?(i=[],n=void 0,(e=this.parentScreen&&this.parentScreen.parentContainer?this.parentScreen.parentContainer.getFeedImageOptimizationSetting(this[e]):{})&&e.optimizedWidth&&e.optimizedHeight&&e.fitting&&(i=[{creativeUnitVariantId:this.parentScreen.parentContainer.localId,optimizedWidth:e.optimizedWidth,optimizedHeight:e.optimizedHeight}],n=e.fitting),e=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size),e={height:Math.max(1,e.height),width:Math.max(1,e.width)},new File({url:t,dynamic:!0,meta:e,optimizationSettings:i,fitting:n})):null}};;\n!function(t){\"use strict\";var p={stringPatternAngle:\"(?:[+-]?\\\\d*\\\\.?\\\\d+)(?:deg|grad|rad|turn)\",stringPatternColor:\"(?:#(?:[A-Fa-f0-9]{3,8})|(?:hsl(?:a)?)\\\\(\\\\s*(?:\\\\d+)\\\\s*,\\\\s*(?:\\\\d+(?:\\\\.\\\\d+)?%)\\\\s*,\\\\s*(?:\\\\d+(?:\\\\.\\\\d+)?%)\\\\s*(?:,\\\\s*(?:\\\\d+|\\\\d*.\\\\d+)\\\\s*)?\\\\s*\\\\)|(?:rgb(?:a)?)\\\\(\\\\s*(?:\\\\d+)\\\\s*,\\\\s*(?:\\\\d+)\\\\s*,\\\\s*(?:\\\\d+)\\\\s*(?:,\\\\s*(?:\\\\d+|\\\\d*.\\\\d+)\\\\s*)?\\\\s*\\\\))\",stringPatternSideCorner:\"top|bottom|left|right\",stringPatternValue:\"(?:[+-]?\\\\d*\\\\.?\\\\d+)(?:%|[a-z]+)?\",patternHex:/^(#|)([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,patternHexa:/^(#|)([A-Fa-f0-9]{8})$/,matchHexHash:1,matchHexColor:2,patternRgb:/^rgb\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*\\)$/i,matchRgbRed:1,matchRgbGreen:2,matchRgbBlue:3,patternRgba:/^rgba\\(\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*((?:\\d\\.)?\\d\\d?)\\s*\\)$/i,matchRgbaRed:1,matchRgbaGreen:2,matchRgbaBlue:3,matchRgbaAlpha:4,patternGradient:/^\\-?(moz|webkit|o|ms|)(?:(?:-|)(?:repeating-|)(linear|radial|))-gradient\\((.*?)\\)(?:;|)$/i,matchGradientPrefix:1,matchGradientType:2,matchGradientValues:3,generatedGradientSyntax:null,matchGradientSyntaxLine:1,matchGradientSyntaxAngle:2,matchGradientSyntaxSideCorner:3,matchGradientSyntaxStopList:4,buildGradientSyntax:function(){var t=[\"(?:to\\\\s+)?((?:\",p.stringPatternSideCorner,\")\\\\s*(?:\",p.stringPatternSideCorner,\")?)\"].join(\"\"),t=[\"(\",[\"(\",p.stringPatternAngle,\")\"].join(\"\"),\"|\",t,\")\"].join(\"\"),e=[p.stringPatternColor,\"\\\\s*(?:\",p.stringPatternValue,\")?\"].join(\"\"),t=[\"^\\\\s*\",t,\"\\\\s*,\\\\s*(\",[\"(?:\",e,\"\\\\s*,\\\\s*)*\",e].join(\"\"),\")\\\\s*$\"].join(\"\");return p.generatedGradientSyntax=new RegExp(t,\"i\"),p.generatedGradientSyntax},generatedRadialGradientSyntax:null,matchRadialGradientSyntaxEllipse:1,matchRadialGradientSyntaxWidth:2,matchRadialGradientSyntaxHeight:3,matchRadialGradientSyntaxXPosition:4,matchRadialGradientSyntaxYPosition:5,matchRadialGradientSyntaxStopList:6,buildRadialGradientSyntax:function(){var t=[\"(ellipse)?\\\\s*\",\"(\",p.stringPatternValue,\")\\\\s+\",\"(\",p.stringPatternValue,\")\\\\s+at\\\\s+\",\"(\",p.stringPatternValue,\")\\\\s+\",\"(\",p.stringPatternValue,\")\"].join(\"\"),e=[p.stringPatternColor,\"\\\\s*(?:\",p.stringPatternValue,\")?\"].join(\"\"),t=[\"^\\\\s*\",t,\"\\\\s*,\\\\s*(\",[\"(?:\",e,\"\\\\s*,\\\\s*)*\",e].join(\"\"),\")\\\\s*$\"].join(\"\");return p.generatedRadialGradientSyntax=new RegExp(t,\"i\"),p.generatedRadialGradientSyntax},generatedGradientStopList:null,matchGradientStopListColor:1,matchGradientStopListPosition:2,buildGradientStopList:function(){var t=[\"\\\\s*(\",p.stringPatternColor,\")\",\"(?:\\\\s+\",\"(\",p.stringPatternValue,\"))?\",\"(?:\\\\s*,\\\\s*)?\"].join(\"\");return p.generatedGradientStopList=new RegExp(t,\"gi\"),p.generatedGradientStopList},gradientOldSideCorner:{\"to top\":\"left bottom, left top\",\"to left\":\"right top, left top\",\"to bottom\":\"left top, left bottom\",\"to right\":\"left top, right top\",\"to top right\":\"left bottom, right top\",\"to top left\":\"right bottom, left top\",\"to bottom right\":\"left top, right bottom\",\"to bottom left\":\"right top, left bottom\"},gradientPrefixedSideCorner:{\"to top\":\"bottom\",\"to left\":\"right\",\"to bottom\":\"top\",\"to right\":\"left\",\"to top right\":\"bottom left\",\"to top left\":\"bottom right\",\"to bottom right\":\"top left\",\"to bottom left\":\"top right\"}};Object.defineProperties(p,{patternGradientSyntax:{get:function(){return null===p.generatedGradientSyntax?p.buildGradientSyntax():p.generatedGradientSyntax}},patternRadialGradientSyntax:{get:function(){return null===p.generatedRadialGradientSyntax?p.buildRadialGradientSyntax():p.generatedRadialGradientSyntax}},patternGradientStopList:{get:function(){return null===p.generatedGradientStopList?p.buildGradientStopList():p.generatedGradientStopList}}}),p.convertAngleToSideCorner=function(t,e){e=((t=/\\-?(moz|webkit|o|ms)/.test(e)?90-t:t)+360)%360,t=\"to top\";return 347<e||e<14?t=\"to top\":14<=e&&e<=75?t=\"to top right\":75<e&&e<105?t=\"to right\":105<=e&&e<=167?t=\"to bottom right\":167<e&&e<194?t=\"to bottom\":194<=e&&e<=255?t=\"to bottom left\":255<e&&e<285?t=\"to left\":285<=e&&e<=347&&(t=\"to left top\"),t},p.convertSideCornerToAngle=function(t,e){var a=0;switch(t){case\"bottom\":case\"to top\":a=0;break;case\"left\":case\"to right\":a=90;break;case\"right\":case\"to left\":a=270;break;case\"top\":case\"to bottom\":a=180;break;case\"to bottom right\":case\"to right bottom\":a=167;break;case\"to bottom left\":case\"to left bottom\":a=194;break;case\"to top right\":case\"to right top\":a=14;break;case\"to top left\":case\"to left top\":a=347;break;case\"bottom right\":case\"right bottom\":a=285;break;case\"bottom left\":case\"left bottom\":a=75;break;case\"top right\":case\"right top\":a=255;break;case\"top left\":case\"left top\":a=105}return((a=/\\-?(moz|webkit|o|ms)/.test(e)?90-a:a)+360)%360},p.convertHexToRgba=function(t,e){var a,r=0,n=0,i=0,t=p.patternHex.exec(t);return null!==t&&t[p.matchHexColor]&&(3==(t=t[p.matchHexColor]).length&&(t=(a=t).substr(0,1)+a.substr(0,1)+a.substr(1,1)+a.substr(1,1)+a.substr(2,1)+a.substr(2,1)),r=parseInt(t.substr(0,2),16),n=parseInt(t.substr(2,2),16),i=parseInt(t.substr(4,2),16)),e=parseInt(e,10)/100,\"rgba(\"+r+\",\"+n+\",\"+i+\",\"+(e=isNaN(e)?1:e)+\")\"},p.isHex=function(t){return p.patternHex.test(t)},p.isHexa=function(t){return p.patternHexa.test(t)},p.isRgb=function(t){return p.patternRgb.test(t)},p.isRgba=function(t){return p.patternRgba.test(t)},p.isGradient=function(t){return p.patternGradient.test(t)},p.parseColorStopList=function(t){for(var e,a=p.patternGradientStopList.exec(t),r=[];null!==a;)e={color:a[p.matchGradientStopListColor]},a[p.matchGradientStopListPosition]&&(e.position=a[p.matchGradientStopListPosition]),r.push(e),a=p.patternGradientStopList.exec(t);return r},p.parseGradient=function(t){var e,a=null,t=p.patternGradient.exec(t);return null!==t&&(a={original:t[0],oldSyntax:!t[p.matchGradientType],prefix:t[p.matchGradientPrefix],type:t[p.matchGradientType],colorStopList:[]},null!==(e=p.patternGradientSyntax.exec(t[p.matchGradientValues]))&&(e[p.matchGradientSyntaxLine]&&(a.line=e[p.matchGradientSyntaxLine]),e[p.matchGradientSyntaxAngle]&&(a.angle=e[p.matchGradientSyntaxAngle]),e[p.matchGradientSyntaxSideCorner]&&(a.sideCorner=e[p.matchGradientSyntaxSideCorner]),a.colorStopList=p.parseColorStopList(e[p.matchGradientSyntaxStopList])),null!==(e=p.patternRadialGradientSyntax.exec(t[p.matchGradientValues]))&&(a.radialGradientEllipse=e[p.matchRadialGradientSyntaxEllipse],e[p.matchRadialGradientSyntaxWidth]&&(a.radialGradientWidth=e[p.matchRadialGradientSyntaxWidth]),e[p.matchRadialGradientSyntaxHeight]&&(a.radialGradientHeight=e[p.matchRadialGradientSyntaxHeight]),e[p.matchRadialGradientSyntaxXPosition]&&(a.radialGradientXPosition=e[p.matchRadialGradientSyntaxXPosition]),e[p.matchRadialGradientSyntaxYPosition]&&(a.radialGradientYPosition=e[p.matchRadialGradientSyntaxYPosition]),a.colorStopList=p.parseColorStopList(e[p.matchRadialGradientSyntaxStopList]))),a},p.createGradient=function(t){var e={backgroundColor:null,webkitGradient:null,mozLinearGradient:null,msLinearGradient:null,oLinearGradient:null,webkitLinearGradient:null,linearGradient:null,radialGradient:null},a=p.parseGradient(t)||t;if(a.oldSyntax)throw new Error('[Not supported] Can not create gradient from old \"webkit-gradient\" syntax.');for(var r,n,i,o,s=\"\",d=\"\",l=a.colorStopList.length,c=0;c<l;c++){var g=a.colorStopList[c];g.color&&(0!==c?(s+=\",\",d+=\",\"):e.backgroundColor=g.color,s+=g.color,d+=\"color-stop(\",g.position?(s+=\" \"+g.position,d+=g.position):d+=100/(l-1)*c+\"%\",d+=\", \"+g.color+\")\")}return\"linear\"===a.type?(void(t=0)!==a.angle?t=parseInt(a.angle,10):void 0!==a.sideCorner&&(t=p.convertSideCornerToAngle(a.line,a.prefix)),n=t,/\\-?(moz|webkit|o|ms)/.test(a.prefix)?t=90-n:n=90-t,r=p.convertAngleToSideCorner(t),r=p.gradientOldSideCorner[r],e.webkitGradient=\"-webkit-gradient(linear, \"+r+\", \"+d+\")\",e.mozLinearGradient=\"-moz-linear-gradient(\"+n+\"deg, \"+s+\")\",e.msLinearGradient=\"-ms-linear-gradient(\"+n+\"deg, \"+s+\")\",e.oLinearGradient=\"-o-linear-gradient(\"+n+\"deg, \"+s+\")\",e.webkitLinearGradient=\"-webkit-linear-gradient(\"+n+\"deg, \"+s+\")\",e.linearGradient=\"linear-gradient(\"+t+\"deg,\"+s+\")\"):\"radial\"===a.type&&(r=(r=(a.radialGradientEllipse||\"\")+\" \").replace(/^\\s+/,\"\"),n=parseInt(a.radialGradientWidth,10),t=parseInt(a.radialGradientHeight,10),i=parseInt(a.radialGradientXPosition,10),o=parseInt(a.radialGradientYPosition,10),e.radialGradient=\"radial-gradient(\"+r+(n+\"% \"+t+\"%\"+\" at \"+(i+\"% \"+o+\"%\"))+\",\"+s+\")\"),e},p.createGradientStyle=function(t){var e,a=p.createGradient(t),r=\"\";for(e in a){var n=a[e];null!==n&&p.isGradient(n)&&(r+=\"background-image: \"+n+\"; \")}return r},p.parseRgb=function(t){var e,a=0,r=0,n=0,i=1;if(p.isRgb(t))e=p.patternRgb.exec(t);else{if(!p.isRgba(t))throw new Error(\"Color format [\"+t+\"] is not supported, please provide rgb or rgba color format input.\");e=p.patternRgba.exec(t)}return null!==e&&(e[p.matchRgbaRed]&&(a=parseInt(e[p.matchRgbaRed],10)),e[p.matchRgbaGreen]&&(r=parseInt(e[p.matchRgbaGreen],10)),e[p.matchRgbaBlue]&&(n=parseInt(e[p.matchRgbaBlue],10)),e[p.matchRgbaAlpha]&&(i=parseFloat(e[p.matchRgbaAlpha]))),[a,r,n,i]},p.tint=function(t,e){return!0!==this.isGradient(t)?this.tintRgb(t,e):this.tintGradient(t,e)},p.shade=function(t,e){return!0!==this.isGradient(t)?this.shadeRgb(t,e):this.shadeGradient(t,e)},p.tintGradient=function(t,e){return this._transformGradient(t,e,255)},p.shadeGradient=function(t,e){return this._transformGradient(t,e,0)},p.shadeRgb=function(t,e){return this._transformRgb(t,e,0)},p.tintRgb=function(t,e){return this._transformRgb(t,e,255)},p._transformGradient=function(t,r,n){if(null===(t=this.parseGradient(t)))return null;t.colorStopList=t.colorStopList.map(function(t){var e=\"\";switch(!0){case this.isHex(t.color)||this.isHexa(t.color):var a=this.convertHexToRgba(t.color),e=this._transformRgb(a,r,n);break;case this.isRgba(t.color)||this.isRgb(t.color):e=this._transformRgb(t.color,r,n)}return Object.assign({},t,{color:e})},this);var e=this.createGradient(t);switch(t.type){case\"linear\":return e.linearGradient;case\"radial\":return e.radialGradient;default:return null}},p._transformRgb=function(t,e,a){var t=p.parseRgb(t),r=t[0],n=t[1],i=t[2],t=t[3];return\"rgba(\"+parseInt(r*(1-e)+a*e)+\",\"+parseInt(n*(1-e)+a*e)+\",\"+parseInt(i*(1-e)+a*e)+\",\"+t+\")\"},t.Color=p}(window),\"undefined\"!=typeof module&&void 0!==module.exports&&(module.exports=window.Color);;\n\"use strict\";!function(n){var o={_isContentInsideContainer:function(n,t){return n.height<=Math.round(t.height)&&n.width<=Math.round(t.width)},_isContentInsideContainerForFontSizeFn:function(t,i){return function(n){return o._isContentInsideContainer(i(n),t)}},getCalculatedFontSize:function(n,t,i,e){n=o._isContentInsideContainerForFontSizeFn(n,t);return o._findFittingPoint(e,i,n,1)},getCalculatedFactor:function(n,t,i,e){n=o._isContentInsideContainerForFontSizeFn(n,t);return o._findFittingPoint(e,i,n,.01)},_findFittingPoint:function(n,t,i,e){if(i(t))return t;for(var o=n,r=e%1==0;n<=t;){var u=(n+t)/2,d=i(u=r?Math.floor(u):u),a=i(u+e);if(d&&!a)return u;if(!d&&a)return console.error(\"Binary font size search invalid state!\"),o;d&&a&&(n=u+e),d||a||(t=u-e)}return n}};\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=o:n.ShrinkToFit=o}(this);;\n\"use strict\";!function(t){function e(t,n){e.isValidInput(t,n),this.start=t,this.end=n}e.prototype.doesRangeOverlap=function(t){return 0<=this._getLengthOfIntersectionInterval(t)},e.prototype._getLengthOfIntersectionInterval=function(t){return Math.min(this.end,t.end)-Math.max(this.start,t.start)},e.prototype.isSuperRangeOf=function(t){return this.start<=t.start&&this.end>=t.end},e.isValidInput=function(t,n){if(null==t||null==n||\"number\"!=typeof t||\"number\"!=typeof n)throw new Error(\"Invalid input type!\");if(t<0||n<0)throw new Error(\"Range border can not be negative!\");if(n<=t)throw new Error(\"Start should be less than the end!\")},e.compareRanges=function(t,n){return t.start-n.start},e.obtainValidRanges=function(t){t=e._filterValidRanges(t);return e._mapToRanges(t)},e._filterValidRanges=function(t){return t.filter(function(t){try{return e.isValidInput(t.start,t.end),!0}catch(t){return!1}})},e._mapToRanges=function(t){return t.map(function(t){return new e(t.start,t.end)})},t.TextRange=e,\"undefined\"!=typeof module&&null!==module&&(module.exports=e)}(window);;\n\"use strict\";!function(){function e(e){this._ranges=e||[],this.getRanges=function(){return this._ranges},this.getRangeIndices=function(){return this.getRanges().map(function(e){return[e.start,e.end]})},this.addRange=function(n){var s=n.start,a=n.end,e=this.getRanges().filter(function(e){var t=e.doesRangeOverlap(n);return t&&(s=Math.min(s,e.start),a=Math.max(a,e.end)),!t});this.getRanges().length===e.length?this._ranges.push(n):(this._ranges=e,this._ranges.push(new TextRange(s,a))),this._ranges.sort(TextRange.compareRanges)},this.removeRange=function(n){var s=[],e=this.getRanges().filter(function(e){var t=e.doesRangeOverlap(n);return t&&(e=this._recreateAppliedRange(e,n),s=s.concat(e)),!t},this);this._ranges=e.concat(s),this._ranges.sort(TextRange.compareRanges)},this._recreateAppliedRange=function(e,t){var n=[];return t.start>e.start&&t.end<e.end?(n.push(new TextRange(e.start,t.start)),n.push(new TextRange(t.end,e.end))):t.end<e.end?n.push(new TextRange(t.end,e.end)):t.start>e.start&&n.push(new TextRange(e.start,t.start)),n},this.setRanges=function(e){this.removeAllRanges(),e.forEach(function(e){this.addRange(e)},this)},this.removeAllRanges=function(){this._ranges=[]},this.apply=function(e){throw new Error(\"Unsupported\")},this.isAppliedToRange=function(t){return this.getRanges().some(function(e){return e.isSuperRangeOf(t)})}}window.BaseTextStyle=e,\"undefined\"!=typeof module&&null!==module&&(module.exports=e)}();;\n\"use strict\";!function(){function e(e){BaseTextStyle.call(this,e),this.apply=function(e){return e?'<span class=\"no-break\">'+e+\"</span>\":\"\"}}window.UnbreakableTextStyle=e,\"undefined\"!=typeof module&&null!==module&&(module.exports=e)}();;\n\"use strict\";!function(e){function t(){}t.UNBREAKABLE_START=\"\\\\[\",t.UNBREAKABLE_END=\"\\\\]\",t.extractStyleFromText=function(e){return this.hasUnbreakableCharacters(e)?this._extract(e):this._formatResponse(e,null)},t.hasUnbreakableCharacters=function(e){return e&&-1<e.indexOf(this.UNBREAKABLE_START)},t._formatResponse=function(e,t){return{text:e,style:t=e?t:null}},t._extract=function(e){for(var t=e.split(this.UNBREAKABLE_START),n=new UnbreakableTextStyle,r=this._removeClosingBrackets(t[0]),a=1;a<t.length;a++){var i=t[a];this._addSectionRange(n,r.length,i),r+=this._removeClosingBrackets(i)}return this._formatResponse(r,n)},t._removeClosingBrackets=function(e){return e.split(this.UNBREAKABLE_END).join(\"\")},t._addSectionRange=function(e,t,n){var r=this._getUnbreakableClosingIndex(n);n.substring(0,r)&&e.addRange(this._calculateRange(t,r))},t._getUnbreakableClosingIndex=function(e){var t=e.indexOf(this.UNBREAKABLE_END);return t=-1===t?e.length:t},t._calculateRange=function(e,t){return new TextRange(e,e+t)},e.UnbreakableTextStyleConverter=t,\"undefined\"!=typeof module&&null!==module&&(module.exports=t)}(window);;\n\"use strict\";!function(e){function d(){}d.encode=function(e){return this._replace(e,\"decoded\",\"encoded\")},d.decode=function(e){return this._replace(e,\"encoded\",\"decoded\")},d._replace=function(d,o,c){return this.SPECIAL_CHARACTERS.forEach(function(e){d=d.replace(new RegExp(e[o],\"g\"),e[c])}),d},d.SPECIAL_CHARACTERS=[{decoded:\"&\",encoded:\"&amp;\"},{decoded:'\"',encoded:\"&quot;\"},{decoded:\"'\",encoded:\"&apos;\"},{decoded:\"<\",encoded:\"&lt;\"},{decoded:\">\",encoded:\"&gt;\"}],\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=d:e.HtmlEntitizer=d}(this);;\n\"use strict\";!function(n){var e=!0;function t(){}function r(n,t){var e,r,i,t=new TextStyleCompiler(t).compile();return 0===t.length?o(n):(i=function(n,t){return o(n.substring(0,t[0].range.start))}(e=n,r=t),r.forEach(function(n,t){i+=function(n,t){n=o(n.slice(t.range.start,t.range.end));return t.apply(n)}(e,n),t+1<r.length&&(i+=(t=r[t+1],o(e.slice(n.range.end,t.range.start))))}),i+function(n,t){t=t[t.length-1];return o(n.substring(t.range.end,n.length))}(e,r))}function o(n){return e?HtmlEntitizer.encode(n):n}t.processAndSanitize=function(n,t){return e=!0,r(n,t)},t.processWithoutSanitization=function(n,t){return e=!1,r(n,t)},n.TextStyleProcessor=t,\"undefined\"!=typeof module&&null!==module&&(module.exports=t)}(window);;\n\"use strict\";!function(t){function n(t,e){this.range=t,this.styles=e||[],this.apply=function(t){for(var e=t,n=0;n<this.styles.length;n++)e=this.styles[n].apply(e);return e}}function e(t){this.styles=t||[]}t.TextStyleContainer=n,e.prototype.compile=function(){for(var t=this._extractIntervalIndices(),e=[],n=0;n<t.length-1;n++){var r=this._createContainer(t[n],t[n+1]);r&&e.push(r)}return e},e.prototype._createContainer=function(t,e){t=new TextRange(t,e),e=this._getStylesApplicableForRange(t);if(0<e.length)return new n(t,e)},e.prototype._getStylesApplicableForRange=function(e){return this.styles.filter(function(t){return t.isAppliedToRange(e)})},e.prototype._extractIntervalIndices=function(){var e=[];return this.styles.forEach(function(t){t.getRanges().forEach(function(t){this._pushIfNewIndex(e,t.start),this._pushIfNewIndex(e,t.end)},this)},this),e.sort(this._sortIndices),e},e.prototype._pushIfNewIndex=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.prototype._sortIndices=function(t,e){return t-e},t.TextStyleCompiler=e,\"undefined\"!=typeof module&&null!==module&&(exports.TextStyleCompiler=e,exports.TextStyleContainer=n)}(window);;\n\"use strict\";!function(o){var e={buildTextColor:function(o){return Color.isGradient(o)?{color:\"transparent\",\"background-image\":o,\"-webkit-background-clip\":\"text\",\"background-clip\":\"text\"}:{color:o}}};\"undefined\"!=typeof module&&void 0!==module.exports?module.exports=e:o.TextCssPropertiesBuilder=e}(window);;\n!function(){\"use strict\";var e=[],o=[\"provider\",\"family\",\"style\",\"weight\",\"stretch\"],t=[\"adobe\",\"custom\",\"google\",\"system\"],a=o.concat([\"baseUrl\",\"files\",\"projectId\",\"subset\"]);window.TextStyleIntegrator={updateTextStyle:function(){},initializeFont:function(t){this._initialFont instanceof FontBase||(this._initialFont=this.font),this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"fonts/\"),t||(this.incrementLoadingCount(),this.loadFont(deferred(this.decrementLoadingCount.bind(this),0,\"TextStyleIntegrator.initializeFont deferred loadFont callback\"))),this.updateTextStyle()},resetFont:function(){this._initialFont instanceof FontBase&&this.font!==this._initialFont&&(this.font=this._initialFont,this.updateTextStyle())},toSizePx:function(t,e){var i=parseFloat(t);return i=-1<t.toString().indexOf(\"vh\")?Math.round(e*i/100):i},getFontSize:function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},lineHeightInPx:function(t,e){return Math.max(1,t+e)},toSizePxBasedOnFontSize:function(t,e){var i=parseFloat(t);return-1<String(t).indexOf(\"em\")&&(i*=e),i},getLineSpacing:function(){var t=this.toSizePx(this.fontSize,this.parentScreen.size.height);return this.toSizePxBasedOnFontSize(this.lineSpacing,t)},getLetterSpacing:function(){var t=this.toSizePx(this.fontSize,this.parentScreen.size.height);return this.toSizePxBasedOnFontSize(this.letterSpacing,t)},getScaleBaseHeight:function(){return this.scaleBaseHeight},getScaleBaseWidth:function(){return this.scaleBaseWidth},getTextColor:function(){return this.textColor},getTextShadowOffset:function(){var t,e={x:0,y:0};return void 0!==this.textShadow&&this.textShadow&&(t=this.textShadowAngle*(Math.PI/180),e.x=Math.round(this.textShadowDistance*Math.cos(t)),e.y=Math.round(this.textShadowDistance*Math.sin(t))),e},getTextShadowBlur:function(){return android(\"2\")&&this.textShadowBlur<1?1:this.textShadowBlur},getTextPaddingTop:function(){return this.textPaddingTop},getTextPaddingRight:function(){return this.textPaddingRight},getTextPaddingBottom:function(){return this.textPaddingBottom},getTextPaddingLeft:function(){return this.textPaddingLeft},applyTextStyle:function(t){var e=this.font.getCssProperties(),e={fontFamily:e[\"font-family\"],fontStyle:e[\"font-style\"],fontWeight:e[\"font-weight\"],letterSpacing:\"\",textAlign:\"\",textDecoration:\"\",textTransform:\"\",textShadow:\"\",paddingTop:\"\",paddingRight:\"\",paddingBottom:\"\",paddingLeft:\"\"},i=(extend(e,TextCssPropertiesBuilder.buildTextColor(this.getTextColor())),void 0!==this.textAlign&&(e.textAlign=this.textAlign),void 0!==this.textDecoration&&(e.textDecoration=this.textDecoration),void 0!==this.textTransform&&(e.textTransform=this.textTransform),void 0!==this.letterSpacing&&(e.letterSpacing=this.getLetterSpacing()+\"px\"),void 0!==this.textShadow&&this.textShadow&&(i=this.getTextShadowOffset(),e.textShadow=i.x+\"px \"+i.y+\"px \"+this.getTextShadowBlur()+\"px \"+this.textShadowColor),this.getTextPaddingTop()),n=this.getTextPaddingRight(),o=this.getTextPaddingBottom(),a=this.getTextPaddingLeft();\"number\"==typeof i&&(e.paddingTop=i+\"px\"),\"number\"==typeof n&&(e.paddingRight=n+\"px\"),\"number\"==typeof o&&(e.paddingBottom=o+\"px\"),\"number\"==typeof a&&(e.paddingLeft=a+\"px\"),extend(t.style,e),t.setAttribute(\"dir\",this.textDirection||\"\"),this.checkAndFixAutoWritingDirectionSupport(t)},_writingDirectionFallbackInputListenerRegistered:!1,checkAndFixAutoWritingDirectionSupport:function(t){var e=\"auto\"===this.textDirection&&t.dir!==this.textDirection,i=(\"start\"===this.textAlign||\"end\"===this.textAlign)&&t.style.textAlign!=this.textAlign;(e||i)&&((i=\"textarea\"===(e=t.tagName.toLowerCase())||\"input\"===e&&\"text\"===t.type.toLowerCase())&&!this._writingDirectionFallbackInputListenerRegistered&&(this._writingDirectionFallbackInputListenerRegistered=!0,attach(t,\"input\",function(){this._applyWritingDirectionFallbacks(t,t.value)}.bind(this))),!i&&\"input\"===e||this._applyWritingDirectionFallbacks(t,t.innerText))},_applyWritingDirectionFallbacks:function(t,e){var i,e=guessWritingDirection(e)||\"ltr\";\"start\"===this.textAlign&&(i=\"ltr\"===e?\"left\":\"right\"),\"end\"===this.textAlign&&(i=\"ltr\"===e?\"right\":\"left\"),t.setAttribute(\"dir\",e||\"\"),i&&(t.style.textAlign=i)},applyTextSize:function(t){var e=this.getNaturalSize(),i=this.getFontSize(),n=(this.scaleFont&&0<this.getScaleBaseWidth()&&void 0!==this.scaleBaseHeight&&0<this.getScaleBaseHeight()?i=Math.min(i/(this.getScaleBaseWidth()/e.width),i/(this.getScaleBaseHeight()/e.height)):this.scaleFont&&0<this.getScaleBaseWidth()&&(i/=this.getScaleBaseWidth()/e.width),{fontSize:i+\"px\",lineHeight:\"\",paddingLeft:\"\",paddingRight:\"\"});if(void 0!==this.lineSpacing&&(n.lineHeight=this.lineHeightInPx(this.getLineSpacing(),i)+\"px\"),this.scaleFont&&void 0!==this.scaleBaseHeight){var i=this.getScaleBaseWidth()/this.getScaleBaseHeight()*e.height,o=e.width-i;if(0<o)switch(this.textAlign){case\"center\":n.paddingRight=Math.round(o/2)+\"px\",n.paddingLeft=Math.round(o/2)+\"px\";break;case\"right\":n.paddingLeft=Math.round(o)+\"px\";break;default:n.paddingRight=Math.round(o)+\"px\"}}extend(t.style,n)},getFontLoader:function(t){t=t||noop,!this.font.needsLoading()||FontBase.useCSSFontLoadingAPI||\"undefined\"!=typeof FontLoader?t():loadJS(creative.resourceUrl+\"runner-min/FontLoader.js\",t)},loadFont:function(i){i=i||noop;var n={fontFamily:this.font.family,fontProvider:this.font.provider,fontStretch:this.font.stretch||\"\",fontStyle:this.font.style,fontWeight:this.font.weight,fontTtfUrl:this.font.getFileUrl(\"ttf\")||\"\",fontWoffUrl:this.font.getFileUrl(\"woff\")||\"\",fontWoff2Url:this.font.getFileUrl(\"woff2\")||\"\"},o=creative.perf.start(\"TextStyleIntegrator.loadFont\",n);this.getFontLoader(function(){var e=creative.perf.start(\"TextStyleIntegrator.loadStyle\",n);this.font.loadStyle(function(t){n.errorMessage=t||\"\",e.end(),o.end(),t||(this.font.isCustom()&&this.callExternalPageViewCounter(),this.font.isMonotype()&&this.trackMonotypeUsage()),i(t)}.bind(this))}.bind(this))},setFont:function(e){var i=this.font.hasOwnProperty(\"localId\"),n=(!i||this._initialFont instanceof FontBase||(this._initialFont=this.font),{baseUrl:(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"fonts/\"});a.forEach(function(t){i&&-1!==o.indexOf(t)&&(n[t]=this.font[t]),void 0!==e[t]&&(n[t]=e[t])}.bind(this)),\"web\"===n.provider&&(n.provider=\"system\"),-1===t.indexOf(n.provider)&&(n.provider=\"custom\"),this.font.localId?(\"custom\"===n.provider&&n.family===this.font.family&&(n.family=this.font.family+\" (custom)\"),this.font=new FontBase(n)):extend(this.font,n),creative.track({name:\"retiredFeatureUsed\",featureType:\"apifunction\",featureName:\"TextStyleIntegrator.setFont\"})},callExternalPageViewCounter:function(){var t;this.font.hasTrackingUrlDefined()&&\"live\"===creative.runtimeParams.purpose&&(t=this.font.getTrackingUrl(),-1===e.indexOf(t)&&(e.push(t),document.createElement(\"img\").src=this.font.getTrackingUrl()))},trackMonotypeUsage:function(){creative.runtimeParams.monotypeProjectId&&!creative.runtimeParams.monotypeUsageReported&&(creative.runtimeParams.monotypeUsageReported=1,creative.aggregatorTracking.trackAggregator(\"monotypeUsageReported\",{monotypeProjectId:creative.runtimeParams.monotypeProjectId,creativeId:creative.id}))}}}();;\nvar ZyngaScroller;!function(e){var _,i,l,n,t,T=Date.now||function(){return+new Date},d={},v=1;e.core?core.effect||(core.effect={}):e.core={effect:{}},core.effect.Animate={requestAnimationFrame:(t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame,e=!!t,(e=!(t&&!/requestAnimationFrame\\(\\)\\s*\\{\\s*\\[native code\\]\\s*\\}/i.test(t.toString()))&&e)?function(e,o){t(e,o)}:(_={},i=1,l=null,n=+new Date,function(e,o){var t=i++;return _[t]=e,null===l&&(l=setInterval(function(){var e,o=+new Date,t=_;for(e in _={},t)t.hasOwnProperty(e)&&(t[e](o),n=o);2500<o-n&&(clearInterval(l),l=null)},1e3/60)),t})),stop:function(e){var o=null!=d[e];return o&&(d[e]=null),o},isRunning:function(e){return null!=d[e]},start:function(l,n,r,a,c,s){var h=T(),p=h,m=0,f=0,u=v++;if(s=s||document.body,u%20==0){var e,o={};for(e in d)o[e]=!0;d=o}function g(e){var e=!0!==e,o=T();if(!d[u]||n&&!n(u))d[u]=null,r&&r(60-f/((o-h)/1e3),u,!1);else{if(e)for(var t=Math.round((o-p)/(1e3/60))-1,_=0;_<Math.min(t,4);_++)g(!0),f++;a&&1<(m=(o-h)/a)&&(m=1);var i=c?c(m):m;!1!==l(i,o,e)&&1!==m||!e?e&&(p=o,core.effect.Animate.requestAnimationFrame(g,s)):(d[u]=null,r&&r(60-f/((o-h)/1e3),u,1===m||null==a))}}return d[u]=!0,core.effect.Animate.requestAnimationFrame(g,s),u}}}(window),function(){function _(){}function p(e){return Math.pow(e-1,3)+1}function m(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}var e,o={__isSingleTouch:!(ZyngaScroller=function(e,o){for(var t in this.__callback=e,this.options={scrollingX:!0,scrollingY:!0,animating:!0,animationDuration:250,bouncing:!0,locking:!0,paging:!1,snapping:!1,zooming:!1,minZoom:.5,maxZoom:3,speedMultiplier:1,scrollingComplete:_,penetrationDeceleration:.03,penetrationAcceleration:.08},o)this.options[t]=o[t]}),__isTracking:!1,__didDecelerationComplete:!1,__isGesturing:!1,__isDragging:!1,__isDecelerating:!1,__isAnimating:!1,__clientLeft:0,__clientTop:0,__clientWidth:0,__clientHeight:0,__contentWidth:0,__contentHeight:0,__snapWidth:100,__snapHeight:100,__refreshHeight:null,__refreshActive:!1,__refreshActivate:null,__refreshDeactivate:null,__refreshStart:null,__zoomLevel:1,__scrollLeft:0,__scrollTop:0,__maxScrollLeft:0,__maxScrollTop:0,__scheduledLeft:0,__scheduledTop:0,__scheduledZoom:0,__lastTouchLeft:null,__lastTouchTop:null,__lastTouchMove:null,__positions:null,__minDecelerationScrollLeft:null,__minDecelerationScrollTop:null,__maxDecelerationScrollLeft:null,__maxDecelerationScrollTop:null,__decelerationVelocityX:null,__decelerationVelocityY:null,setDimensions:function(e,o,t,_){var i=this;e===+e&&(i.__clientWidth=e),o===+o&&(i.__clientHeight=o),t===+t&&(i.__contentWidth=t),_===+_&&(i.__contentHeight=_),i.__computeScrollMax(),i.scrollTo(i.__scrollLeft,i.__scrollTop,!0)},setPosition:function(e,o){this.__clientLeft=e||0,this.__clientTop=o||0},setSnapSize:function(e,o){this.__snapWidth=e,this.__snapHeight=o},activatePullToRefresh:function(e,o,t,_){this.__refreshHeight=e,this.__refreshActivate=o,this.__refreshDeactivate=t,this.__refreshStart=_},triggerPullToRefresh:function(){this.__publish(this.__scrollLeft,-this.__refreshHeight,this.__zoomLevel,!0),this.__refreshStart&&this.__refreshStart()},finishPullToRefresh:function(){var e=this;e.__refreshActive=!1,e.__refreshDeactivate&&e.__refreshDeactivate(),e.scrollTo(e.__scrollLeft,e.__scrollTop,!0)},getValues:function(){return{left:this.__scrollLeft,top:this.__scrollTop,zoom:this.__zoomLevel,isDragging:this.__isDragging}},getScrollMax:function(){return{left:this.__maxScrollLeft,top:this.__maxScrollTop}},zoomTo:function(e,o,t,_,i){var l=this;if(!l.options.zooming)throw new Error(\"Zooming is not enabled!\");i&&(l.__zoomComplete=i),l.__isDecelerating&&(core.effect.Animate.stop(l.__isDecelerating),l.__isDecelerating=!1);i=l.__zoomLevel,null==t&&(t=l.__clientWidth/2),null==_&&(_=l.__clientHeight/2),e=Math.max(Math.min(e,l.options.maxZoom),l.options.minZoom),l.__computeScrollMax(e),t=(t+l.__scrollLeft)*e/i-t,i=(_+l.__scrollTop)*e/i-_;t>l.__maxScrollLeft?t=l.__maxScrollLeft:t<0&&(t=0),i>l.__maxScrollTop?i=l.__maxScrollTop:i<0&&(i=0),l.__publish(t,i,e,o)},zoomBy:function(e,o,t,_,i){this.zoomTo(this.__zoomLevel*e,o,t,_,i)},scrollTo:function(e,o,t,_){var i=this;if(i.__isDecelerating&&(core.effect.Animate.stop(i.__isDecelerating),i.__isDecelerating=!1),null!=_&&_!==i.__zoomLevel){if(!i.options.zooming)throw new Error(\"Zooming is not enabled!\");e*=_,o*=_,i.__computeScrollMax(_)}else _=i.__zoomLevel;i.options.scrollingX?i.options.paging?e=Math.round(e/i.__clientWidth)*i.__clientWidth:i.options.snapping&&(e=Math.round(e/i.__snapWidth)*i.__snapWidth):e=i.__scrollLeft,i.options.scrollingY?i.options.paging?o=Math.round(o/i.__clientHeight)*i.__clientHeight:i.options.snapping&&(o=Math.round(o/i.__snapHeight)*i.__snapHeight):o=i.__scrollTop,e=Math.max(Math.min(i.__maxScrollLeft,e),0),o=Math.max(Math.min(i.__maxScrollTop,o),0),e===i.__scrollLeft&&o===i.__scrollTop&&(t=!1),i.__publish(e,o,_,t)},scrollBy:function(e,o,t){var _=this,i=_.__isAnimating?_.__scheduledLeft:_.__scrollLeft,l=_.__isAnimating?_.__scheduledTop:_.__scrollTop;_.scrollTo(i+(e||0),l+(o||0),t)},doMouseZoom:function(e,o,t,_){return this.zoomTo(this.__zoomLevel*(0<e?.97:1.03),!1,t-this.__clientLeft,_-this.__clientTop)},doTouchStart:function(e,o){if(null==e.length)throw new Error(\"Invalid touch list: \"+e);if(\"number\"!=typeof(o=o instanceof Date?o.valueOf():o))throw new Error(\"Invalid timestamp value: \"+o);var t,_=this,i=(_.__interruptedAnimation=!0,_.__isDecelerating&&(core.effect.Animate.stop(_.__isDecelerating),_.__isDecelerating=!1,_.__interruptedAnimation=!0),_.__isAnimating&&(core.effect.Animate.stop(_.__isAnimating),_.__isAnimating=!1,_.__interruptedAnimation=!0),1===e.length),e=i?(t=e[0].pageX,e[0].pageY):(t=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2);_.__initialTouchLeft=t,_.__initialTouchTop=e,_.__zoomLevelStart=_.__zoomLevel,_.__lastTouchLeft=t,_.__lastTouchTop=e,_.__lastTouchMove=o,_.__lastScale=1,_.__enableScrollX=!i&&_.options.scrollingX,_.__enableScrollY=!i&&_.options.scrollingY,_.__isTracking=!0,_.__didDecelerationComplete=!1,_.__isDragging=!i,_.__isSingleTouch=i,_.__positions=[]},doTouchMove:function(e,o,t){if(null==e.length)throw new Error(\"Invalid touch list: \"+e);if(\"number\"!=typeof(o=o instanceof Date?o.valueOf():o))throw new Error(\"Invalid timestamp value: \"+o);var _,i,l,n,r,a,c,s,h,p=this;p.__isTracking&&(e=2===e.length?(_=Math.abs(e[0].pageX+e[1].pageX)/2,Math.abs(e[0].pageY+e[1].pageY)/2):(_=e[0].pageX,e[0].pageY),i=p.__positions,p.__isDragging?(c=_-p.__lastTouchLeft,h=e-p.__lastTouchTop,l=p.__scrollLeft,n=p.__scrollTop,r=p.__zoomLevel,null!=t&&p.options.zooming&&(r=(s=r)/p.__lastScale*t,s!==(r=Math.max(Math.min(r,p.options.maxZoom),p.options.minZoom))&&(l=((a=_-p.__clientLeft)+l)*r/s-a,n=((a=e-p.__clientTop)+n)*r/s-a,p.__computeScrollMax(r))),p.__enableScrollX&&(l-=c*this.options.speedMultiplier,((s=p.__maxScrollLeft)<l||l<0)&&(p.options.bouncing?l+=c/2*this.options.speedMultiplier:l=s<l?s:0)),p.__enableScrollY&&(n-=h*this.options.speedMultiplier,((a=p.__maxScrollTop)<n||n<0)&&(p.options.bouncing?(n+=h/2*this.options.speedMultiplier,p.__enableScrollX||null==p.__refreshHeight||(!p.__refreshActive&&n<=-p.__refreshHeight?(p.__refreshActive=!0,p.__refreshActivate&&p.__refreshActivate()):p.__refreshActive&&n>-p.__refreshHeight&&(p.__refreshActive=!1,p.__refreshDeactivate&&p.__refreshDeactivate()))):n=a<n?a:0)),60<i.length&&i.splice(0,30),i.push(l,n,o),p.__publish(l,n,r)):(c=p.options.locking?3:0,s=Math.abs(_-p.__initialTouchLeft),h=Math.abs(e-p.__initialTouchTop),p.__enableScrollX=p.options.scrollingX&&c<=s,p.__enableScrollY=p.options.scrollingY&&c<=h,i.push(p.__scrollLeft,p.__scrollTop,o),p.__isDragging=(p.__enableScrollX||p.__enableScrollY)&&(5<=s||5<=h),p.__isDragging&&(p.__interruptedAnimation=!1)),p.__lastTouchLeft=_,p.__lastTouchTop=e,p.__lastTouchMove=o,p.__lastScale=t)},doTouchEnd:function(e){if(\"number\"!=typeof(e=e instanceof Date?e.valueOf():e))throw new Error(\"Invalid timestamp value: \"+e);var o=this;if(o.__isTracking){if(o.__isTracking=!1,o.__isDragging)if(o.__isDragging=!1,o.__isSingleTouch&&o.options.animating&&e-o.__lastTouchMove<=100){for(var t,_,i=o.__positions,l=i.length-1,n=l,r=l;0<r&&i[r]>o.__lastTouchMove-100;r-=3)n=r;n!==l?(l=i[l]-i[n],_=o.__scrollLeft-i[n-2],t=o.__scrollTop-i[n-1],o.__decelerationVelocityX=_/l*(1e3/60),o.__decelerationVelocityY=t/l*(1e3/60),_=o.options.paging||o.options.snapping?4:1,(Math.abs(o.__decelerationVelocityX)>_||Math.abs(o.__decelerationVelocityY)>_)&&!o.__refreshActive&&o.__startDeceleration(e)):o.options.scrollingComplete()}else 100<e-o.__lastTouchMove&&o.options.scrollingComplete();o.__isDecelerating||(o.__refreshActive&&o.__refreshStart?(o.__publish(o.__scrollLeft,-o.__refreshHeight,o.__zoomLevel,!0),o.__refreshStart&&o.__refreshStart()):((o.__interruptedAnimation||o.__isDragging)&&o.options.scrollingComplete(),o.scrollTo(o.__scrollLeft,o.__scrollTop,!0,o.__zoomLevel),o.__refreshActive&&(o.__refreshActive=!1,o.__refreshDeactivate&&o.__refreshDeactivate()))),o.__positions.length=0}},__publish:function(e,o,t,_){var i,l,n,r,a,c,s=this,h=s.__isAnimating;h&&(core.effect.Animate.stop(h),s.__isAnimating=!1),_&&s.options.animating?(s.__scheduledLeft=e,s.__scheduledTop=o,s.__scheduledZoom=t,i=s.__scrollLeft,l=s.__scrollTop,n=s.__zoomLevel,r=e-i,a=o-l,c=t-n,s.__isAnimating=core.effect.Animate.start(function(e,o,t){t&&(s.__scrollLeft=i+r*e,s.__scrollTop=l+a*e,s.__zoomLevel=n+c*e,s.__callback&&s.__callback(s.__scrollLeft,s.__scrollTop,s.__zoomLevel))},function(e){return s.__isAnimating===e},function(e,o,t){o===s.__isAnimating&&(s.__isAnimating=!1),(s.__didDecelerationComplete||t)&&s.options.scrollingComplete(),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null))},s.options.animationDuration,h?p:m)):(s.__scheduledLeft=s.__scrollLeft=e,s.__scheduledTop=s.__scrollTop=o,s.__scheduledZoom=s.__zoomLevel=t,s.__callback&&s.__callback(e,o,t),s.options.zooming&&(s.__computeScrollMax(),s.__zoomComplete&&(s.__zoomComplete(),s.__zoomComplete=null)))},__computeScrollMax:function(e){var o=this;null==e&&(e=o.__zoomLevel),o.__maxScrollLeft=Math.max(o.__contentWidth*e-o.__clientWidth,0),o.__maxScrollTop=Math.max(o.__contentHeight*e-o.__clientHeight,0)},__startDeceleration:function(e){var o,t,_,i,l=this,n=(l.options.paging?(o=Math.max(Math.min(l.__scrollLeft,l.__maxScrollLeft),0),t=Math.max(Math.min(l.__scrollTop,l.__maxScrollTop),0),_=l.__clientWidth,i=l.__clientHeight,l.__minDecelerationScrollLeft=Math.floor(o/_)*_,l.__minDecelerationScrollTop=Math.floor(t/i)*i,l.__maxDecelerationScrollLeft=Math.ceil(o/_)*_,l.__maxDecelerationScrollTop=Math.ceil(t/i)*i):(l.__minDecelerationScrollLeft=0,l.__minDecelerationScrollTop=0,l.__maxDecelerationScrollLeft=l.__maxScrollLeft,l.__maxDecelerationScrollTop=l.__maxScrollTop),l.options.snapping?4:.1);l.__isDecelerating=core.effect.Animate.start(function(e,o,t){l.__stepThroughDeceleration(t)},function(){var e=Math.abs(l.__decelerationVelocityX)>=n||Math.abs(l.__decelerationVelocityY)>=n;return e||(l.__didDecelerationComplete=!0),e},function(e,o,t){l.__isDecelerating=!1,l.__didDecelerationComplete&&l.options.scrollingComplete(),l.scrollTo(l.__scrollLeft,l.__scrollTop,l.options.snapping)})},__stepThroughDeceleration:function(e){var o,t,_,i=this,l=i.__scrollLeft+i.__decelerationVelocityX,n=i.__scrollTop+i.__decelerationVelocityY;i.options.bouncing||((o=Math.max(Math.min(i.__maxDecelerationScrollLeft,l),i.__minDecelerationScrollLeft))!==l&&(l=o,i.__decelerationVelocityX=0),(o=Math.max(Math.min(i.__maxDecelerationScrollTop,n),i.__minDecelerationScrollTop))!==n&&(n=o,i.__decelerationVelocityY=0)),e?i.__publish(l,n,i.__zoomLevel):(i.__scrollLeft=l,i.__scrollTop=n),i.options.paging||(i.__decelerationVelocityX*=.95,i.__decelerationVelocityY*=.95),i.options.bouncing&&(e=o=0,t=i.options.penetrationDeceleration,_=i.options.penetrationAcceleration,l<i.__minDecelerationScrollLeft?o=i.__minDecelerationScrollLeft-l:l>i.__maxDecelerationScrollLeft&&(o=i.__maxDecelerationScrollLeft-l),n<i.__minDecelerationScrollTop?e=i.__minDecelerationScrollTop-n:n>i.__maxDecelerationScrollTop&&(e=i.__maxDecelerationScrollTop-n),0!==o&&(o*i.__decelerationVelocityX<=0?i.__decelerationVelocityX+=o*t:i.__decelerationVelocityX=o*_),0!==e&&(e*i.__decelerationVelocityY<=0?i.__decelerationVelocityY+=e*t:i.__decelerationVelocityY=e*_))}};for(e in o)ZyngaScroller.prototype[e]=o[e]}();;\nfunction Scroller(t,i,o){this.container=t,this.list=i,this.options=o||{},this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleScroll=this._handleScroll.bind(this),this.silentScrolling=!1,this.zyngaScroller=new ZyngaScroller(this._handleScroll,{scrollingX:\"vertical\"!==this.options.direction,scrollingY:\"horizontal\"!==this.options.direction,bouncing:!!this.options.bouncing,animating:!!this.options.animating,locking:!!this.options.locking,snapping:!!this.options.snapping,animationDuration:void 0!==this.options.animationDuration?this.options.animationDuration:250,scrollingComplete:deferred(this.emits(\"scrollingEnd\"))}),this.setEasing(void 0===this.options.easing||this.options.easing),this.redraw()}extend(Scroller.prototype,EventEmitter),Object.defineProperty(Scroller.prototype,\"isDragging\",{get:function(){return this.zyngaScroller.getValues().isDragging}}),Scroller._owner=\"celtra\",Scroller.prototype._handleScroll=function(t,i){t=isNaN(t)?0:t,i=isNaN(i)?0:i;var o=this.getMaxScroll();this.currentPosition={left:t,top:i,leftPercent:o.left?t/o.left:0,topPercent:o.top?i/o.top:0},celtra.styler.css(this.list,\"transform\",ScreenObject.supports3d?\"translate3d(\"+-t+\"px, \"+-i+\"px, 0)\":\"translate(\"+-t+\"px, \"+-i+\"px)\"),this.scrollbars&&(this.currentPosition.sbTop=this.currentPosition.top/(this.list.size.height-this.container.size.height)*(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeft=this.currentPosition.left/(this.list.size.width-this.container.size.width)*(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this.currentPosition.sbTopPercent=this.currentPosition.sbTop/(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10)),this.currentPosition.sbLeftPercent=this.currentPosition.sbLeft/(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10)),this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)),this.silentScrolling||this.emit(\"scrolling\",this.currentPosition)},Scroller.prototype._handleTouchStart=function(t){this.zyngaScroller.doTouchStart(t.touches,t.timeStamp),this.emit(\"scrollingStart\")},Scroller.prototype._handleTouchMove=function(t){this.zyngaScroller.doTouchMove(t.touches,t.timeStamp)},Scroller.prototype._handleTouchEnd=function(t){this.zyngaScroller.doTouchEnd(t.timeStamp)},Scroller.prototype._createScrollbars=function(){var t=document.createElement(\"div\"),i=(addClass(t,\"celtra-vertical-scrollbar\"),addClass(t,this.options.scrollbarPosition||\"none\"),this.container.appendChild(t),document.createElement(\"div\")),i=(t.appendChild(i),t.style.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+\"px\",t.style.backgroundColor=this.options.scrollbarColor,t.style.display=this.list.size.height<=this.container.size.height?\"none\":\"block\",document.createElement(\"div\")),o=(addClass(i,\"celtra-horizontal-scrollbar\"),addClass(i,this.options.scrollbarPosition||\"none\"),this.container.appendChild(i),document.createElement(\"div\"));i.appendChild(o),i.style.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+\"px\",i.style.backgroundColor=this.options.scrollbarColor,i.style.display=this.list.size.width<=this.container.size.width?\"none\":\"block\",this.scrollbars={vertical:t,horizontal:i,verticalStyle:t.style,horizontalStyle:i.style}},Scroller.prototype.scrollTo=function(t,i,o,e,s,n){this._scroll(\"scrollTo\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype.scrollBy=function(t,i,o,e,s,n){this._scroll(\"scrollBy\",{left:t,top:i,animate:o,duration:e,easing:s,callback:n})},Scroller.prototype._scroll=function(t,i){i.animate&&(\"number\"==typeof i.duration?this._setAnimationDuration(i.duration):\"boolean\"==typeof i.duration&&(i.easing=i.duration),\"boolean\"==typeof i.easing&&this.setEasing(i.easing)),this.once(\"scrollingEnd\",function(){\"function\"==typeof i.callback&&i.callback()}),this.zyngaScroller[t](i.left,i.top,i.animate),this.emit(\"scrollingStart\")},Scroller.prototype.getMaxScroll=function(){return{left:this.zyngaScroller.__maxScrollLeft,top:this.zyngaScroller.__maxScrollTop}},Scroller.prototype.getCurrentScroll=function(){return this.currentPosition},Scroller.prototype._setAnimationDuration=function(t){this.zyngaScroller.options.animationDuration=t},Scroller.prototype.setEasing=function(_){this.options.easing=_,this.zyngaScroller.__publish=function(t,i,o,e){var s,n,r,l,a,c,h,p,d=this,u=d.__isAnimating;u&&(core.effect.Animate.stop(u),d.__isAnimating=!1),e&&d.options.animating?(d.__scheduledLeft=t,d.__scheduledTop=i,d.__scheduledZoom=o,s=d.__scrollLeft,n=d.__scrollTop,r=d.__zoomLevel,l=t-s,a=i-n,c=o-r,e=function(t,i,o){o&&(d.__scrollLeft=s+l*t,d.__scrollTop=n+a*t,d.__zoomLevel=r+c*t,d.__callback&&d.__callback(d.__scrollLeft,d.__scrollTop,d.__zoomLevel))},h=function(t){return d.__isAnimating===t},p=function(t,i,o){i===d.__isAnimating&&(d.__isAnimating=!1),(d.__didDecelerationComplete||o)&&d.options.scrollingComplete(),d.options.zooming&&(d.__computeScrollMax(),d.__zoomComplete&&(d.__zoomComplete(),d.__zoomComplete=null))},d.__isAnimating=_?core.effect.Animate.start(e,h,p,d.options.animationDuration,u?function(t){return Math.pow(t-1,3)+1}:function(t){return(t/=.5)<1?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}):core.effect.Animate.start(e,h,p,d.options.animationDuration)):(d.__scheduledLeft=d.__scrollLeft=t,d.__scheduledTop=d.__scrollTop=i,d.__scheduledZoom=d.__zoomLevel=o,d.__callback&&d.__callback(t,i,o),d.options.zooming&&(d.__computeScrollMax(),d.__zoomComplete&&(d.__zoomComplete(),d.__zoomComplete=null)))}},Scroller.prototype.redraw=function(){this.container.size={width:this.container.offsetWidth,height:this.container.offsetHeight},this.list.size={width:this.list.offsetWidth,height:this.list.offsetHeight},this.zyngaScroller.setDimensions(this.container.size.width,this.container.size.height,this.list.size.width,this.list.size.height),this.options.snapping&&this._setSnapSize(this.container.size.width,this.container.size.height);var t=this.getMaxScroll();this.zyngaScroller.scrollTo(t.left*this.currentPosition.leftPercent,t.top*this.currentPosition.topPercent,!1),this.scrollbars?(this.scrollbars.verticalStyle.height=Math.round(this.container.size.height/this.list.size.height*this.container.size.height)+\"px\",this.scrollbars.horizontalStyle.width=Math.round(this.container.size.width/this.list.size.width*this.container.size.width)+\"px\",this.currentPosition.sbTop=(this.container.size.height-parseInt(this.scrollbars.verticalStyle.height,10))*this.currentPosition.sbTopPercent,this.currentPosition.sbLeft=(this.container.size.width-parseInt(this.scrollbars.horizontalStyle.width,10))*this.currentPosition.sbLeftPercent,this._renderScrollbars(this.currentPosition.sbLeft,this.currentPosition.sbTop)):\"outer\"!==this.options.scrollbarPosition&&\"inner\"!==this.options.scrollbarPosition||this._createScrollbars()},Scroller.prototype._renderScrollbars=function(t,i){ScreenObject.allowPositioningAndSizingUsingTransforms?(celtra.styler.css(this.scrollbars.vertical,\"transform\",ScreenObject.supports3d?\"translate3d(0, \"+i+\"px, 0)\":\"translate(0, \"+i+\"px)\"),celtra.styler.css(this.scrollbars.horizontal,\"transform\",ScreenObject.supports3d?\"translate3d(\"+t+\"px, 0, 0)\":\"translate(\"+t+\"px, 0)\")):(this.scrollbars.verticalStyle.top=i+\"px\",this.scrollbars.horizontalStyle.left=t+\"px\"),(this.container.size.height>=this.list.size.height?(this.scrollbars.verticalStyle.display=\"none\",removeClass):(this.scrollbars.verticalStyle.display=\"block\",addClass))(this.container,\"vertical-scrollbar\"),(this.container.size.width>=this.list.size.width?(this.scrollbars.horizontalStyle.display=\"none\",removeClass):(this.scrollbars.horizontalStyle.display=\"block\",addClass))(this.container,\"horizontal-scrollbar\")},Scroller.prototype._setSnapSize=function(t,i){this.zyngaScroller.setSnapSize(t,i)};;\nfunction convertMetersToUnits(e,t){switch(t){case\"m\":return e;case\"mi\":return 621371e-9*e;case\"km\":return e/1e3;case\"ft\":return 3.28084*e;default:throw\"Unknown unit \"+t}}function metersToDistanceWithUnits(e,t,n,a){var i,r;switch(t){case\"metric\":i=convertMetersToUnits(e,\"km\"),r=a?\"km\":\"kilometers\";break;case\"imperial\":i=convertMetersToUnits(e,\"mi\"),r=a?\"mi\":\"miles\"}var s=\"auto\"===n&&i<.1&&\"imperial\"===t;return\"auto\"===n&&i<1&&\"metric\"===t||\"base\"===n&&\"metric\"===t?(i=e,r=a?\"m\":\"meters\"):(s||\"base\"===n&&\"imperial\"===t)&&(i=convertMetersToUnits(e,\"ft\"),r=a?\"ft\":\"feet\"),{distance:i,unit:r}}function createClustersForIdenticalCoordinates(e){return e.length<2?e:e.reduce(function(e,t){var n,a,i;return e.length?(n=e[e.length-1],i=t,(a=n).lat===i.lat&&a.lng===i.lng?n.size?(n.locations.push(t),n.size++):(i={lat:(a=e.pop()).lat,lng:a.lng,locations:[a,t],size:2},e.push(i)):e.push(t)):e.push(t),e},[])}function sanitizeLocationsData(e){return e.map(function(t){return Object.keys(t).forEach(function(e){\"string\"==typeof t[e]&&(t[e]=htmlentitize(t[e]))}),t})}!function(e){var n=!1,a=!1,i=[];e._googleMapsCb=function(){n=!(a=!0),i.forEach(function(e){e()}),i=[]},e.loadGoogleMaps=function(e){var t=\"\";a?defer(e):(i.push(e),n||(n=!0,creative.runtimeParams.googleMapsClientKey&&(t=\"&key=\"+creative.runtimeParams.googleMapsClientKey),loadJS(\"https://maps.googleapis.com/maps/api/js?v=\"+creative.googleMapsJavaScriptVersion+\"&libraries=places&channel=Runner&callback=_googleMapsCb\"+t)))}}(window);;\nfunction UserLocation(t,i){this._watchId=null,this._TOTAL_GEO_CALL_TIMEOUT=15e3,this._GEO_GPS_SEARCH_TIMEOUT=1e4,this.geolocationOptions={enableHighAccuracy:!0,timeout:this._GEO_GPS_SEARCH_TIMEOUT},this._baseLocation=t,this._allowGpsUnitWithoutInteraction=i,this._watchListeners={},this._watchCtr=1,this._lastPosition={lat:\"\",lng:\"\"},this._watchErrorCalled=!1}UserLocation.prototype.getLocation=function(i,t,s){var o=function(t){this.unwatchLocation(n),i(t)}.bind(this),a=function(){this.unwatchLocation(n),t()}.bind(this),n=this.watchLocation(o,a,s)},UserLocation.prototype.watchLocation=function(t,i,s){var o,a,n,h=creative.runtimeParams.ipLat,e=creative.runtimeParams.ipLng,c=null!=h&&null!=e;if(s=s||this.geolocationOptions,this._baseLocation.lat&&this._baseLocation.lng)t(this._baseLocation);else{if(navigator.geolocation&&(this._allowGpsUnitWithoutInteraction||creative.getUserInteracted())&&!s.isGeolocationPromptDisabled)return s.timeout=this._GEO_GPS_SEARCH_TIMEOUT,this._watchListeners[this._watchCtr]={success:t,error:i},this._watchId?this._lastPosition.lat&&this._lastPosition.lng?t(this._lastPosition):this._watchErrorCalled&&i():(o=!1,a=function(t){if(!o){for(var i in this._lastPosition={lat:t.coords.latitude,lng:t.coords.longitude},this._watchListeners)this._watchListeners[i].success(this._lastPosition);o=!0}}.bind(this),n=function(){if(!o){for(var t in this._watchErrorCalled=!0,this._watchListeners)c?this._watchListeners[t].success({lat:h,lng:e}):this._watchListeners[t].error();o=!0}}.bind(this),setTimeout(n,this._TOTAL_GEO_CALL_TIMEOUT),this._watchId=navigator.geolocation.watchPosition(a,n,s)),this._watchCtr++;c?t({lat:h,lng:e}):i()}},UserLocation.prototype.unwatchLocation=function(t){for(var i in t&&this._watchListeners[t]&&delete this._watchListeners[t],this._watchListeners)if(this._watchListeners[i])return;this._watchId&&(navigator.geolocation.clearWatch(this._watchId),this._watchId=null,this._watchErrorCalled=!1)};;\nfunction Creative(e,t,r,n,i,a,o,s,u,c,d,m,p){if(e instanceof Creative)throw\"This JSON has already been unfreezed. We do it inline, to improve performance. Duplicate it yourself before unfreezing, if you need to use it again.\";var f=p.start(\"Creative.new\"),s=extend({adapter:a,runtimeParams:t||{},urlOpenedOverrideUrls:s,urlOpenedUrlAppendage:d,clickThroughDestinationUrl:m,storeOpenedOverrideUrls:u,macros:c},o),d=p.start(\"Creative.unfreeze\");return e=Freezer.unfreeze(e,window,s),d.end(),e.instantiation=randInt(),e.batcher=new Batcher({protoLoading:a.protoLoading}),e.trackingCenter=r,e.universalInteractionId=\"\",e.aggregatorTracking=n,e.experiments=i,e.perf=p,e.platformAdvId=t.platformAdvId,e.platformAdvIdTrackingLimited=t.platformAdvIdTrackingLimited,null!=a&&(a.openBrowserSameWindowInHostileIFrame=function(e){window.top.location.href=e}),f.end(),e}Creative.toString=function(){return\"[Clazz Creative]\"},Creative.prototype.toString=function(){return\"[Creative \"+this.name+\"]\"},window.creative=null,extend(Creative.prototype,EventEmitter),Creative.init=function(e,t,r,n,i,a,o,s,u,c,d,m,p){if(window.creative)throw\"creative is a singleton and was already initialized.\";Logger.initFromRuntimeParams(t),window.creative=new Creative(e,t,r,n,i,a,o,s,u,c,d,m,p)},Creative.prototype.userInteracted=function(e){this.emit(\"interaction\",e)},Creative.prototype.clickedThrough=function(e){this.emit(\"clickThrough\",e)},Creative.prototype._getRuntimeParamsWithPrefix=function(e){var t,r={};for(t in this.runtimeParams)0===t.indexOf(e)&&(r[t.slice(e.length)]=this.runtimeParams[t]);return r},Object.defineProperties(Creative.prototype,{sessionId:{enumerable:!0,get:function(){return this.runtimeParams.sessionId}},placementId:{enumerable:!0,get:function(){return this.runtimeParams.placementId||null}},folderId:{enumerable:!0,get:function(){return this.runtimeParams.folderId}},supplierId:{enumerable:!0,get:function(){return this.runtimeParams.supplierId||null}},secure:{enumerable:!0,get:function(){return 1==this.runtimeParams.secure}},userParams:{enumerable:!0,get:function(){return this._getRuntimeParamsWithPrefix(\"user.\")}},userIdentifiers:{enumerable:!0,get:function(){return this.runtimeParams.userIdentifiers}},authTokenUrlParam:{enumerable:!1,get:function(){return\"authBasis=\"+creative.runtimeParams.authBasis+\"&authToken=\"+creative.runtimeParams.authToken}},customAudiences:{enumerable:!0,get:function(){return function(t){if(creative.runtimeParams.customAudiences[t])return{userExists:creative.runtimeParams.customAudiences[t].userExists,userData:creative.runtimeParams.customAudiences[t].userData,addUser:function(e){return CustomAudiences.addUser(t,e)},removeUser:function(){return CustomAudiences.removeUser(t)}};throw new Error('Custom audience \"'+t+'\" is not used by the creative.')}}},acceptLanguage:{enumerable:!0,get:function(){return this.runtimeParams.acceptLanguage}}}),Creative.prototype.awake=function(){function o(e,t,r,n){e.forEach(function(e){e.parentUnit=n,e.parentScreen=r,e.parentContainer=t})}for(var e in this.units){var t=this.units[e],r=(t.name=e,[]);t.variants?t.variants.forEach(function(e){r=r.concat(e.master,e.screens),e.loadingScreen&&(r=[e.loadingScreen].concat(r))}):(r=[t.master].concat(t.screens),t.loadingScreen&&(r=[t.loadingScreen].concat(r))),r.forEach(function(e){e.parentUnit=t,function r(e,n,i,a){e.forEach(function(t){t.parentUnit=a,t.parentScreen=i,t.parentContainer=n,t.getNestedContainers().forEach(function(e){e.parentUnit=a,e.parentScreen=i,e.parentObject=t,r(e.objects,e,i,a),e.scenes&&o(e.scenes,e,i,a)})})}(e.objects,e,e,t),e.scenes&&o(e.scenes,e,e,t)})}},Creative.prototype.track=function(e,t){0<=[\"firstInteraction\",\"interaction\",\"endCardInteraction\",\"unitCollapsed\",\"creativeDismissed\",\"clickThroughDestinationOpened\",\"firstClickThrough\",\"itemSwiped\"].indexOf(e.name)&&(e=extend(e,{universalInteractionId:this.universalInteractionId})),this.trackingCenter.track(e,t)},Creative.prototype.setUniversalInteractionId=function(e){this.universalInteractionId=e},Creative.prototype.wrapRedirectPageUrl=function(e,t){return this.trackingCenter.wrapRedirectPageUrl(e,t)},Object.defineProperty(Creative.prototype,\"sdk\",{get:function(){return this.adapter},enumerable:!0}),Creative._throw=function(e){throw e},Creative.prototype.getUserInteracted=function(){return 1==this.runtimeParams.userInteracted},Creative.prototype.trackCreativeRendered=function(){creative.adapter.notifycreativeRendered(),this._getCreativeRendered()||(this.track({name:\"creativeRendered\"}),this.runtimeParams.creativeRendered=1,defer(this.trackingCenter.batchFlush))},Creative.prototype._getCreativeRendered=function(){return 1===this.runtimeParams.creativeRendered},Creative.prototype.trackCreativeRenderedOnScreenShow=Creative.prototype.trackCreativeRendered,Creative.prototype.trackCreativeRenderedOnVideoStart=noop,Creative.trackCustomEventAction=function(e,t,r){e.track({name:\"custom\",label:t.name}),creative.adapter.sendToEventMonitor(\"custom\",t.triggerId,e.screen.name,null,t.name,e.initiatedBeforeScreenShown()),r&&r()},Creative.prototype.trackCreativeLoaded=function(e){this.track({name:\"creativeLoaded\",viewability00Measurable:e.observingViewability(\"00\"),viewability501Measurable:e.observingViewability(\"501\"),viewableTimeMeasurable:e.observingViewableTime(),cdnVariant:this.runtimeParams.variantChoices.CdnTiming||\"none\"}),defer(this.trackingCenter.batchFlush),this.perf._stopTrackingDefers=!0,this.perf.mark(\"creativeLoaded\")},Creative.prototype.createUserLocation=function(e){if(\"undefined\"!=typeof UserLocation)return new UserLocation({lat:this.runtimeParams.gpsLat,lng:this.runtimeParams.gpsLng},e)},Creative.prototype.getPageUrl=function(e){return(this.secure?this.creativeUrl:this.insecureCreativeUrl)+e+\"?base64json=\"+encodeURIComponent(btoa(to_utf8(JSON.stringify(this.runtimeParams))))},Creative.prototype.shouldClickThroughToNewWindow=function(e){var t=0<=[\"same\",\"new\"].indexOf(this.runtimeParams.preferredClickThroughWindow)?this.runtimeParams.preferredClickThroughWindow:\"new\",e=(creative&&creative.adapter.nesting.hostileIframe&&(t=\"new\"),e&&e.inUserInitiatedIteration),r=deviceInfo.os.android()&&deviceInfo.browser.facebookApp();return\"new\"==t&&e&&!r},Creative.prototype.getFeedFields=function(){return FeedData.getCustomFields()},Creative.prototype.getFeedFieldByName=function(e){return FeedData.getCustomFieldByName(e)},Creative.prototype.getAllFeedFieldsByName=function(t){return FeedData.getCustomFields().filter(function(e){return e.name===t})};;\nfunction ExpandableBanner(){}inherit(ExpandableBanner,Creative),ExpandableBanner.toString=function(){return\"[Clazz ExpandableBanner]\"},ExpandableBanner.prototype.toString=function(){return\"[ExpandableBanner \"+this.name+\"]\"},ExpandableBanner.prototype.awake=function(){ExpandableBanner.uber.awake.call(this),this.adapter.wrapRedirectPageUrl=this.wrapRedirectPageUrl.bind(this),this.adapter.getModalUrl=function(e){return creative.getPageUrl(e||\"modal.html\")}.bind(this),this.units.banner.expandAction=function(e,a,t){this._assertAppearBeforeExpand(),void 0!==a.destinationPage&&null!==a.destinationPage&&(creative.runtimeParams.goToPageAfterExpand=a.destinationPage),e.track({name:\"expandRequested\"}),e.trackClickThrough(),creative.adapter.expand(t,a)},this.units.banner.dismissAction=function(e,a,t){e.track({name:\"creativeDismissed\"}),creative.adapter.dismiss(t,a)},this.units.modal.collapseAction=function(e,a,t){e.track({name:\"unitCollapsed\"}),creative.adapter.collapse(t,a)},this.units.modal.dismissAction=function(e,a,t){e.track({name:\"creativeDismissed\"}),creative.adapter.dismiss(t,a)},this.units.banner.trackCreativeDismissed=function(){new ActionContext(this.visibleScreen).track({name:\"creativeDismissed\"})},this.units.banner.userLocation=this.createUserLocation(!1),this.units.modal.userLocation=this.createUserLocation(!0)};;\nvar Kernel={toString:function(){return\"[Clazz Kernel]\"},runInParallelAction:function(t,e,n){e.actions.waitForEach(function(e,n){e(t,n)},n)}};Kernel.runInParallelActionDryRun=Kernel.runInParallelAction,Kernel.runInBackgroundAction=function(e,n,t){n.action&&n.action(e,noop),t()},Kernel.runInSequenceAction=function(t,e,n){for(var r=n,i=e.actions.length-1;0<=i;i--)r=function(e,n){return function(){n(t,e)}}(r,e.actions[i]);r()},Kernel.runInSequenceActionDryRun=Kernel.runInSequenceAction,Kernel.runNTimesAction=function(e,n,t){n.caller.hasOwnProperty(\"executionsLeft\")||(n.caller.executionsLeft=n.repeat),0<n.caller.executionsLeft?(n.caller.executionsLeft--,(n.action||nullai)(e,t)):t&&t()},Kernel.runNTimesActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.loopAction=function(n,t,r){var i=t.repeat;!function e(){if(0==i)return r();-1!=i&&i--;(t.action||nullai)(n,\"thumb\"===creative.runtimeParams.purpose?r:e)}()},Kernel.loopActionDryRun=function(e,n,t){(n.action||nullai)(e,t)},Kernel.sleepAction=function(e,n,t){setTimeout(t,n.duration)},Kernel.executeJavascriptAction=function(e,n,t){try{var r=e.initiator,i=e.screen.parentUnit,c=e.screen,a=new Function(\"ctx\",\"c\",\"unit\",\"screen\",\"variant\",n.script.code),o=!1,u=i.getVariantForScreen?i.getVariantForScreen(c):void 0,l=(null!==n.script.code.match(/http:/)&&this._track(\"executeJavascriptAction.code\"),function(){o?console.warn('Multiple calls made to \"c()\" from \"'+e.initiator.fieldName+'\" Execute JS Action'):(t(),o=!0)}.bind(this));a.call(r,e,l,i,c,u)}catch(e){console.error(e.message+\"\\n\"+e.stack)}},Kernel.randomAction=function(e,n,t){var r=0;if(n.outcomes.forEach(function(e){r+=e.weight}),!r)return t();for(var i=Math.random()*r,c=0;c<n.outcomes.length;c++){var a=n.outcomes[c];if((i-=a.weight)<0)return(a.action||nullai)(e,t)}},Kernel.randomActionDryRun=function(n,e,t){e.outcomes.forEach(function(e){(e.action||nullai)(n,noop)}),t()},Kernel.bestAction=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]),i=(r.trackExposure(),n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0]);((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.bestActionDryRun=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]),i=n.outcomes.filter(function(e){return e.experimentVariant==r.chosenVariant})[0];((i||n.outcomes[0]).action||nullai)(e,t)},Kernel.trackBestVariantSuccessAction=function(e,n,t){var r=creative.experiments.get(\"Best\",[creative.id,n.experimentName]);r.trackSuccess(),creative.adapter.sendToEventMonitor(\"trackBestVariantSuccess\",n.triggerId,e.screen.name,r.chosenVariant,\"\",e.initiatedBeforeScreenShown()),t()},Kernel._track=function(e){this._privateApiTracked=this._privateApiTracked||{},this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\"retiredFeatureUsed\",featureType:\"loadingInsecureContent\",featureName:e}))};;\n;\nvar StaticContentMixin={requiresBakingAnimatedClass:!1,getContentDrive(){return\"static\"},prepareFrame:function(){},hasBakingAnimatedClass(a){return hasClass(a,\"baking-animated\")},setBakingAnimatedClass(a,i){this.requiresBakingAnimatedClass&&!i?addClass(a,\"baking-animated\"):!this.requiresBakingAnimatedClass&&i&&removeClass(a,\"baking-animated\")}};;\nfunction Scene(){}Scene.instances=[],Scene.prototype.awake=function(){this._framesPerSecond=this.framesPerSecond&&null!==this.framesPerSecond?this.framesPerSecond:20,this._framesPerPixel=.1,this._durationInFrames=0,this._durationInMilliseconds=0,this._durationInPixels=0,this._isTimeScene=\"time\"===this.type,this._isReactiveScene=\"reactiveBanner\"===this.type,this._lastUpdateObjectsProgress=0,this._objectVisibilityStates=[],this._claimedObjects=[],this._keyframeAnimations=Object.create(null),this._rawInitialValues=[],this._initSceneOnRenderApiCall=!0,this._suspended=!1,this.fallbackFrameShown=!1,this.forceFallbackFrame=!1,this.intersection=void 0!==this.intersection?this.intersection:50,this.endingMode=\"string\"==typeof this.endingMode?this.endingMode:\"lastKeyframe\",this.duration=\"number\"==typeof this.duration?this.duration:10,this._appearedBefore=!1,this._isAppearing=!1,this._calculateDurations=this._calculateDurations.bind(this),this._buildKeyframeAnimations=this._buildKeyframeAnimations.bind(this),this._removeAnimatedClass=this._removeAnimatedClass.bind(this),this._renderOnSizeChange=this._renderOnSizeChange.bind(this),this._initPlayer(),this.parentContainer.on(\"appeared\",this._appear.bind(this)),this.parentContainer.on(\"disappeared\",this._dissapear.bind(this)),this.parentContainer.on(\"resize\",this._calculateDurations),this.parentContainer.on(\"resize\",this._buildKeyframeAnimations),this.parentContainer.on(\"resize\",this._renderOnSizeChange),this.parentUnit.on(\"layoutChanged\",this._calculateDurations),this.parentUnit.on(\"layoutChanged\",this._buildKeyframeAnimations),this.parentUnit.on(\"layoutChanged\",this._renderOnSizeChange),Scene.instances.push(this)},Scene._sizeProperties=[\"width\",\"height\"],Scene._positionProperties={horizontal:[\"left\",\"hcenter\",\"right\"],vertical:[\"top\",\"vcenter\",\"bottom\"]},Object.defineProperties(Scene.prototype,{paused:{get:function(){return this._player.paused}},_scenePlayerClazz:{get:function(){return window[this.type.charAt(0).toUpperCase()+this.type.slice(1)+\"ScenePlayer\"]},configurable:!0}}),Scene.prototype._initPlayer=function(){this._player=new this._scenePlayerClazz(this),this._player.on(\"stop\",this._resetRawInitialValues.bind(this)),this._player.on(\"end\",this._updateRawFinalValuesForAllLayouts.bind(this)),this._player.on(\"pause\",this._removeAnimatedClass),this._player.on(\"stop\",this._removeAnimatedClass)},Scene.prototype._removeAnimatedClass=function(){for(var e in this._claimedObjects)removeClass(this._claimedObjects[e].node,\"animated\")},Scene.prototype._getMaxFrameNumber=function(){if(this._isTimeScene&&\"timelineDuration\"===this.endingMode)return this.duration*this._framesPerSecond;var e,t=0;for(e in this.objects){var i,n=this.objects[e],a=this.parentUnit.layoutCurrentIndex;for(i in n.layoutSpecificValues[a])var s=n.layoutSpecificValues[a][i],t=Math.max(t,s.frame)}return t},Scene.prototype._calculateDurations=function(){this._durationInFrames=this._getMaxFrameNumber(),this._durationInMilliseconds=this._durationInFrames/this._framesPerSecond*1e3,this._durationInPixels=this._durationInFrames/this._framesPerPixel},Scene.prototype._captureRawInitialValues=function(e){this._rawInitialValues[e.localId]=[];for(var t=this.parentScreen.parentContainer.layouts.length,i=0;i<t;i++){var n=e.layoutSpecificValues[i];this._rawInitialValues[e.localId][i]=extend({rotation:n.rotation,opacity:n.opacity,hidden:n.hidden},n.position,n.size)}},Scene.prototype._calculateFinalValuesForObject=function(e){var t,i=[];for(t in this.objects){var n=this.objects[t];if(n.target.localId==e.localId)for(var a in n.layoutSpecificValues)for(var s in i[a]=Object.create(null),n.layoutSpecificValues[a]){var r,o=n.layoutSpecificValues[a][s];for(r in o.properties)null!==o.properties[r].value&&(i[a][r]=o.properties[r].value)}}return i},Scene.prototype._updateRawFinalValuesForAllLayouts=function(){if(\"reverse\"!==this.onEnd)for(var e in this._claimedObjects)for(var t=this._claimedObjects[e],i=this._calculateFinalValuesForObject(t),n=this.parentScreen.parentContainer.layouts.length,a=0;a<n;a++){var s=t.layoutSpecificValues[a],r=i[a];Scene._updateLayoutWithValues(s,r)}},Scene.prototype._buildKeyframeAnimations=function(){this._keyframeAnimations=Object.create(null);for(var e=this.parentUnit.layoutCurrentIndex,t=0;t<this.objects.length;t++){for(var i=this.objects[t],n=i.layoutSpecificValues[e],a=(this._keyframeAnimations[i.target.localId]={firstFrameAnimated:!1},n.sort(function(e,t){return e.frame-t.frame}),0),s=Object.create(null),r=0;r<n.length;r++){var o=n[r],a=0===this._durationInFrames?0:o.frame/this._durationInFrames*100;s[String(a)]=Scene._extractPropertyValues(o.properties),0==~~r&&(this._keyframeAnimations[i.target.localId].startKeyframe=a)}this._keyframeAnimations[i.target.localId].endKeyframe=a;var l,c=KeyframeAnimation.getUsedProperties(s),h=(this._rawInitialValues[i.target.localId]||this._captureRawInitialValues(i.target),this._rawInitialValues[i.target.localId][e]),p=(Scene._fillInInitialAndDynamicKeyframeValues(s,h,c),i.target.parentContainer.size);for(l in s)Scene._keyframeWithUnitsToKeyframePx(s[l],p);h=new KeyframeAnimation(s,null,c);this._keyframeAnimations[i.target.localId].animation=h}},Scene.prototype._dissapear=function(){this._player.paused&&!this.fallbackFrameShown||this._suspendScene(),this._isAppearing=!1},Scene.prototype._appear=function(){this._appearedBefore||(creative.adapter.canMeasureViewportPlacementGeometry?this.parentScreen.parentContainer.inView.on(\"areaInViewRatioChanged\",this._handleAreaInViewRatioChanged.bind(this)):creative.adapter.containerViewabilityObserver&&creative.adapter.on(\"containerViewableChange\",this._handleContainerViewableChange.bind(this))),(this._player.supportsAutoplay&&this.autoPlay&&!this._appearedBefore||this._suspended)&&this._playSceneOrDisplayFallbackFrame(),this._appearedBefore=!0,this._isAppearing=!0},Scene.prototype._initAnimations=function(){for(var e in this.objects){e=this.objects[e].target;this.claimObject(e)}this._calculateDurations(),this._buildKeyframeAnimations()},Scene.prototype._playSceneOrDisplayFallbackFrame=function(){this._initSceneOnRenderApiCall||this._resetRawInitialValues(),this._initSceneOnRenderApiCall=!0,this.fallbackFrameShown=this._player.supportsFallback&&(!creative.adapter.assumeScrollSupported||this.forceFallbackFrame),!this._player.paused&&this.fallbackFrameShown&&this._player.pause(),this._suspended||this._initAnimations(),this.fallbackFrameShown?this._player.displayFallbackFrame(this.fallbackFrame/this._durationInFrames*100):this._player.play(),this._suspended=!1},Scene.prototype._pauseScene=function(){this._player.pause()},Scene.prototype._stopScene=function(){this._player.stop()},Scene.prototype._resetRawInitialValues=function(){for(var e in this.objects)delete this._rawInitialValues[this.objects[e].target.localId]},Scene.prototype._suspendScene=function(){this._player.pause(),this._suspended=!0},Scene.prototype._handleAreaInViewRatioChanged=function(e){0<e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():0!==e||this._player.paused||this._suspendScene()},Scene.prototype._handleContainerViewableChange=function(e){e&&this._suspended&&this._isAppearing?this._playSceneOrDisplayFallbackFrame():e||this._player.paused||this._suspendScene()},Scene.prototype.getDuration=function(){return{frames:this._durationInFrames,pixels:this._durationInPixels,milliseconds:this._durationInMilliseconds}},Scene.prototype._calculateKeyframeStyleAttributes=function(e){var t=this._claimedObjects.indexOf(e);return-1===t?{}:(t=this._objectVisibilityStates[t],e=e._calculateNewStyleAttributes(),t.isDirty(\"transition\")&&(\"show\"===t.transition?e.display=\"block\":\"hide\"===t.transition&&(e.display=\"none\")),e)},Scene.prototype.updateObjects=function(e){for(var t in this._claimedObjects){var i=this._claimedObjects[t];if(i.node){if(i.isAnimated){var n=this._keyframeAnimations[i.localId],a=e>=n.startKeyframe,s=e<=n.endKeyframe||!n.firstFrameAnimated,r=this._lastUpdateObjectsProgress>n.startKeyframe&&e<n.startKeyframe,o=this._lastUpdateObjectsProgress<n.endKeyframe&&e>n.endKeyframe,r=this._isReactiveScene&&(r||o);if(a&&s||this.fallbackFrameShown||r)n.firstFrameAnimated=!0,hasClass(i.node,\"animated\")||addClass(i.node,\"animated\");else{if(!hasClass(i.node,\"animated\"))continue;removeClass(i.node,\"animated\")}}o=this._keyframeAnimations[i.localId].animation.getValuesAt(e);Scene._updateLayoutWithValues(i.layoutCurrent,o,this._objectVisibilityStates[t]),i._keyframeStyle=this._calculateKeyframeStyleAttributes(i)}}this._lastUpdateObjectsProgress=e},Scene.prototype.renderObjects=function(){for(var e in this._claimedObjects){var t=this._claimedObjects[e];t.node&&((e=this._objectVisibilityStates[e]).isDirty(\"transition\")&&(\"show\"===e.transition?t.showAction(null,{},noop):\"hide\"===e.transition&&t.hideAction(null,{},noop),e.markClean(\"transition\")),t._applyStyles(t.node,t._keyframeStyle),t.redrawSceneLayout())}},Scene.prototype.getPlayer=function(){return this._player},Scene.prototype.claimObject=function(e){if(-1===this._claimedObjects.indexOf(e)){for(var t=0;t<Scene.instances.length;t++){var i=Scene.instances[t];i!==this&&(i.releaseObject(e),delete this._rawInitialValues[e.localId])}this._claimedObjects.push(e),this._objectVisibilityStates.push(new StateObject({transition:void 0}))}e._keyframeStyle=e._calculateNewStyleAttributes(),Scene._stopScenePlayersWithNoClaimedObjects()},Scene.prototype.releaseObject=function(e){e=this._claimedObjects.indexOf(e);this._initSceneOnRenderApiCall=!0,-1!==e&&(delete this._claimedObjects[e]._keyframeStyle,this._claimedObjects=this._claimedObjects.slice(0,e).concat(this._claimedObjects.slice(e+1)),this._objectVisibilityStates=this._objectVisibilityStates.slice(0,e).concat(this._objectVisibilityStates.slice(e+1)))},Scene.prototype.renderFirstFrame=function(){this._initAnimations(),this._renderAtProgress(0)},Scene.prototype._renderAtProgress=function(e){e=this.fallbackFrameShown?this.fallbackFrame/this._durationInFrames*100:void 0!==e?e:this._player.progress,this.updateObjects(e),this.renderObjects()},Scene.prototype._renderOnSizeChange=function(e){this._player.paused&&0<this._claimedObjects.length&&(this._renderAtProgress(e),this._removeAnimatedClass())},Scene.prototype.renderAtProgress=function(e){this._player.paused&&void 0!==e&&(this._initSceneOnRenderApiCall&&(this._initSceneOnRenderApiCall=!1,this._initAnimations()),this._renderAtProgress(e))},Scene.prototype.playSceneAction=function(e,t,i){var n=-1===[\"repeat\",\"reverse\"].indexOf(this.onEnd),a=\"repeat\"==this.onEnd&&!isNaN(this.onEndRepeatCount)&&0<this.onEndRepeatCount,s=\"reverse\"==this.onEnd&&!isNaN(this.onEndReverseCount)&&0<this.onEndReverseCount,a=this.onEndWaitForCount&&(a||s);n||a?(this._player.once(\"stop\",i),this._playSceneOrDisplayFallbackFrame()):(this._playSceneOrDisplayFallbackFrame(),i())},Scene.prototype.pauseSceneAction=function(e,t,i){\"time\"===this.type&&(this._pauseScene(),i())},Scene.prototype.stopSceneAction=function(e,t,i){\"time\"===this.type&&(this._stopScene(),i())},Scene.prototype.resetAction=function(e,t,i){this._player&&(this._stopScene(),this._player.destroy()),this._initPlayer(),this._suspended=!1,this._claimedObjects.forEach(function(e){this.releaseObject(e)},this),i()},Scene._extractPropertyValues=function(e){var t,i=Object.create(null);for(t in e){var n=e[t].timingFunction;n&&(n.instance=Scene._getTimingFunctionByName(n.id)),i[t]={value:e[t].value,timingFunction:n}}return i},Scene._keyframeWithUnitsToKeyframePx=function(e,t){for(var i,n=0;n<Scene._sizeProperties.length;n++){var a,s,r=Scene._sizeProperties[n];r in e&&(a=e[r].value,s=parseFloat(a),isNaN(s)||(-1<a.indexOf(\"%\")&&(s=s/100*t[r]),e[r].value=s))}for(i in Scene._positionProperties)for(var o=\"horizontal\"==i?\"width\":\"height\",l=Scene._positionProperties[i],c=0;c<l.length;c++){var h,p,d=l[c];d in e&&(h=e[d].value,p=parseFloat(h),isNaN(p)||(-1<h.indexOf(\"%\")&&(p=p/100*t[o]),e[d].value=p))}},Scene._getTimingFunctionByName=function(e){return e?AnimationTimingFunctions[camelize(e)]:null},Scene._fillInInitialAndDynamicKeyframeValues=function(e,t,i){var n,a,s=Object.keys(e),r=Math.min.apply(null,s);for(n in 0<r&&(e[r=0]=Object.create(null)),t)!e[r][n]&&-1<i.indexOf(n)&&(e[r][n]={value:t[n],timingFunction:{id:\"none\",instance:Scene._getTimingFunctionByName(\"none\")}});for(a in e)for(var o in e[a])e[a][o]&&null===e[a][o].value&&(e[a][o].value=t[o])},Scene._ensureSizeOrPositionValueHasUnits=function(e){return-1<(e=String(e)).indexOf(\"%\")||-1<e.indexOf(\"px\")?e:e+\"px\"},Scene._calcChangedPosition=function(e,t){var i,n=extend({},e),a=!1;for(i in Scene._positionProperties)for(var s=Scene._positionProperties[i],r=0;r<s.length;r++){var o=s[r];if(o in t){for(var l=0;l<s.length;l++)delete n[s[l]];n[o]=Scene._ensureSizeOrPositionValueHasUnits(t[o]),a=!0}}return a?n:null},Scene._updateLayoutWithValues=function(e,t,i){var n=Scene._calcChangedPosition(e.position,t);n&&(e.position=n),\"width\"in t&&(e.size.width=Scene._ensureSizeOrPositionValueHasUnits(t.width)),\"height\"in t&&(e.size.height=Scene._ensureSizeOrPositionValueHasUnits(t.height)),\"rotation\"in t&&(e.rotation=t.rotation),\"opacity\"in t&&(e.opacity=t.opacity),\"hidden\"in t&&(i?e.hidden&&!t.hidden?i.transition=\"show\":!e.hidden&&t.hidden&&(i.transition=\"hide\"):e.hidden=t.hidden)},Scene._stopScenePlayersWithNoClaimedObjects=function(){for(var e=0;e<Scene.instances.length;e++){var t=Scene.instances[e];0!=t._claimedObjects.length||t.paused||t._player.stop()}};;\nfunction View(){}extend(View.prototype,EventEmitter),View.prototype.awake=function(){this.node=null,this._loadingCount=null,this._waitingForLoadCallbacks=[],this._isAppearing=!1,this._hasAppearedAtLeastOnce=!1,this._shouldAppear=!1,this.incrementLoadingCount=this.incrementLoadingCount.bind(this),this.decrementLoadingCount=this.decrementLoadingCount.bind(this),this._preloadImage=this._preloadImage.bind(this),this._loadImage=this._loadImage.bind(this),this._trackViewShown=this._trackViewShown.bind(this),this.isTrackable&&this.once(\"appeared\",this._trackViewShown),this.hacks={}},View.prototype.incrementLoadingCount=function(){if(this.loaded)throw\"Starting loads after the view has already finished loading?\";this._loadingCount++},View.prototype.decrementLoadingCount=function(){if(!this.loading)throw\"decrementLoadingCount called while not loading!\";if(!--this._loadingCount){this.finishedLoading();for(var e=this._waitingForLoadCallbacks,t=0;t<e.length;t++)e[t]();this._waitingForLoadCallbacks=[]}},View.prototype._checkAndEnhanceParamsForFileLoading=function(e,t,i){if(e instanceof File)return\"function\"==typeof t?(i=t,t={}):void 0===t&&(t={}),{settings:t,callback:i||noop};throw\"file is not a File\"},View.prototype._preloadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),a=(this.incrementLoadingCount(),creative.perf.start(\"View.preloadImage\",{uri:e.getUrl(n.settings.creativeUnitVariantId)}));this._loadImage(e,n.settings,function(e,t){a.end(),n.callback(e,t),this.decrementLoadingCount()}.bind(this))},View.prototype._loadImage=function(e,t,i){var n=this._checkAndEnhanceParamsForFileLoading(e,t,i),t=\"batching\"===creative.runtimeParams.variantChoices.BatchComponentAssets||n.settings.preferBatching,a=new Image,o=!1;return e.getDataUri({preferBatching:t,creativeUnitVariantId:n.settings.creativeUnitVariantId},function(e){o||(n.settings.crossOrigin&&(a.crossOrigin=n.settings.crossOrigin),a.onload=a.onerror=function(){a.onload=a.onerror=null,n.callback(a,e)},a.src=e)}),function(){o=!0,a.onload=a.onerror=null,a.src=\"\"}},View.prototype.finishedLoading=function(){this.emit(\"loaded\")},Object.defineProperty(View.prototype,\"loaded\",{get:function(){return this.node&&!this.loading}}),Object.defineProperty(View.prototype,\"loading\",{get:function(){return 0<this._loadingCount}}),View.prototype.createNode=function(){this.on(\"loaded\",creative.perf.start(\"View.load\",{clazz:this.constructor.name,name:this.name}).end);var e=\"undefined\"!=typeof creative&&creative.runtimeParams&&\"1\"==creative.runtimeParams.useComponentNameAsDataAttribute,t=document.createElement(\"div\");\"undefined\"!=typeof creative&&creative.adapter&&creative.adapter.useNativeClickForTapDetection&&(t.style.touchAction=\"manipulation\"),this.localId&&(t.id=\"celtra-object-\"+this.localId);for(var i=this.constructor;i;i=i.uber?i.uber.constructor:void 0){var n=i.name;n.endsWith(\"ECD\")&&(n=n.substring(0,n.length-3)),addClass(t,\"celtra\"+n.replace(/[A-Z]/g,function(e){return\"-\"+e.toLowerCase()}))}return e&&\"string\"==typeof this.name&&t.setAttribute(\"data-object-name\",this.name),t},View.prototype.getNode=function(e){return this.loaded?e&&defer(e,0,\"View.getNode defer finishedLoadingCallback\",useAsap()):(e&&this._waitingForLoadCallbacks.push(e),this.node||(this.incrementLoadingCount(),this.node=this.createNode(),defer(this.decrementLoadingCount,0,\"View.getNode defer decrementLoadingCount\",useAsap()))),this.node},Object.defineProperty(View.prototype,\"isAppearing\",{get:function(){return this._isAppearing}}),Object.defineProperty(View.prototype,\"hasAppearedAtLeastOnce\",{get:function(){return this._hasAppearedAtLeastOnce}}),View.prototype.appear=function(){var e=\"View APPEAR called on \"+this.constructor.name+\" \"+this.localId+\" (name=\"+this.name+\")\";this.parentContainer&&(e+=\" from \"+this.parentContainer.constructor.name+\" \"+this.parentContainer.localId+\" (name=\"+this.parentContainer.name+\")\"),Logger(\"events.appear\").log(e),this.hidden?this._shouldAppear=!0:this.isAppearing||(this._appear(),this._isAppearing=!0,this._hasAppearedAtLeastOnce=!0,this.emit(\"appeared\"))},View.prototype.disappear=function(){var e=\"View DISAPPEAR called on \"+this.constructor.name+\" \"+this.localId+\" (name=\"+this.name+\")\";this.parentContainer&&(e+=\" from \"+this.parentContainer.constructor.name+\" \"+this.parentContainer.localId+\" (name=\"+this.parentContainer.name+\")\"),Logger(\"events.appear\").log(e),this.isAppearing&&(this._disappear(),this._isAppearing=!1,this._shouldAppear=!1,this.emit(\"disappeared\"))},View.prototype.reset=function(){this.isAppearing&&(this._shouldAppear=this.hidden,this._isAppearing=!this.hidden)},View.prototype._appear=function(){},View.prototype._disappear=function(){},View.prototype.appearNestedObjects=function(){this.objects.forEach(function(e){e.appear()},this)},View.prototype.disappearNestedObjects=function(){this.objects.forEach(function(e){e.disappear()},this)},View.prototype._trackViewShown=function(e){var t={name:\"viewShown\",viewName:this.name,clazz:this.constructor.name};new ActionContext(this,!1).track(extend(t,e))};;\nBaseCreativeUnit.prototype.alert=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=(e.message=removeHtmlTags(e.message),this._calculateModalDialogActualHeight(e));a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement(\"alert\",e,t):(alert(e.message),t())},BaseCreativeUnit.prototype.prompt=function(e,t){var a=e.boxWidth||BaseCreativeUnit._defaultModalBoxWidth,i=this._calculateModalDialogActualHeight(e);a<=this.size.width&&i<=this.size.height?this.showModalDialogInPlacement(\"prompt\",e,t):t(prompt(removeHtmlTags(e.message)))},BaseCreativeUnit.prototype._getUniqueId=function(){return(new Date).getTime()+Math.random()},BaseCreativeUnit.prototype.showModalDialogInPlacement=function(r,s,o){var d=this._getUniqueId(),e={};e[d]={attachment:\"node\",parentNode:this.node,positioning:\"screen\",type:\"layer\"},creative.adapter.createPlacements(e,function(){var t,e,a,i,l,n;window&&((t=creative.adapter.placements[d]).setZIndex(\"max\"),t.setSize(\"100%\",\"100%\"),t.setPosition(0,0),(e=t.createElement(\"link\")).rel=\"stylesheet\",e.type=\"text/css\",e.href=creative.resourceUrl+\"runner-min/clazzes/ModalDialogs-Overlay.css\",t.getContainer().appendChild(e),e=t.createElement(\"div\"),addClass(e,\"celtra-alert\"),e.style.display=\"none\",l=t.createElement(\"div\"),addClass(l,\"celtra-alert-dark-overlay\"),e.appendChild(l),this.preventScroll(e),a=t.createElement(\"div\"),addClass(a,\"celtra-alert-box\"),s.title&&\"\"!=s.title&&(l=t.createElement(\"h1\"),addClass(l,\"celtra-alert-title\"),l.innerHTML=s.title,a.appendChild(l)),s.title&&\"\"!=s.title&&s.message&&\"\"!=s.message&&(l=t.createElement(\"hr\"),addClass(l,\"celtra-alert-dark-line\"),a.appendChild(l),l=t.createElement(\"hr\"),addClass(l,\"celtra-alert-light-line\"),a.appendChild(l)),s.message&&\"\"!=s.message&&(l=t.createElement(\"div\"),addClass(l,\"celtra-alert-message\"),l.innerHTML=s.message,l.setAttribute(\"dir\",\"auto\"),\"auto\"!==l.dir&&(l.dir=guessWritingDirection(s.message)||\"ltr\"),a.appendChild(l)),\"prompt\"==r&&(i=t.createElement(\"input\"),addClass(i,\"celtra-alert-input\"),i.value=s.defaultValue||\"\",a.appendChild(i),attach(i,\"keypress\",function(e){13==e.keyCode&&(creative.adapter.destroyPlacement(d),t=null,o(i.value))})),l=t.createElement(\"div\"),addClass(l,\"celtra-alert-ok\"),l.innerHTML=\"OK\",a.appendChild(l),this.preventScroll(a),once(l,\"touchend\",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),t=null,\"prompt\"==r?o(i.value):o()},!1),\"prompt\"==r&&s.showCancel&&(addClass(l,\"with-cancel\"),n=t.createElement(\"div\"),addClass(n,\"celtra-alert-cancel\"),n.innerHTML=\"CANCEL\",a.appendChild(n),attach(l,\"touchstart\",function(e){e.preventDefault(),e.stopPropagation()},!1),once(n,\"touchend\",function(e){e.preventDefault(),e.stopPropagation(),creative.adapter.destroyPlacement(d),o(t=null)},!1)),e.appendChild(a),t.populate(e,function(){t.show();var e=setInterval(function(){\"absolute\"===celtra.styler.computedCSS(a,\"position\")&&(computedBoxHeight=parseInt(celtra.styler.computedCSS(a,\"height\"),10)+parseInt(celtra.styler.computedCSS(a,\"paddingTop\"),10)+parseInt(celtra.styler.computedCSS(a,\"paddingBottom\"),10),a.style.marginTop=-computedBoxHeight/2+\"px\",a.style.opacity=1,clearInterval(e),e=null)},100)}))}.bind(this))},BaseCreativeUnit.prototype._calculateModalDialogActualHeight=function(e){var t=document.createElement(\"div\");t.style.cssText=\"visibility:hidden; font-family:Helvetica,Arial,sans-serif; font-size:14px; padding-bottom:10px; text-shadow:0 1px 0 rgba(0,0,0,1); width:220px;\",t.innerText=e.message,this.node.appendChild(t);e=parseInt(window.getComputedStyle(t).getPropertyValue(\"height\"),10)+BaseCreativeUnit._defaultModalBoxHeightWithoutMessage;return this.node.removeChild(t),e},BaseCreativeUnit.prototype.preventScroll=function(t){[\"mousewheel\",\"touchmove\"].forEach(function(e){attach(t,e,function(e){e.preventDefault()},!1)})},BaseCreativeUnit._defaultModalBoxWidth=242,BaseCreativeUnit._defaultModalBoxHeightWithoutMessage=75;;\nfunction CreativeUnit(){}inherit(CreativeUnit,BaseCreativeUnit),extend(CreativeUnit.prototype,ScreenTransitioner),extend(CreativeUnit.prototype,FeedImageOptimizationTrait),CreativeUnit.IGNORABLES=BaseCreativeUnit.IGNORABLES,CreativeUnit.DEBUG_EXTRA_PHASE_DELAY=0,CreativeUnit.toString=function(){return\"[Clazz CreativeUnit]\"},CreativeUnit.prototype.toString=function(){return\"[CreativeUnit \"+this.name+\" (\"+this.localId+\")]\"},Object.defineProperty(CreativeUnit.prototype,\"size\",{get:function(){var t=this.getAvailableSize();return this.layoutCurrent||this._updateActiveLayout(this._getOrientation(),t.width,t.height),\"responsive\"===this.sizing?{width:t.width,height:t.height}:{width:this.layoutCurrent.unitSize.width,height:this.layoutCurrent.unitSize.height}},set:function(){}}),Object.defineProperty(CreativeUnit.prototype,\"unitAlignment\",{get:function(){return void 0===this.layoutCurrent.unitAlignment?{}:this.layoutCurrent.unitAlignment}}),Object.defineProperty(CreativeUnit.prototype,\"layoutCurrent\",{get:function(){return this.layouts[this.layoutCurrentIndex]}}),Object.defineProperty(CreativeUnit.prototype,\"hasOverflow\",{get:function(){return 0<this.screens.concat([this.master]).filter(function(t){return t.showOverflow}).length}}),Object.defineProperty(CreativeUnit.prototype,\"hasScreens\",{get:function(){return 0<this.screens.length}}),Object.defineProperty(CreativeUnit.prototype,\"currentScreen\",{set:function(t){this._currentScreen!==t&&(this._currentScreen=t,this.emit(\"shareableStateChanged\"))},get:function(){return this._currentScreen}}),CreativeUnit.prototype._getDestinationScreen=function(){var t=this.hasScreens?this.screens[0]:this.master;if(\"modal\"==this.name&&void 0!==creative.runtimeParams.goToPageAfterExpand){var e=creative.runtimeParams.goToPageAfterExpand;if(\"string\"!=typeof e)throw new TypeError(\"Only string type is allowed to reference destination screen!\");var i=this.screens.filter(function(t){return t.title===e});0<i.length&&(t=i[0])}return t},CreativeUnit.prototype.awake=function(){var t=this;CreativeUnit.uber.awake.call(this),this._currentScreen=null,this.visibleScreen=null,this.overflowsY=!1,this.layoutCurrentIndex=null,this._preloadReachableScreens=this._preloadReachableScreens.bind(this),this.screens.forEach(function(t,e){t.objects.forEach(function(t){t.zIndex+=ScreenObject._zIndexOffset})}),void 0===this.backgroundColor&&(this.backgroundColor=\"#000000\"),void 0===this.usePlaceboBar&&(this.usePlaceboBar=!1),void 0===this.showCloseButton&&(this.showCloseButton=!1),void 0===this.alignBackButtonHorizontal&&(this.alignBackButtonHorizontal=\"left\"),this.on(\"_firstScreenLoaded\",function(){t.placeboBar&&(t.placeboBar.parentNode.removeChild(t.placeboBar),t.placeboBar=null),this.initiateScreenTransition(this._getDestinationScreen())}.bind(this)),this.onAll(\"_firstScreenLoaded _unitFirstShown\",function(){this.goToScreen(this._getDestinationScreen(),null)}.bind(this)),this.triggerOrientationChange=this.triggerOrientationChange.bind(this),this.updateWindowMetrics=this.updateWindowMetrics.bind(this),this.hacks.triggerBlurWhenTappingOutsideOfInputs=ios()},CreativeUnit.prototype.setAvailableSize=function(t,e){var i=CreativeUnit.uber.setAvailableSize.apply(this,arguments),n=this._getOrientation(),o=this.layouts[this.layoutCurrentIndex],r=(this._updateActiveLayout(n,t,e),this.updateWindowMetrics(n,t,e),this._previousOrientation&&n!=this._previousOrientation),o=o&&o.orientation!=this.layoutCurrent.orientation;(r||o)&&this.triggerOrientationChange(),this._previousOrientation=n,(i||o)&&this.emit(\"resize\")},CreativeUnit.prototype._getOrientation=function(){return creative.adapter.orientation%180==0?\"portrait\":\"landscape\"},CreativeUnit.prototype._updateActiveLayout=function(e,i,n){var t=this.layouts.slice(),o=this.layoutCurrentIndex;this.layouts[o];t.forEach(function(t){t.sortIndex=0,\"independent\"==t.orientation?t.sortIndex+=1:t.orientation!=e&&(t.sortIndex+=4e3),t.minSize.width>i&&(t.sortIndex+=2e3),t.minSize.height>n&&(t.sortIndex+=2e3),t.sortIndex+=Math.abs(t.minSize.width-i)+Math.abs(t.minSize.height-n)}),t.sort(function(t,e){return t.sortIndex-e.sortIndex}),this.layoutCurrentIndex=this.layouts.indexOf(t[0]),o!=this.layoutCurrentIndex&&this.emit(\"layoutChanged\")},CreativeUnit.prototype.enterRenderTree=function(){var t;this._isRendering||(this._isRendering=!0,t=this.getAvailableSize(),this.updateWindowMetrics(this._getOrientation(),t.width,t.height),this.master&&(this.master.loaded?defer(this.master.enterRenderTree.bind(this.master),void 0,void 0,useAsap()):this.once(\"_firstScreenLoaded\",this.master.enterRenderTree.bind(this.master))),this.visibleScreen&&defer(this.visibleScreen.enterRenderTree.bind(this.visibleScreen),void 0,void 0,useAsap()),this.hacks.triggerBlurWhenTappingOutsideOfInputs&&(attach(this.node,\"touchstart\",function(t){-1==[\"INPUT\",\"TEXTAREA\",\"SELECT\"].indexOf(t.target.nodeName)&&null!=this.lastInputElementFocused&&this.lastInputElementFocused.blur()}.bind(this),!0),attach(this.node,\"focus\",function(t){-1<[\"INPUT\",\"TEXTAREA\",\"SELECT\"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=t.target)}.bind(this),!0),attach(this.node,\"blur\",function(t){-1<[\"INPUT\",\"TEXTAREA\",\"SELECT\"].indexOf(t.target.nodeName)&&(this.lastInputElementFocused=null)}.bind(this),!0)))},CreativeUnit.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.master&&this.master.exitRenderTree(),this.visibleScreen&&this.visibleScreen.exitRenderTree())},CreativeUnit.prototype._appear=function(){this.loaded||Creative._throw(\"Cannot show the unit before it has finished loading.\"),this.isAppearing&&Creative._throw(\"The unit is already appearing.\"),this.node.parentNode||Creative._throw(\"Creative unit must be added to DOM before show() is called. Animations will start on show().\"),Logger(\"unit\").log(\"Showing \"+this),this.inView&&(this.inView.start(),this.currentScreen&&this.currentScreen.inView&&this.currentScreen.inView.start()),this.hasAppearedAtLeastOnce||(this.placeboBar&&this.placeboBar.start(),this.orientationLockIsOn?this._emitUnitFirstShownAfterOrientationPrompt=!0:this.emit(\"_unitFirstShown\"))},CreativeUnit.prototype._disappear=function(){this.isAppearing||Creative._throw(\"The unit is not appearing, can not disappear.\"),Logger(\"unit\").log(\"Hiding \"+this),this.inView&&this.inView.stop()},CreativeUnit.prototype.createNode=function(){var i,n,t=this.unitDiv=CreativeUnit.uber.createNode.call(this),e=(t.id=\"celtra-\"+this.name.replace(/[A-Z]/g,function(t){return\"-\"+t.toLowerCase()}),Color.isGradient(this.backgroundColor)?addCssRule(\"#\"+t.id,Color.createGradientStyle(this.backgroundColor)):t.style.backgroundColor=this.backgroundColor,t.style.overflow=this.master.showOverflow?\"visible\":\"hidden\",this.screenContainer=document.createElement(\"div\"),this.screenContainer.className=\"celtra-screen-container\",this.screenContainer.style.position=\"absolute\",t.appendChild(this.screenContainer),this.screenHolder=document.createElement(\"div\"),this.screenHolder.className=\"celtra-screen-holder\",this.screenHolder.style.width=\"100%\",this.screenHolder.style.height=\"100%\",this.screenContainer.appendChild(this.screenHolder),this.borderColor&&0<this.borderSize&&((e=document.createElement(\"div\")).className=\"celtra-creative-border\",e.style.borderColor=this.borderColor,e.style.borderWidth=this.borderSize+\"px\",t.appendChild(e)),t.style.position=\"absolute\",this.usePlaceboBar&&(e=this.loadingScreen&&this.loadingScreen.loaderColor||\"white\",this.placeboBar=new PlaceboBar(5e3,.9,200,e),this.screenContainer.appendChild(this.placeboBar)),this.showCloseButton&&(this.closeAction||Creative._throw(\"Close button requested, but no close action defined?\"),this.closeButtonType&&\"text\"===this.closeButtonType?((i=document.createElement(\"div\")).className=\"celtra-close-button touchable celtra-close-button-text\",i.textContent=this.closeButtonText,i.style.color=this.closeButtonTextColor,this.unitDiv.appendChild(i)):(i=document.createElement(\"img\"),n=document.createElement(\"img\"),this.closeButtonUp?(this.closeButtonDown||(this.closeButtonDown=this.closeButtonUp),this.closeButtonWidth&&this.closeButtonHeight&&(i.style.width=n.style.width=this.closeButtonWidth+\"px\",i.style.height=n.style.height=this.closeButtonHeight+\"px\")):(this.closeButtonUp=new File(\"runner/clazzes/CreativeUnit/close-up.svg\"),this.closeButtonDown=new File(\"runner/clazzes/CreativeUnit/close-down.svg\")),i.className=\"celtra-close-button touchable celtra-close-button-up\",this._preloadImage(this.closeButtonUp,function(t,e){i.src=e}),n.className=\"celtra-close-button celtra-close-button-down\",this._preloadImage(this.closeButtonDown,function(t,e){n.src=e}),this.closeButtonImage=i,this.closeButtonImagePressed=n,this.unitDiv.appendChild(this.closeButtonImage),this.unitDiv.appendChild(this.closeButtonImagePressed)),attach(i,\"tap\",function(){var t=this.currentScreen||this.visibleScreen;this.closeAction(t?new ActionContext(t,!0):null,{},noop)}.bind(this),!1)),[]),o=(e.push({name:\"loading\",fun:function(t){var e;this.loadingScreen?(e=creative.perf.start(\"CreativeUnit.loadingScreen\"),this.loadingScreen.getNode(function(){defer(function(){e.end(),this.initiateScreenTransition(this.loadingScreen),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,\"CreativeUnit.createNode defer loading phase completion\",useAsap())}.bind(this))):t(!1)}.bind(this)}),e.push({name:\"interactive\",fun:function(t){var e=creative.perf.start(\"CreativeUnit.firstScreenLoaded\"),i=this.hasScreens?2:1,n=function(){--i||defer(function(){e.end(),defer(this.emits(\"_firstScreenLoaded\"),0,\"CreativeUnit.createNode emit _firstScreenLoaded\",useAsap()),t(!0)}.bind(this),CreativeUnit.DEBUG_EXTRA_PHASE_DELAY,\"CreativeUnit.createNode defer onScreenLoaded\",useAsap())}.bind(this);this.hasScreens&&this._getDestinationScreen().getNode(n),this.master.getNode(n)}.bind(this)}),this.incrementLoadingCount(),!1),r=function(){o||Creative._throw(\"Unit still not ready to show after last phase?!\")};return e.reverse().forEach(function(e){var i=r;r=function(){Logger(\"unit\").log(\"Phase '\"+e.name+\"' started.\"),e.fun(function(t){Logger(\"unit\").log(\"Phase '\"+e.name+\"' finished, \"+(t?\"DID\":\"DID NOT\")+\" draw something.\"),t&&!o&&(o=!0,this.decrementLoadingCount()),i()}.bind(this))}.bind(this)}.bind(this)),r(),t},CreativeUnit.prototype.getAccessibilityProperties=function(){return this.accessibility},CreativeUnit.prototype._repositionCloseButton=function(t,e,i){var n,o,r;function s(t){return{left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}}this.closeButtonImage&&((o=this.hasOverflow||this.orientationPrompt&&\"none\"!=this.orientationPrompt.style.display||(r=this.closeButtonImage,o=this.screenContainer,n=s(n=this.unitDiv),o=s(o),(r=s(r)).left=o.left+o.width-r.width,r.top=o.top,!(n.left<=r.left&&r.left+r.width-1<n.left+n.width&&n.top<=r.top&&r.top+r.height-1<n.top+n.height))?this.unitDiv:this.screenContainer)!==(r=this.closeButtonImage.parentNode)&&(r&&(r.removeChild(this.closeButtonImage),r.removeChild(this.closeButtonImagePressed)),o.appendChild(this.closeButtonImage),o.appendChild(this.closeButtonImagePressed)),window.navigator.userAgent.match(/iP(hone|od)/)&&ios(\"7\")&&creative.adapter.hasDeadZones&&(this.closeButtonImage.style.top=this.closeButtonImagePressed.style.top=(\"landscape\"==t?20:0)+\"px\"))},CreativeUnit.prototype.triggerOrientationChange=function(){this.currentScreen&&this.currentScreen.triggerOrientationChange(),android()&&this.hideKeyboard()},CreativeUnit.prototype.hideKeyboard=function(){this.unitDiv&&[].slice.call(this.unitDiv.querySelectorAll(\"input,select,textarea\")).forEach(function(t){t.blur()})},CreativeUnit.prototype.enableWrongOrientationPrompt=function(){var s;this.unitDiv&&!this.orientationPrompt&&\"thumb\"!==creative.runtimeParams.purpose&&(this.orientationPrompt=document.createElement(\"img\"),this.orientationPrompt.style.cssText=\"display: none; position: absolute; left: 50%; top: 50%; z-index: 999999\",(s=this).orientationPromptImage?this.loaded||this._preloadImage(this.orientationPromptImage,function(t,e){var i=s.orientationPromptImage.width,n=s.orientationPromptImage.height,o=Math.round(i/2),r=Math.round(n/2);s.orientationPrompt.style.cssText+=\"margin-left: -\"+o+\"px; margin-top: -\"+r+\"px; width: \"+i+\"px; height: \"+n+\"px;\",s.orientationPrompt.src=e}):(this.orientationPrompt.style.cssText+=\"margin-left: -640px; margin-top: -640px;\",celtra.styler.css(this.orientationPrompt,\"transformOrigin\",\"50% 50%\"),celtra.styler.css(this.orientationPrompt,\"transform\",\"scale(0.80)\"),this.loaded||this._preloadImage(new File(\"runner/rotate-screen_tablet_01.png\"),function(t,e){s.orientationPrompt.src=e})),this.unitDiv.appendChild(this.orientationPrompt))},CreativeUnit.prototype._updateSize=function(){var t=function(t,e,i){\"left\"==e?(t.style.left=\"0\",t.style.marginLeft=\"\",t.style.right=\"auto\"):\"right\"==e?(t.style.left=\"auto\",t.style.marginLeft=\"\",t.style.right=\"0\"):(t.style.left=\"50%\",t.style.marginLeft=\"-\"+this.size.width/2+\"px\",t.style.right=\"auto\"),\"top\"==i?(t.style.top=\"0\",t.style.marginTop=\"\",t.style.bottom=\"auto\"):\"bottom\"==i?(t.style.top=\"auto\",t.style.marginTop=\"\",t.style.bottom=\"0\"):(t.style.top=\"50%\",t.style.marginTop=\"-\"+this.size.height/2+\"px\",t.style.bottom=\"auto\")}.bind(this);\"responsive\"===this.sizing?(this.unitDiv.style.width=\"100%\",this.unitDiv.style.height=\"100%\",this.screenContainer.style.width=\"100%\",this.screenContainer.style.height=\"100%\"):this.fillsContainer?(this.unitDiv.style.width=\"100%\",this.unitDiv.style.height=this.overflowsY?this.size.height+\"px\":\"100%\",this.screenContainer.style.width=this.size.width+\"px\",this.screenContainer.style.height=this.size.height+\"px\",t(this.screenContainer,this.unitAlignment.horizontal,this.unitAlignment.vertical)):(this.unitDiv.style.width=this.size.width+\"px\",this.unitDiv.style.height=this.size.height+\"px\",t(this.unitDiv,this.unitAlignment.horizontal,this.unitAlignment.vertical),this.screenContainer.style.width=\"100%\",this.screenContainer.style.height=\"100%\")},CreativeUnit.prototype.updateWindowMetrics=function(t,e,i){this._isRendering&&(this._updateSize(),this._toggleWrongOrientationPrompt(t,e,i),setTimeout(function(t,e,i){this._repositionCloseButton(t,e,i)}.bind(this),0,t,e,i))},CreativeUnit.prototype.setCorrectOrientation=function(t){this._correctOrientation=t},CreativeUnit.prototype._toggleWrongOrientationPrompt=function(t,e,i){var n;this.orientationPrompt&&(n=this.orientation,(n=this._correctOrientation?this._correctOrientation:n)!==t?(this.orientationPrompt.style.display=\"block\",this.orientationPrompt.offsetWidth,!0!==this.orientationLockIsOn&&this.emit(\"orientationLockChanged\",!0),this.orientationLockIsOn=!0):(!(this.orientationPrompt.style.display=\"none\")!==this.orientationLockIsOn&&this.emit(\"orientationLockChanged\",!1),this.orientationLockIsOn=!1,this._emitUnitFirstShownAfterOrientationPrompt&&(this._emitUnitFirstShownAfterOrientationPrompt=!1,this.emit(\"_unitFirstShown\"))))},CreativeUnit.prototype.getMasterVideo=function(){var e=null;return this.master.objects.some(function(t){if(\"MasterVideo\"===t.constructor.name)return e=t,!0}),e},CreativeUnit.prototype.playMasterVideoAction=function(t,e,i){this.getMasterVideo().playAction(t,e,i)},CreativeUnit.prototype.pauseMasterVideoAction=function(t,e,i){this.getMasterVideo().pauseAction(t,e,i)},CreativeUnit.prototype.muteMasterVideoAction=function(t,e,i){this.getMasterVideo().muteAction(t,e,i)},CreativeUnit.prototype.unMuteMasterVideoAction=function(t,e,i){this.getMasterVideo().unMuteAction(t,e,i)},CreativeUnit.prototype.goToScreenAction=function(t,e,i){if(!e.screen)return console.warn(\"Go to screen action is called without a destination page!\"),i&&i();extend(e,e.animation),\"LeanLoading\"===this._getDestinationScreen().title?creative.adapter.waitForWindowLoad(function(){this.goToScreen(e.screen,e,i)}.bind(this)):this.goToScreen(e.screen,e,i)},CreativeUnit.prototype.findAll=function(e){var i=[];return this.screens.forEach(function(t){void 0!==e&&t.title!=e||i.push(t),t.findAll(e).forEach(function(t){i.push(t)})}),i},CreativeUnit.prototype.findByType=function(e){var i=[];return void 0===e?result:(this.screens.forEach(function(t){t.findByType(e).forEach(function(t){i.push(t)})}),i)};;\nfunction ScreenObjectContainer(){}inherit(ScreenObjectContainer,View),ScreenObjectContainer.toString=function(){return\"[Clazz ScreenObjectContainer]\"},ScreenObjectContainer.prototype.toString=function(){return\"[ScreenObjectContainer \"+this.localId+\"]\"},ScreenObjectContainer.prototype.appear=function(){ScreenObjectContainer.uber.appear.call(this),ScreenObjectContainer.uber.appearNestedObjects.call(this)},ScreenObjectContainer.prototype.disappear=function(){ScreenObjectContainer.uber.disappearNestedObjects.call(this),ScreenObjectContainer.uber.disappear.call(this)};;\nfunction Screen(){}inherit(Screen,ScreenObjectContainer),extend(Screen.prototype,TriggerHost),extend(Screen.prototype,SceneHost),extend(Screen.prototype,DiscoverableTrait),Screen.toString=function(){return\"[Clazz Screen]\"},Screen.prototype.toString=function(){return\"[Screen \"+this.localId+\" (name=\"+this.title+\")]\"},Object.defineProperty(Screen.prototype,\"name\",{get:function(){return this.title}}),Object.defineProperty(Screen.prototype,\"size\",{get:function(){return this.parentContainer.size}}),Screen.prototype.awake=function(){ScreenObjectContainer.uber.awake.apply(this,arguments),this._isRendering=!1,this.appearedAtLeastOnce=!1,this._updateSize=this._updateSize.bind(this),this.handleShake=this.handleShake.bind(this),this.handleShakeFallback=this.handleShakeFallback.bind(this)},Screen.prototype.isFirstScreen=function(){return this===this.parentContainer.screens[0]},Screen.prototype.isLoadingScreen=function(){return this===this.parentContainer.loadingScreen},Screen.prototype.isMasterScreen=function(){return this===this.parentContainer.master},Screen.prototype.isNormalScreen=function(){return!this.isMasterScreen()&&!this.isLoadingScreen()},Object.defineProperty(Screen.prototype,\"parentUnitVariant\",{get:function(){return\"CreativeUnitWithVariants\"==this.parentUnit.constructor.name||\"CreativeUnitWithVariantsECD\"==this.parentUnit.constructor.name?(this._parentContainer||(this._parentContainer=this.parentUnit.getVariantForScreen(this)),this._parentContainer):null}}),Object.defineProperty(Screen.prototype,\"parentContainer\",{get:function(){return this.parentUnitVariant||this.parentUnit}}),Screen.prototype.createNode=function(){Logger(\"unit\").log(\"Starting to load \"+this),!this.isLoadingScreen()&&creative.experiments.get(\"TrackingLoadingTimes\")&&this.once(\"loaded\",creative.aggregatorTracking.trackAggregatorMagicTriplet(\"screenLoad\",{unitName:this.parentUnit.name,screenRank:this.isFirstScreen()?\"First\":this.isMasterScreen()?\"Master\":\"Other\"},3e4)),this.nestedSceneHosts=[];var t=Screen.uber.createNode.call(this);return t.style.overflow=this.showOverflow?\"visible\":\"hidden\",this.objects.forEach(function(e){this.incrementLoadingCount(),t.appendChild(e.getNode(this.decrementLoadingCount))},this),this.parentContainer.on(\"resize\",this._updateSize),t.style.width=t.style.height=\"100%\",this.parentContainer.inView&&(this.inView=new InViewObject(this,this.parentContainer.inView),this.inViewTriggerSetup()),this._updateSize(),t},Screen.prototype.initImmediatelyPlayedScenes=function(){this._initImmediatelyPlayedScenes(),this.nestedSceneHosts.forEach(function(e){e._initImmediatelyPlayedScenes()})},Screen.prototype._appear=function(){var e=!this.appearedAtLeastOnce,t=(this.appearedAtLeastOnce=!0,new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}));this!==this.parentContainer.loadingScreen&&this!==this.parentContainer.master&&(t.track({name:\"screenShown\"}),creative.trackCreativeRenderedOnScreenShow()),e?this.fireTriggers(\"firstAppear\",null,function(){defer(function(){this.fireTriggers(\"appear\",null,noop,t)}.bind(this),void 0,void 0,useAsap())}.bind(this),t):this.fireTriggers(\"appear\",null,noop,t),this.inView&&this.inView.start(),this._shakeListenerStart()},Screen.prototype._shakeListenerStart=function(){this.hasTriggers(\"shake\")&&(this.shakeListener||(this.shakeListener=new ShakeListener),this.shakeListener.on(\"shake\",this.handleShake),this.shakeListener.on(\"shakeFallback\",this.handleShakeFallback),this.shakeListener.start())},Screen.prototype._shakeListenerStop=function(){this.shakeListener&&(this.shakeListener.off(\"shake\",this.handleShake),this.shakeListener.off(\"shakeFallback\",this.handleShakeFallback),this.shakeListener.stop())},Screen.prototype._disappear=function(){this.inView&&this.inView.stop(),this._shakeListenerStop()},Screen.prototype.handleShakeFallback=function(){var n;this.parentUnit.currentScreen===this&&(n=new ActionContext(this,!1),this.fireTriggers(\"shake\",function(e,t){var i=1e3*(void 0!==e.fallbackEmitDelay?e.fallbackEmitDelay:2);return void 0===e.fallbackCustomActionSet||\"event-actions\"===e.fallbackCustomActionSet?setTimeout(function(){this.triggerActionByLocalId(n,{localId:t.localId},noop)}.bind(this),i):setTimeout(function(){this.triggerActionByLocalId(n,{localId:e.fallbackCustomActionSet},noop)}.bind(this),i),!1}.bind(this),null,n))},Screen.prototype.handleShake=function(n){var e;this.parentUnit.currentScreen===this&&(e=new ActionContext(this,!1),this.fireTriggers(\"shake\",function(e,t){var i=!1;return!!(e.direction&&-1<e.direction.indexOf(n))&&(clearTimeout(t.shakeTimeout),t.shakeStartTime||(t.shakeStartTime=new Date),e=e.duration&&(new Date).getTime()-t.shakeStartTime.getTime()>=e.duration,t.shakeTimeout=setTimeout(function(){delete t.shakeStartTime,t.triggered=!1},500),e&&!t.triggered&&(t.triggered=i=!0),i)}.bind(this),null,e))},Screen.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\"enteredRenderTree\"))},Screen.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this.emit(\"exitedRenderTree\"))},Screen.prototype._updateSize=function(){this.emit(\"resize\")},Screen.prototype.finishedLoading=function(){Screen.uber.finishedLoading.call(this),Logger(\"unit\").log(\"Finished loading \"+this)},Screen.prototype.triggerBeforeAppear=function(e){var t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&!this.appearedAtLeastOnce&&(this.isFirstScreen()||this.isMasterScreen())});this.fireTriggers(\"beforeAppear\",null,e,t)},Screen.prototype.triggerOrientationChange=function(e){this.fireTriggers(\"orientationChange\",null,e)},Screen.prototype.getMaxZIndex=function(){var t=0;return this.objects.forEach(function(e){e.zIndex>t&&(t=e.zIndex)}),t},Screen.prototype.inViewTriggerSetup=function(){var t=!1,i=creative&&creative.adapter&&creative.adapter.adBehavior.subpixelScrollable;this.triggers.forEach(function(e){i&&\"enterView\"===e.type&&e.parameters&&100==e.parameters.area&&(e.parameters.area=99.9),\"enterView\"!==e.type&&\"leaveView\"!==e.type||(t=!0,this.inViewAreaRatio=0)},this),t&&this.inView.on(\"areaInViewRatioChanged\",this.triggerInView.bind(this))},Screen.prototype.triggerInView=function(e){var t=new ActionContext(this),i=\"enterView\",n=this.inViewAreaRatio,r=e,a=function(e,t){return e.parameters.area-t.parameters.area};e<this.inViewAreaRatio&&(i=\"leaveView\",r=this.inViewAreaRatio,n=e,a=function(e,t){return t.parameters.area-e.parameters.area}),this.fireSortedTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r},null,t,a),this._getTriggers(i,function(e){e=e.area/100;return n<=e&&e<=r}),this.inViewAreaRatio=e},Screen.prototype.getActionsExecutedOnAppear=function(){var e=!this.appearedAtLeastOnce,t=new ActionContext(this,{certainlyNotCausedByUserBehavior:!!this.parentUnit.firstAppearWithoutUserInteraction&&e&&(this.isFirstScreen()||this.isMasterScreen())}),i=this.fireTriggersDryRun(\"beforeAppear\",null,noop,t);return(i=e?i.concat(this.fireTriggersDryRun(\"firstAppear\",null,noop,t)):i).concat(this.fireTriggersDryRun(\"appear\",null,noop,t))},Screen.prototype.resetAction=function(t,i,e){var n=this.findAll(),r=n.length,a=function(){this._shakeListenerStop(),this._shakeListenerStart(),e()}.bind(this);r?n.forEach(function(e){e.resetAction(t,i,function(){--r||a()})}):a()},Screen.prototype.shuffleAction=function(e,t,i){var n=function(e){var t,i,n=e.length;for(;0!==n;)i=Math.floor(Math.random()*n),t=e[--n],e[n]=e[i],e[i]=t;return e}(t.objects.map(function(e){return JSON.parse(JSON.stringify(e.layoutSpecificValues))}));t.objects.forEach(function(e,i){e.layoutSpecificValues.forEach(function(e,t){e.position=n[i][t].position}),e._refreshDisplayState()}),i&&i()},Screen.prototype._trackViewShown=function(){Screen.uber._trackViewShown.call(this,{isMasterScreen:this.isMasterScreen(),isLoadingScreen:this.isLoadingScreen()})};;\nfunction ScreenObject(){}inherit(ScreenObject,View),extend(ScreenObject.prototype,TriggerHost),extend(ScreenObject.prototype,DiscoverableTrait),extend(ScreenObject.prototype,ClickPreventer),ScreenObject.requiresRedrawToTriggerAnimationEvents=android(\"4.0\"),ScreenObject.redrawTriggerInterval=60,ScreenObject.toString=function(){return\"[Clazz ScreenObject]\"},ScreenObject.prototype.toString=function(){return\"[ScreenObject \"+this.localId+\" (name=\"+this.name+\")]\"},ScreenObject.allowPositioningAndSizingUsingTransforms=!android(\"2.2\",\"2.3\")||celtra.iframe(),ScreenObject._zIndexOffset=1e4,ScreenObject._resettableProperties=[\"position\",\"size\",\"rotation\",\"zIndex\",\"opacity\",\"hidden\"],ScreenObject._3dTransformBlacklisted=function(t){return/Silk\\/\\d|Kindle Fire| KFTT | KFOT | KFJWI | KFJWA |\\bGT-P3100\\b| HTC[ _]One[ _]S /.test(t)||/\\bGT-I9300\\b/.test(t)&&android(\"4.0\")}(navigator.userAgent),ScreenObject.supports3d=function(){return(\"WebKitCSSMatrix\"in window&&\"m11\"in new WebKitCSSMatrix||\"MSCSSMatrix\"in window||/Gecko\\//.test(navigator.userAgent))&&!this._3dTransformBlacklisted}(),ScreenObject.requires3dTranslateForPositioning=/GT-I9500|GT-I9505|SM-N900|GT-P5210|SM-T520/.test(navigator.userAgent),ScreenObject.dummyImageSpacer=windows(\"10\"),ScreenObject._toPositionPx=function(e,t,i){var n,r,o,s,a=i.width,i=i.height,c=t.width,t=t.height;return[\"left\",\"right\",\"hcenter\"].forEach(function(t){t in e&&(n=t)}),[\"bottom\",\"top\",\"vcenter\"].forEach(function(t){t in e&&(r=t)}),o=e[n],s=e[r],o=-1<o.indexOf(\"%\")?a*parseFloat(o)/100:parseFloat(o),\"hcenter\"===n?o=(a-c)/2+o:\"right\"===n&&(o=a-(o+c)),s=-1<s.indexOf(\"%\")?i*parseFloat(s)/100:parseFloat(s),\"vcenter\"===r?s=(i-t)/2+s:\"bottom\"===r&&(s=i-(s+t)),{x:ScreenObject._roundIfNeeded(o),y:ScreenObject._roundIfNeeded(s)}},ScreenObject._toSizePx=function(t,e){var i=parseFloat(t.width),n=parseFloat(t.height),r=e.width,e=e.height;return-1<t.width.toString().indexOf(\"%\")&&(i=r*i/100),-1<t.height.toString().indexOf(\"%\")&&(n=e*n/100),{width:ScreenObject._roundIfNeeded(i),height:ScreenObject._roundIfNeeded(n)}},ScreenObject._roundIfNeeded=function(t){return Math.round(t)},Object.defineProperty(ScreenObject.prototype,\"layoutCurrent\",{get:function(){return null==this.layoutCurrentIndex?this.layoutSpecificValues[0]:this.layoutSpecificValues[this.layoutCurrentIndex]},enumerable:!0,configurable:!1}),Object.defineProperty(ScreenObject.prototype,\"layoutCurrentIndex\",{get:function(){return this.parentUnit.layoutCurrentIndex},enumerable:!0,configurable:!1}),ScreenObject._Position=function(t,e){this._instance=t,this._position=e},Object.defineProperties(ScreenObject._Position.prototype,{x:{get:function(){return this._position.x},set:function(t){delete this._instance.layoutCurrent.right,delete this._instance.layoutCurrent.hcenter,this._instance.layoutCurrent.position.left=t+(\"number\"==typeof t?\"px\":\"\")}},y:{get:function(){return this._position.y},set:function(t){delete this._instance.layoutCurrent.bottom,delete this._instance.layoutCurrent.vcenter,this._instance.layoutCurrent.position.top=t+(\"number\"==typeof t?\"px\":\"\")}}}),ScreenObject._Size=function(t,e){this._instance=t,this._size=e},Object.defineProperties(ScreenObject._Size.prototype,{width:{get:function(){return this._size.width},set:function(t){this._instance.layoutCurrent.size.width=t+(\"number\"==typeof t?\"px\":\"\")}},height:{get:function(){return this._size.height},set:function(t){this._instance.layoutCurrent.size.height=t+(\"number\"==typeof t?\"px\":\"\")}}}),Object.defineProperties(ScreenObject.prototype,{position:{get:function(){var t=ScreenObject._toPositionPx(this.layoutCurrent.position,this.size,this.parentContainer.size);return new ScreenObject._Position(this,t)},set:function(t){delete this.layoutCurrent.position.right,delete this.layoutCurrent.position.hcenter,delete this.layoutCurrent.position.bottom,delete this.layoutCurrent.position.vcenter,this.layoutCurrent.position.left=t.left,this.layoutCurrent.position.top=t.top}},originalSize:{get:function(){var t=this.layoutCurrentIndex||0;return ScreenObject._toSizePx(JSON.parse(this.originalLayoutSpecificValues)[t].size,this.parentContainer.size)},set:function(t){throw new Error(\"originalSize is not settable!\")}},size:{get:function(){var t=ScreenObject._toSizePx(this.layoutCurrent.size,this.parentContainer.size);return new ScreenObject._Size(this,t)},set:function(t){this.layoutCurrent.size.width=t.width,this.layoutCurrent.size.height=t.height}},opacity:{get:function(){return this.layoutCurrent.opacity},set:function(t){this.layoutCurrent.opacity=t}},rotation:{get:function(){return this.layoutCurrent.rotation},set:function(t){this.layoutCurrent.rotation=t}},hidden:{get:function(){return this.layoutCurrent.hidden},set:function(e){this.layoutSpecificValues.forEach(function(t){t.hidden=e})}}}),ScreenObject.getCSSTranslate=function(t,e){return ScreenObject.requires3dTranslateForPositioning?\"translate3d(\"+t+\"px,\"+e+\"px, 0)\":\"translate(\"+t+\"px,\"+e+\"px)\"},ScreenObject.prototype.awake=function(){ScreenObject.uber.awake.call(this),this.originalLayoutSpecificValues=JSON.stringify(this.layoutSpecificValues),this.originalZIndex=this.zIndex,this.finishAnimation=this.finishAnimation.bind(this),this._refreshDisplayState=this._refreshDisplayState.bind(this)},ScreenObject.prototype.enterRenderTree=function(){this._isRendering||(this._isRendering=!0,this.emit(\"enteredRenderTree\"))},ScreenObject.prototype.exitRenderTree=function(){this._isRendering&&(this._isRendering=!1,this._isInMouseOver&&trigger(this.node,\"mouseout\",!1),this.emit(\"exitedRenderTree\"))},ScreenObject.prototype.react=function(t){var e=this.parentUnit.getRxStateObject(),i=function(){this._isRendering&&t.call(this,e)}.bind(this);null!==e&&(this._rxListeners.push(i),Ticker.frame(i,\"render\"))},ScreenObject.prototype.appearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.appear(),t.appearNestedObjects(t.objects)},this)},ScreenObject.prototype.disappearNestedObjects=function(){this.getNestedContainers().forEach(function(t){t.disappearNestedObjects(t.objects),t.disappear()},this)},ScreenObject.prototype.getScreenObjectPositionRelativeToScreen=function(){for(var t=this,e=this.getVisualPositionRelativeToParent();t.parentContainer!==t.parentScreen&&(t=t.parentContainer&&t.parentContainer.parentObject);){var i=t.getVisualPositionRelativeToParent();e.x+=i.x,e.y+=i.y}return e},ScreenObject.prototype.getVisualPositionRelativeToParent=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.initTemplates=function(){var t=this.templates={},e=this.constructor.templates;if(e){for(var i in e)\"string\"==typeof e[i]&&(e[i]=tmpl(e[i]));extend(t,e)}},ScreenObject.prototype.tmpl=function(t,e,i){this.templates||this.initTemplates();var n=this.templates[t];return n?n.call(i||this,e):\"Missing template: \"+t},ScreenObject.prototype.template=function(t,e,i){var n,r=document.createElement(\"div\"),t=(r.innerHTML=this.tmpl(t,e),r.firstChild);if(i)for(;n=r.firstChild;)i.appendChild(n);return t},ScreenObject.prototype.ifNotClosing=function(t,e,i){var t=this.fireTriggersDryRun(t,null,noop,e)._actions,n=[\"dismiss\",\"collapse\"];t.some(function(t){return-1<n.indexOf(t.method)})||i()},ScreenObject.prototype.createNode=function(){this._isInMouseOver=!1;var r,o,t,e,s,a=this,i=ScreenObject.uber.createNode.call(a);return i.style.position=\"absolute\",this.hasTriggers(\"tap\")&&(addClass(i,\"touchable\"),attach(i,\"tap\",function(t){var e=new ActionContext(a,!0);a.ifNotClosing(\"tap\",e,e.trackUserInteraction),a.fireTriggers(\"tap\",null,null,e)},!1)),deviceInfo.deviceType.desktop()&&(o=[],this.hasTriggers(r=\"mouseOver\")&&(t=this._getTriggers(r,null),e=[],s=noop,t.forEach(function(t){t.parameters&&t.parameters.delay&&e.indexOf(t.parameters.delay)<0&&e.push(t.parameters.delay)}),attach(i,\"mouseover\",function(t){var n=new ActionContext(a,!0);a._isInMouseOver=!0,e.forEach(function(t,e){var i;i=t,s=function(){a.fireTriggers(r,function(t){return t.delay==i},null,n)},o[e]=setTimeout(s,t)})},!1)),attach(i,\"mouseout\",function(t){var e=new ActionContext(a,!0);a._isInMouseOver=!1,o.forEach(clearTimeout),o=[],a.hasTriggers(\"mouseOut\")&&a.fireTriggers(\"mouseOut\",null,null,e)},!1)),attach(i,\"touchstart\",function(t){var e;a.hasTriggers(\"touchstart\")&&(e=new ActionContext(a,!0),a.ifNotClosing(\"touchstart\",e,e.trackUserInteraction),a.fireTriggers(\"touchstart\",null,null,e))},!1),attach(i,\"touchend\",function(t){var e;a.hasTriggers(\"touchend\")&&(e=new ActionContext(a,!0),a.ifNotClosing(\"touchend\",e,e.trackUserInteraction),a.fireTriggers(\"touchend\",null,null,e))},!1),this.hasTriggers(\"swipe\")&&(attach(i,\"touchstart\",function(t){t.stopPropagation()}),new SwipeListener({target:i,swipeNodeGetter:function(){return this.parentUnit.node}.bind(this),swipe:function(e,i){var n=new ActionContext(a,!0);a.fireTriggers(\"swipe\",function(t){t=e==t.direction&&i>=t.length;return t&&a.ifNotClosing(\"swipe\",n,n.trackUserInteraction),t},null,n)}})),attach(i,\"transitionend\",function(t){t.stopPropagation()},!1),this.disableComponentRedrawOnEvent||this.parentContainer.on(\"resize\",this._refreshDisplayState),this.parentContainer.on(\"enteredRenderTree\",function(){this.hidden||this.enterRenderTree()}.bind(this)),this.parentContainer.on(\"exitedRenderTree\",function(){this.hidden||this.exitRenderTree()}.bind(this)),this.layoutPrevious=this.layoutCurrent,this.disableComponentRedrawOnEvent||this.parentUnit.on(\"layoutChanged\",this.handleLayoutChanged.bind(this)),this.initClickPrevention(function(){return this.node}.bind(this)),this._applyStyles(i,this._calculateNewStyleAttributes()),this.positionUsingTransforms()||deviceInfo.browser.safari(\"9.0.0\",null)||(i.style.outline=\"1px solid transparent\"),this._rxListeners=[],i},ScreenObject.prototype.positionUsingTransforms=retFalse,ScreenObject.prototype.sizeUsingTransforms=retFalse,ScreenObject.prototype.isValid=retTrue,ScreenObject.prototype.getNaturalSize=function(){return this.originalSize},ScreenObject.prototype._scaleNaturalSize=function(t,e){return t},ScreenObject.prototype._calculateNewStyleAttributes=function(){var t={transform:\"\",transformOrigin:\"50% 50%\"},e=this._scaleNaturalSize(this.getNaturalSize(),this.size),i=this.position.x,n=this.position.y;return this.sizeUsingTransforms()&&(i+=ScreenObject._roundIfNeeded((this.size.width-e.width)/2),n+=ScreenObject._roundIfNeeded((this.size.height-e.height)/2)),this.positionUsingTransforms()?(t.left=\"0\",t.top=\"0\",(i||n)&&(t.transform+=ScreenObject.getCSSTranslate(i,n))):(t.left=i+\"px\",t.top=n+\"px\"),!this.isAnimated&&0==this.rotation||(t.transform+=\" rotate(\"+this.rotation+\"deg) \"),this.sizeUsingTransforms()?(t.width=e.width+\"px\",t.height=e.height+\"px\",i=this.size.width/e.width,n=this.size.height/e.height,t.transform+=\" scale(\"+i+\", \"+n+\")\"):(t.width=this.size.width+\"px\",t.height=this.size.height+\"px\"),t.zIndex=this.zIndex,t.opacity=this.opacity,this.hidden?t.display=\"none\":t.display=\"block\",t},ScreenObject.prototype._applyStyles=function(e,i){i&&Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype._refreshDisplayState=function(){if(this.node){var t,e=this._calculateNewStyleAttributes(),i=!1;for(t in e){var n=String(e[t]).replace(/^\\s*|\\s*$/g,\"\"),r=celtra.styler.css(this.node,t);celtra.styler.css(this.node,t)!==n&&r!=n&&\"zIndex\"!=t&&\"display\"!=t&&(i=!0)}return this._applyStyles(this.node,e),this.redrawLayout(),i}},ScreenObject.prototype.finishAnimation=function(){this.node&&void 0!==celtra.styler.css(this.node,\"transitionDuration\")&&(celtra.styler.css(this.node,\"transitionDuration\",\"1ms\"),this.node.offsetWidth,celtra.styler.css(this.node,\"transitionDuration\",\"\"))},ScreenObject.prototype.handleLayoutChanged=function(){var t=function(){this.layoutPrevious.hidden&&!this.layoutCurrent.hidden?this.enterRenderTreeAndAppear(!0):!this.layoutPrevious.hidden&&this.layoutCurrent.hidden&&this.parentContainer._isRendering&&this.exitRenderTree(),this.layoutPrevious=this.layoutCurrent}.bind(this);ios()?defer(t):t(),this.finishAnimation(),this._refreshDisplayState()},ScreenObject.prototype.redrawLayout=function(){},ScreenObject.prototype.redrawSceneLayout=function(){this.redrawLayout()},ScreenObject.prototype._checkAndEnhanceParamsForFileLoading=function(t,e,i){t=ScreenObject.uber._checkAndEnhanceParamsForFileLoading.call(this,t,e,i);return t.settings.creativeUnitVariantId=this.parentScreen.parentContainer.localId,t},ScreenObject.prototype._preloadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._preloadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype._loadImage=function(t,e,i){e=this._checkAndEnhanceParamsForFileLoading(t,e,i);ScreenObject.uber._loadImage.call(this,t,e.settings,e.callback)},ScreenObject.prototype.setPosition=function(t,e){this.position={left:t+\"px\",top:e+\"px\"},this._refreshDisplayState()},ScreenObject.prototype.getPosition=function(){return{x:this.position.x,y:this.position.y}},ScreenObject.prototype.setSize=function(t,e){this.size.width=t,this.size.height=e,this._refreshDisplayState()},ScreenObject.prototype.getSize=function(){return{width:this.size.width,height:this.size.height}},ScreenObject.prototype.setOpacity=function(t){this.opacity=t,this._refreshDisplayState()},ScreenObject.prototype.getOpacity=function(){return this.opacity},ScreenObject.prototype.animateAction=function(t,e,i){i=i||noop,this.isAnimated=!0;var n=void 0!==e.duration?e.duration:1e3,r=e.timingFunction||\"linear\";function o(t){return!isNaN(parseFloat(t))&&isFinite(t)}function s(t){var e={position:{},size:{width:null,height:null},zIndex:null,opacity:null,rotation:null};return deep(e,t),e}function a(t,e){var i=e.size,n=t.size,r=(null==i.width&&(i.width=n.width),null==i.height&&(i.height=n.height),t.size=i,t.position),o=e.position,s=null,a=null,c=null,h=null;[\"left\",\"right\",\"hcenter\"].forEach(function(t){t in r&&(s=t),t in o&&(c=t)}),[\"bottom\",\"top\",\"vcenter\"].forEach(function(t){t in r&&(a=t),t in o&&(h=t)}),c&&null!==o[c]&&(delete r[s],r[c]=o[c]),h&&null!==o[h]&&(delete r[a],r[h]=o[h]),null!=e.rotation&&(t.rotation=e.rotation),null!=e.opacity&&(t.opacity=e.opacity),null!=e.zIndex&&(t.zIndex=e.zIndex)}e.layoutSpecificValues?e.layoutSpecificValues.forEach(function(t,e){this.layoutSpecificValues[e]&&a(this.layoutSpecificValues[e],s(t))}.bind(this)):(null!=(e=s(e.properties)).position.x&&(e.position.left=e.position.x+\"px\"),null!=e.position.y&&(e.position.top=e.position.y+\"px\"),null!=e.zIndex&&(e.zIndex=e.zIndex+ScreenObject._zIndexOffset,this.zIndex=e.zIndex),null!=e.size.width&&o(e.size.width)&&(e.size.width+=\"px\"),null!=e.size.height&&o(e.size.height)&&(e.size.height+=\"px\"),a(this.layoutCurrent,e));var c,h,u,l=this.node,e=(celtra.styler.css(l,\"transition\",\"\"),celtra.styler.css(l,\"transitionProperty\",\"all\"),celtra.styler.css(l,\"transitionDuration\",n+\"ms\"),celtra.styler.css(l,\"transitionTimingFunction\",r),this._refreshDisplayState());function p(){flash(),Date.now()<u&&setTimeout(p,ScreenObject.redrawTriggerInterval)}0<n&&e?(c=!1,h=function(){c||(c=!0,i())},ScreenObject.requiresRedrawToTriggerAnimationEvents&&(u=Date.now()+(Number(n)||0),p()),setTimeout(h,(Number(n)||0)+500,!0),once(l,\"transitionend\",function(t){celtra.styler.css(l,\"transition\",\"\"),setTimeout(h,0,!1)},!1)):(celtra.styler.css(l,\"transition\",\"\"),setTimeout(i,0<n?n:0))},ScreenObject.prototype.enterRenderTreeAndAppear=function(t){t&&this.parentScreen._isRendering&&this.enterRenderTree(),t&&!this.isAppearing&&this._shouldAppear&&this.appear()},ScreenObject.prototype.scaleAction=function(t,e,i){var n=e.useOriginalSize?this.originalSize:this.size,r=e.scale/100,n={width:n.width*r,height:n.height*r},r={x:this.position.x+this.size.width/2-n.width/2,y:this.position.y+this.size.height/2-n.height/2};this.animateAction(t,{properties:{position:r,size:n},duration:e.duration,timingFunction:e.timingFunction},i)},ScreenObject.prototype.showAction=function(t,e,i){var n=this.hidden;this.hidden=!1,this.node.style.display=\"block\",this.enterRenderTreeAndAppear(n),this.node.offsetWidth,nextFrame(i)},ScreenObject.prototype.hideAction=function(t,e,i){var n=this.hidden;this.hidden=!0,this.node.style.display=\"none\",!n&&this.parentScreen._isRendering&&(this.isAppearing&&(this.disappear(),this._shouldAppear=!0),this.exitRenderTree()),setTimeout(i,0)},ScreenObject.prototype.isHidden=function(){return this.hidden},ScreenObject.prototype.resetAction=function(t,e,i){this.layoutSpecificValues=JSON.parse(this.originalLayoutSpecificValues),this.reset(),this.zIndex=this.originalZIndex,this.finishAnimation(),this._refreshDisplayState(),defer(i)},ScreenObject.prototype.addStyle=function(t){var e,i=\"#celtra-object-\"+this.localId,n=this.node,r=/^:(link|visited|active|hover|focus|first-child|nth-child|nth-last-child|nth-of-type|first-of-type|last-of-type|empty|target|checked|enabled|disabled)/,o=/,\\s*/g,s=(this.styleNode||(this.styleNode=document.createElement(\"style\"),(n=n||document.getElementsByTagName(\"head\")[0]).appendChild(this.styleNode)),[]);for(e in t)s.push({selector:e.split(o).map(function(t){return i+(r.test(t)?\"\":\" \")+t}).join(\",\"),attributes:t[e]});n=this._styleSheetTemplate({rules:s});this.styleNode.textContent+=n},ScreenObject.prototype._styleSheetTemplate=tmpl(\"<% for (var i = 0; i < rules.length; i++) { %><%= rules[i].selector %> { <%= rules[i].attributes %> }\\n<% } %>\"),ScreenObject.prototype.css=function(e,i){void 0===i&&(i=e,e=this.getNode()),Object.keys(i).forEach(function(t){celtra.styler.css(e,t,i[t])})},ScreenObject.prototype.getNestedContainers=function(){return[]},ScreenObject.prototype.getActiveContainers=function(){return this.getNestedContainers()};;\nfunction Hotspot(){}inherit(Hotspot,ScreenObject),Hotspot.toString=function(){return\"[Clazz Hotspot]\"},Hotspot.prototype.toString=function(){return\"[Hotspot \"+this.localId+\"]\"},Hotspot.prototype.createNode=function(){var t=Hotspot.uber.createNode.call(this);return addClass(t,\"touchable\"),attach(t,\"tap\",this.handleTap),t},Hotspot.prototype.handleTap=function(t){t.stopPropagation()};;\nfunction Picture(){}inherit(Picture,ScreenObject),extend(Picture.prototype,FeedImageCreator),extend(Picture.prototype,StaticContentMixin),Picture.toString=function(){return\"[Clazz Picture]\"},Picture.prototype.toString=function(){return\"[Picture \"+this.localId+\"]\"},Picture.prototype.createNode=function(){\"string\"==typeof this.imageSourceFeedFieldKey&&(FeedData.checkAndTrackValue(this.imageSourceFeedFieldKey,this.imageSourceFeedRowIndex,this.constructor.name,\"imageSourceFeedFieldKey\"),this.file=this._createFeedImageFile(\"imageSource\",this.imageSourceFeedRowIndex));var t=Picture.uber.createNode.call(this);return this.file===this.placeholderFile?\"string\"==typeof this.imageSourceFeedFieldKey||this._newFileWasSet||(addClass(t,\"empty\"),this._preloadImage(new File(\"runner/image-placeholder.png\"),function(e,i){this._isSettingFileInProgress||(t.style.backgroundImage=\"url(\"+i+\")\")}.bind(this))):this.file&&this._preloadImage(this.file,{},function(e,i){this._newFileWasSet||this._handlePreloadedImage(t,e)}.bind(this)),t},Picture.prototype.awake=function(){Picture.uber.awake.call(this),this.placeholderFile=new File(\"runner/image-placeholder.png\"),this.placeholderFile.meta={height:28,width:28},this.file||(this.file=this.placeholderFile),this._originalFile=this.file,this._newFileWasSet=!1},Picture.prototype._handlePreloadedImage=function(e,i){this.file.dynamic&&(this.file.meta={height:i.naturalHeight,width:i.naturalWidth});var t=\"\",r=\"\",s=\"no-repeat\",a=(this.imagePosition&&(t=this.imagePosition.replace(\"-\",\" \")),this.sizeUsingTransforms()?this.getNaturalSize():this.size),n=this.fittingSize;switch(n=\"fitUpToOriginal\"===this.fittingSize?a.width<this.file.width||a.height<this.file.height?\"fit\":\"original\":n){case\"original\":r=this.file.width+\"px \"+this.file.height+\"px\";break;case\"fit\":r=\"contain\";break;case\"fill\":r=\"cover\";break;case\"repeat\":r=this.file.width+\"px \"+this.file.height+\"px\",s=\"repeat\";break;default:r=\"100% 100%\"}a=document.createElement(\"div\");a.style.cssText=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\",a.style.backgroundImage=\"url('\"+(i.src||\"\").replace(\"'\",\"-\")+\"')\",a.style.backgroundPosition=t,a.style.backgroundSize=r,a.style.backgroundRepeat=s,ScreenObject.dummyImageSpacer&&((n=document.createElement(\"img\")).style.cssText=\"position: absolute; top: 0; left: 0; width: 100%; height: 100%;\",n.src=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",a.appendChild(n)),e.appendChild(a)},Picture.prototype.positionUsingTransforms=function(){return!(ios(\"8\",null)||desktop()&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent))&&this.isAnimated},Picture.prototype.sizeUsingTransforms=Picture.prototype.positionUsingTransforms,Picture.prototype.getNaturalSize=function(){var e,i,t,r,s,a,n,h,l;return this.file?(h=(e=this.file.width)/(i=this.file.height),n=(t=this.originalSize.width)/(r=this.originalSize.height),s=2048,\"original\"==this.fittingSize||\"fitUpToOriginal\"==this.fittingSize||\"repeat\"==this.fittingSize?{width:t,height:r}:\"stretch\"==this.fittingSize?{width:e,height:i}:(a=n<h&&\"fit\"==this.fittingSize||h<n&&\"fill\"==this.fittingSize,n=h<n&&\"fit\"==this.fittingSize||n<h&&\"fill\"==this.fittingSize,h=e,l=i,a?l=e/t*r:n&&(h=i/r*t),s<h&&(l*=s/h,h=s),s<l&&(h*=s/l,l=s),{width:h,height:l})):Picture.uber.getNaturalSize.call(this)},Picture.prototype.prepareFrame=function(){const e=this._calculateNewStyleAttributes();return function(){this._applyStyles(this.node,e)}.bind(this)},Picture.prototype.getImageUrl=function(){if(this.file)return this.file.getUrl()};;\nfunction Button(){}inherit(Button,ScreenObject),extend(Button.prototype,TextStyleIntegrator),Button.toString=function(){return\"[Clazz Button]\"},Button.prototype.toString=function(){return\"[Button \"+this.localId+\"]\"},Object.defineProperties(Button.prototype,{_borderRoundness:{get:function(){var e,t,o,n=0,r=0,s=0,i=0;return this.border&&\"number\"==typeof this.borderRadius?n=this.borderRadius:!1!==this.border||this.roundness?0<(i=\"number\"==typeof this.roundness?this.roundness:i)&&(t=(e=Math.min(this.getNaturalSize().height,this.getNaturalSize().width))/2,o=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),i<50?n=t*(i/50):(o=t+(o/2-t)*((i-50)/50),r=this.getNaturalSize().width==e?t:o,s=this.getNaturalSize().height==e?t:o)):i=0,this.shadow&&ios(\"8\")&&3<=window.devicePixelRatio&&(n<1&&(n=1),r<1&&(r=1),s<1&&(s=1)),i<50?n+\"px\":r+\"px \"+s+\"px\"}}}),Button.prototype.getBorderWidth=function(){return this.borderWidth},Button.prototype.getShadowDistance=function(){return this.shadowDistance},Button.prototype.getShadowBlur=function(){return this.shadowBlur},Button.prototype.awake=function(){Button.uber.awake.call(this),this._defaultValues={backgroundUpImage:\"runner/clazzes/Button/button.png\",backgroundDownImage:\"runner/clazzes/Button/button-down.png\"},this._handleTap=this._handleTap.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this)},Button.prototype.createNode=function(){var e,t,o=Button.uber.createNode.call(this),n=creative.runtimeParams.overrides||creative.runtimeParams,n=n.deviceInfo&&n.deviceInfo.deviceType.toLowerCase();return this._hoverEnabled=(\"Desktop\"===creative.intendedDeviceType||\"Any\"===creative.intendedDeviceType)&&\"desktop\"===n,this._privateApiTracked={},this._backgroundElement=null,this._foregroundElement=null,this._textBorder=0,this._textLineHeight=1,this._cssRules={},this._useBackgroundImage=\"image\"===this.background,this._useForegroundImage=\"image\"===(this._useBackgroundImage?this.foregroundForImage:this.foregroundForCss),this._originalCallToActionText=this.callToActionText,\"string\"==typeof this.callToActionTextFeedFieldKey&&(FeedData.checkAndTrackValue(this.callToActionTextFeedFieldKey,this.callToActionTextFeedRowIndex,this.constructor.name,\"callToActionTextFeedFieldKey\"),n=\"\",\"string\"==typeof(t=FeedData.getFieldValueByKey(this.callToActionTextFeedFieldKey,this.callToActionTextFeedRowIndex))&&FeedData.isCorrectFieldType(this.callToActionTextFeedFieldKey,this.constructor.name,\"callToActionTextFeedFieldKey\")&&(n=t.replace(\"\\\\[\",\"\").replace(\"\\\\]\",\"\")),this.callToActionText=n),\"string\"==typeof this.textFontFeedFieldKey&&(FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,\"textFontFeedFieldKey\"),\"string\"==typeof(t=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex))&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,\"textFontFeedFieldKey\")&&(e=creative.fonts.find(function(e){return e.typefaceId===t})),this.font=e),addClass(o,\"touchable\"),this._createBackground(o),this._createForeground(o),this.addStyle(this._cssRules),attach(o,\"tap\",this._handleTap),attach(o,\"touchstart\",this._handleTouchStart),o},Button.prototype._createBackground=function(e){var t,o,n,r,s,i,a;this._backgroundElement=document.createElement(\"div\"),addClass(this._backgroundElement,\"background\"),this._useBackgroundImage?(s=!1,t=\"normal\",o=\"focus\",n=\"pressed\",r=function(e,t){addClass(t,e),this._backgroundElement.appendChild(t)}.bind(this),this.backgroundUpImage?this._preloadImage(this.backgroundUpImage,function(e){r(t,e)}):(s=!0,this._preloadImage(new File(this._defaultValues.backgroundUpImage),function(e){r(t,e)})),this._hoverEnabled&&this.backgroundHoverImage&&this._preloadImage(this.backgroundHoverImage,function(e){r(o,e)}),this.backgroundDownImage?this._preloadImage(this.backgroundDownImage,function(e){r(n,e)}):s&&this._preloadImage(new File(this._defaultValues.backgroundDownImage),function(e){r(n,e)}),this._cssRules[\".background .\"+t]=\"display: block;\",this._cssRules[\".background .\"+o]=\"display: none;\",this._cssRules[\".background .\"+n]=\"display: none;\",this._hoverEnabled&&this.backgroundHoverImage&&(this._cssRules[\":hover .background .\"+t]=\"display: none;\",this._cssRules[\":hover .background .\"+o]=\"display: block;\",this._cssRules[\":hover .background .\"+n]=\"display: none;\"),(this.backgroundDownImage||s)&&(this._cssRules[\".background.down .\"+t]=\"display: none;\",this._cssRules[\".background.down .\"+o]=\"display: none;\",this._cssRules[\".background.down .\"+n]=\"display: block;\")):(this.backgroundColor&&(s=\"\",s=Color.isGradient(this.backgroundColorUp)?s+Color.createGradientStyle(this.backgroundColorUp)+\"background-color: transparent;\":s+\"background-image: none; background-color: \"+this.backgroundColorUp+\";\",this._cssRules[\".background\"]=s,this._hoverEnabled&&this.backgroundColorHover&&(s=\"\",s=Color.isGradient(this.backgroundColorHover)?s+Color.createGradientStyle(this.backgroundColorHover)+\"background-color: transparent;\":s+\"background-image: none; background-color: \"+this.backgroundColorHover+\";\",this._cssRules[\":hover .background\"]=s),s=\"\",s=Color.isGradient(this.backgroundColorDown)?s+Color.createGradientStyle(this.backgroundColorDown)+\"background-color: transparent;\":s+\"background-image: none; background-color: \"+this.backgroundColorDown+\";\",this._cssRules[\".background.down\"]=s),this.border&&(this._backgroundElement.style.borderColor=this.borderColor,this._backgroundElement.style.borderWidth=this.getBorderWidth()+\"px\",(deviceInfo.browser.chrome()||deviceInfo.browser.samsung())&&(s=\"1\")===(s=Color.isRgba(this.borderColor)?Color.patternRgba.exec(this.borderColor)[Color.matchRgbaAlpha]:s)&&(this._backgroundElement.style.backgroundClip=\"border-box\")),this.shadow&&(s=this.shadowAngle%90==0?-.3:0,a=this.shadowAngle*(Math.PI/180),i=Math.round(this.getShadowDistance()*Math.cos(a)),a=Math.round(this.getShadowDistance()*Math.sin(a)),celtra.styler.css(this._backgroundElement,\"boxShadow\",i+\"px \"+a+\"px \"+this.getShadowBlur()+\"px \"+s+\"px \"+this.shadowColor))),e.appendChild(this._backgroundElement)},Button.prototype._createForeground=function(e){var t,o,n,r,s=0<this.callToActionText.trim().length;this._foregroundElement=document.createElement(\"div\"),addClass(this._foregroundElement,\"foreground\"),!this._useBackgroundImage&&this.border?(this._foregroundElement.style.borderWidth=this.getBorderWidth()+\"px\",this._textBorder=this.getBorderWidth()):this._textBorder=0,this._useForegroundImage?(addClass(this._foregroundElement,this.foregroundStretchImage?\"image-stretch\":\"image-fit\"),t=\"normal\",o=\"focus\",n=\"pressed\",r=function(e,t){var o=document.createElement(\"div\");addClass(o,e),o.style.backgroundImage='url(\"'+t.src+'\")',this._foregroundElement.appendChild(o)}.bind(this),this.foregroundUpImage&&this._preloadImage(this.foregroundUpImage,function(e){r(t,e)}),this._hoverEnabled&&this.foregroundHoverImage&&this._preloadImage(this.foregroundHoverImage,function(e){r(o,e)}),this.foregroundDownImage&&this._preloadImage(this.foregroundDownImage,function(e){r(n,e)}),this._cssRules[\".foreground .\"+t]=\"display: block;\",this._cssRules[\".foreground .\"+o]=\"display: none;\",this._cssRules[\".foreground .\"+n]=\"display: none;\",this._hoverEnabled&&this.foregroundHoverImage&&(this._cssRules[\":hover .foreground .\"+t]=\"display: none;\",this._cssRules[\":hover .foreground .\"+o]=\"display: block;\",this._cssRules[\":hover .foreground .\"+n]=\"display: none;\"),this.foregroundDownImage&&(this._cssRules[\".foreground.down .\"+t]=\"display: none;\",this._cssRules[\".foreground.down .\"+o]=\"display: none;\",this._cssRules[\".foreground.down .\"+n]=\"display: block;\")):s&&(addClass(this._foregroundElement,\"call-to-action\"),this._foregroundElement.textContent=this.callToActionText,this.initializeFont(),this._cssRules[\".foreground\"]=\"color: \"+this.textColor+\";\",this._hoverEnabled&&this.textColorHover&&(this._cssRules[\":hover .foreground\"]=\"color: \"+this.textColorHover+\";\"),this._cssRules[\".foreground.down\"]=\"color: \"+this.textColorDown+\";\"),e.appendChild(this._foregroundElement)},Button.prototype._verticallyCenterText=function(){var e,t=this._textLineHeight;void 0!==this.lineSpacing?(e=t*this.callToActionText.split(/\\n/).length,e=((this.sizeUsingTransforms()?this.getNaturalSize():this.size).height-e)/2-this._textBorder,this._foregroundElement.style.paddingTop=e+\"px\"):(t=this.size.height-2*this._textBorder,this._foregroundElement.style.lineHeight=t+\"px\")},Button.prototype.redrawLayout=function(){this._useBackgroundImage||(e=this._borderRoundness,0<parseInt(e,10)&&(this._backgroundElement&&(this._backgroundElement.style.borderTopLeftRadius=e,this._backgroundElement.style.borderTopRightRadius=e,this._backgroundElement.style.borderBottomLeftRadius=e,this._backgroundElement.style.borderBottomRightRadius=e),this._foregroundElement&&(this._foregroundElement.style.borderTopLeftRadius=e,this._foregroundElement.style.borderTopRightRadius=e,this._foregroundElement.style.borderBottomLeftRadius=e,this._foregroundElement.style.borderBottomRightRadius=e)));var e=0<this.callToActionText.trim().length;!this._useForegroundImage&&e&&(this.applyTextSize(this._foregroundElement),this._textLineHeight=parseFloat(this._foregroundElement.style.lineHeight),this._verticallyCenterText())},Button.prototype.updateTextStyle=function(){var e=0<this.callToActionText.trim().length;!this._useForegroundImage&&e&&(this.applyTextStyle(this._foregroundElement),this._foregroundElement.style.color=\"\",this._verticallyCenterText())},Button.prototype.resetAction=function(e,t,o){this.resetFont(),Button.uber.resetAction.call(this,e,t,noop),o()},Button.prototype._handleTap=function(e){e.stopPropagation()},Button.prototype._handleTouchStart=function(e){addClass(this._backgroundElement,\"down\"),addClass(this._foregroundElement,\"down\"),attach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),attach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel)},Button.prototype._handleTouchEnd=function(e){removeClass(this._backgroundElement,\"down\"),removeClass(this._foregroundElement,\"down\"),detach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),detach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel)},Button.prototype._handleTouchCancel=function(e){this._handleTouchEnd(e)};;\nfunction Texty(){}inherit(Texty,ScreenObject),extend(Texty.prototype,TextStyleIntegrator),extend(Texty.prototype,StaticContentMixin),Texty.toString=function(){return\"[Clazz Texty]\"},Texty.prototype.toString=function(){return\"[Texty \"+this.localId+\"]\"},Texty.prototype.awake=function(){Texty.uber.awake.call(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleTouchCancel=this._handleTouchCancel.bind(this),this._originalText=this.text,this._adaptToContentStrategy=\"none\",this._adaptToContentInProgress=!1,this._textCharactersEnclosedWithSpanElements=!1,this._lineBreakOptimizationStrategy=this.lineBreakOptimizationStrategy||\"none\",this._shortestLineToLongestLineMinRatio=this.shortestLineToLongestLineMinRatio||.25,this._maxPaddingToSizeRatio=this.maxPaddingToSizeRatio||.25,this._originalTextColor=this.textColor,this._originalFont=this.font,this._initialFrame=!0},Texty.prototype.createNode=function(){var t,e,i=Texty.uber.createNode.call(this),n=(this.scroller=null,this._autoscrolling=!1,this._listeningForTouches=!1,this._sanitizeText=!0,this._processSpecialChars=!1,this._shouldRenderSubTextStyles=this._hasText()&&this.subTextStyles&&0<this.subTextStyles.length,this.getFontSize()),o=this._getNaturalFontSize();return this._fontScaleFactor=n/o,this._lineHeightRatio=1,this._letterSpacingRatio=1,this._responsiveFontSize=this._getNaturalFontSize(),this._fontIsLoading=!1,\"string\"==typeof this.textColorFeedFieldKey&&(FeedData.checkAndTrackValue(this.textColorFeedFieldKey,this.textColorFeedRowIndex,this.constructor.name,\"textColorFeedFieldKey\"),this._shouldRenderSubTextStyles=!1),\"string\"==typeof this.textContentFeedFieldKey&&(FeedData.checkAndTrackValue(this.textContentFeedFieldKey,this.textContentFeedRowIndex,this.constructor.name,\"textContentFeedFieldKey\"),n=\"\",\"string\"==typeof(e=FeedData.getFieldValueByKey(this.textContentFeedFieldKey,this.textContentFeedRowIndex))&&FeedData.isCorrectFieldType(this.textContentFeedFieldKey,this.constructor.name,\"textContentFeedFieldKey\")&&(n=e),this.text=n,this._processSpecialChars=!0,this._shouldRenderSubTextStyles=!1),this.isTemplateField&&(this._processSpecialChars=!0),this._initialText=this.text,this._initialProcessSpecialChars=this._processSpecialChars,this._initialScaleFont=this.scaleFont,this._scrollContainer=document.createElement(\"div\"),this._scrollContainer.className=\"scroll-container\",this._textContainer=document.createElement(\"div\"),this._textContainerClone=document.createElement(\"div\"),this._textContainerClone.style.display=\"none\",this._textContainerResponsive=document.createElement(\"div\"),this._textContainerResponsive.style.visibility=\"hidden\",!deviceInfo.browser.chrome(null,\"48\")&&\"Samsung Browser\"!==deviceInfo.browser.name||this._setTextContainerStyle(\"textRendering\",\"geometricPrecision\"),this.scrollable&&(this.scroller=new Scroller(i,this._textContainer,{direction:\"vertical\",animating:!0,easing:!0,locking:!1,scrollbarPosition:this.scrollbarPosition,scrollbarColor:this.scrollbarColor})),\"string\"==typeof this.textFontFeedFieldKey&&(FeedData.checkAndTrackValue(this.textFontFeedFieldKey,this.textFontFeedRowIndex,this.constructor.name,\"textFontFeedFieldKey\"),\"string\"==typeof(e=FeedData.getFieldValueByKey(this.textFontFeedFieldKey,this.textFontFeedRowIndex))&&FeedData.isCorrectFieldType(this.textFontFeedFieldKey,this.constructor.name,\"textFontFeedFieldKey\")&&(t=creative.fonts.find(function(t){return t.typefaceId===e})),this.font=t,this._shouldRenderSubTextStyles=!1),this.font instanceof FontBase&&(o=!this._hasText(),this._updateTextContent(),this.initializeFont(o),this.font.needsLoading()&&!o&&(this._fontIsLoading=!0,this.font.loadStyle(function(){this._fontIsLoading=!1,this._handleSizeUpdate(!0)}.bind(this)))),this._initialShouldRenderSubTextStyles=this._shouldRenderSubTextStyles,this._shouldRenderSubTextStyles&&this.subTextStyles.forEach(function(t){t.loadFontIfNeeded&&(this.incrementLoadingCount(),t.loadFontIfNeeded(this.decrementLoadingCount.bind(this)))},this),this._scrollContainer.appendChild(this._textContainer),this._scrollContainer.appendChild(this._textContainerClone),this._scrollContainer.appendChild(this._textContainerResponsive),i.appendChild(this._scrollContainer),this._startListeningForTouches(),i},Texty.prototype._hasText=function(){return 0<this.text.trim().length},Texty.prototype._appear=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawLayout=function(){this._handleSizeUpdate(!0)},Texty.prototype.redrawSceneLayout=function(){this._handleSizeUpdate(!1)},Texty.prototype._handleSizeUpdate=function(t){var e,i,n;this.font&&this.font.needsLoading()&&this._fontIsLoading||(e=null,i=this.node&&document.body.contains(this.node),n=this.responsiveFont||0<this.textAlignVertical||\"none\"!==this._adaptToContentStrategy||\"none\"!==this._lineBreakOptimizationStrategy,this.node&&this.node.parentNode&&!i&&n&&(e=this.node.parentNode,document.body.appendChild(this.node)),this._updateTextSizeAndAlignment(t),this._shrinkContentSizeToOptimizeLineBreaks(),this._adaptComponentSizeToContentSize(),this._updateScrollbar(),e&&e.appendChild(this.node))},Texty.prototype._overrideNaturalSize=function(t,e){this.setSize(t,e);var i=this.layoutCurrentIndex||0,n=JSON.parse(this.originalLayoutSpecificValues);n[i].size={width:t+\"px\",height:e+\"px\"},this.originalLayoutSpecificValues=JSON.stringify(n)},Texty.prototype._updateTextSizeAndAlignment=function(t){this._setTextContainerStyle(\"paddingLeft\",this.getTextPaddingLeft()+\"px\"),this._setTextContainerStyle(\"paddingRight\",this.getTextPaddingRight()+\"px\"),this._setTextContainerStyle(\"paddingTop\",this.getTextPaddingTop()+\"px\"),this._setTextContainerStyle(\"marginTop\",\"\"),this.responsiveFont||(this.applyTextSize(this._textContainer),this.applyTextSize(this._textContainerClone)),this._horizontallyRealignTextWithPadding(),t&&this._adjustFontSizeToFitContainer(),this._verticallyAlignText()},Texty.prototype._shrinkContentSizeToOptimizeLineBreaks=function(){if(\"none\"!==this._lineBreakOptimizationStrategy&&\"pre-line\"===this.textWhiteSpace){var t,e=!1,i=5*this._fontScaleFactor,n=0,o=this._getLinesProperties().length;if(!(o<=1))do{if(e=!1,(t=this._getLinesProperties()).length>o){n-=i,this._setPaddingRelativeToAlignment(n);break}}while((\"all\"===this._lineBreakOptimizationStrategy?this._getShortestLineLength(t):t[t.length-1].width)<this._shortestLineToLongestLineMinRatio*this._getLongestLineLength(t)&&(this._setPaddingRelativeToAlignment(n+=i),n<this._maxPaddingToSizeRatio*this.size.width&&(e=!0)),e)}},Texty.prototype._setPaddingRelativeToAlignment=function(t){switch(this._getHorizontalAlignment()){case\"left\":this._textContainer.style.paddingRight=this.getTextPaddingRight()+t+\"px\";break;case\"right\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t+\"px\";break;case\"center\":this._textContainer.style.paddingLeft=this.getTextPaddingLeft()+t/2+\"px\",this._textContainer.style.paddingRight=this.getTextPaddingRight()+t/2+\"px\"}},Texty.prototype._adaptComponentSizeToContentSize=function(){var t,e,i,n,o;\"none\"===this._adaptToContentStrategy||this._adaptToContentInProgress||this.scaleFont||\"pre-line\"!==this.textWhiteSpace||(t=this._getLinesProperties(),e=this._getLongestLineLength(t),i=t[t.length-1],0!==e&&i&&(n=Math.max(1,this._responsiveFontSize*this._lineHeightRatio),n=i.height-n+t[0].top,t=Math.ceil(e)+this._getNaturalTextPaddingLeft()+this._getNaturalTextPaddingRight(),e=Math.ceil(i.top+i.height-n)+this._getNaturalTextPaddingTop()+this._getNaturalTextPaddingBottom(),this.responsiveFont&&(e=Math.max(e,this._getContentSizeOfResponsiveContainer().height/this._fontScaleFactor+this._getNaturalTextPaddingTop())),t=Math.min(this.size.width,t),e=Math.min(this.size.height,e),\"vertical\"===this._adaptToContentStrategy?t=this.size.width:\"horizontal\"===this._adaptToContentStrategy&&(e=this.size.height),i=this.position.x,n=this.position.y,\"center\"===(o=this._getHorizontalAlignment())?i=this.position.x+(this.size.width-t)/2:\"right\"===o&&(i=this.position.x+(this.size.width-t)),\"50\"===this.textAlignVertical?n=this.position.y+(this.size.height-e)/2:\"100\"===this.textAlignVertical&&(n=this.position.y+(this.size.height-e)),this._adaptToContentInProgress=!0,this._overrideNaturalSize(t,e),this.setPosition(i,n),this._adaptToContentInProgress=!1,this.emit(\"componentSizeUpdated\")))},Texty.prototype._getHorizontalAlignment=function(){switch(this.textAlign){case\"justify\":return\"center\";case\"start\":return\"ltr\"===window.getComputedStyle(this._textContainer).direction?\"left\":\"right\";case\"end\":return\"ltr\"===window.getComputedStyle(this._textContainer).direction?\"right\":\"left\";default:return this.textAlign}},Texty.prototype._getContentSizeOfResponsiveContainer=function(){var t=this._textContainerResponsive.getBoundingClientRect(),e=(parseInt(t.height,10)-t.height)*this._fontScaleFactor,t=(parseInt(t.width,10)-t.width)*this._fontScaleFactor,e=this._textContainerResponsive.scrollHeight+e;return{width:this._textContainerResponsive.scrollWidth+t,height:e}},Texty.prototype._setTextContainerStyle=function(t,e){this._textContainer.style[t]=e,this._textContainerClone.style[t]=e,this._textContainerResponsive.style[t]=e},Texty.prototype._setTextContainerAutomaticDirection=function(t){\"auto\"!==this.textDirection&&(t.style.direction=\"\",t.setAttribute(\"dir\",\"auto\"))},Texty.prototype._applyAdjustedFontSizeStyle=function(t){var e=this._responsiveFontSize*this._fontScaleFactor;t.style.fontSize=e+\"px\",t.style.lineHeight=Math.max(1,e*this._lineHeightRatio)+\"px\",t.style.letterSpacing=e*this._letterSpacingRatio+\"px\"},Texty.prototype._adjustFontSizeToFitContainer=function(){var t,e,i,n;this.responsiveFont&&(e=void 0!==this.responsiveFontFactor?this.responsiveFontFactor:.5,i=void 0!==this.responsiveFontFactor?6:1,n=this.getFontSize(),t=this._getNaturalFontSize(),e=Math.max(Math.round(t*e),i),i=Math.max(1,this.getLineSpacing()+n),this._lineHeightRatio=i/n,this._letterSpacingRatio=this.getLetterSpacing()/n,i=this.getNaturalSize(),n=function(t){return this._responsiveFontSize=t,this._applyAdjustedFontSizeStyle(this._textContainerResponsive),this._getContentSizeOfResponsiveContainer()}.bind(this),this._responsiveFontSize=ShrinkToFit.getCalculatedFontSize(i,n,t,e),this._applyAdjustedFontSizeStyle(this._textContainer),this._applyAdjustedFontSizeStyle(this._textContainerClone))},Texty.prototype.updateTextStyle=function(){this.applyTextStyle(this._textContainer),this.applyTextStyle(this._textContainerClone),this.applyTextStyle(this._textContainerResponsive),\"string\"==typeof this.textContentFeedFieldKey&&(this._setTextContainerAutomaticDirection(this._textContainer),this._setTextContainerAutomaticDirection(this._textContainerClone),this._setTextContainerAutomaticDirection(this._textContainerResponsive));var t=void 0!==this.textWhiteSpace?this.textWhiteSpace:\"pre-wrap\";this._setTextContainerStyle(\"whiteSpace\",t),this._verticallyAlignText()},Texty.prototype.getTextColor=function(){var t;return\"string\"==typeof this.textColorFeedFieldKey&&\"string\"==typeof(t=FeedData.getFieldValueByKey(this.textColorFeedFieldKey,this.textColorFeedRowIndex))&&FeedData.isCorrectFieldType(this.textColorFeedFieldKey,this.constructor.name,\"textColorFeedFieldKey\")?t:TextStyleIntegrator.getTextColor.call(this)},Texty.prototype.loadFont=function(){this.font instanceof FontBase&&TextStyleIntegrator.loadFont.apply(this,arguments)},Texty.prototype._horizontallyRealignTextWithPadding=function(){var t=this.getTextPaddingLeft(),e=this.getTextPaddingRight(),i=parseInt(this._textContainer.style.paddingLeft,10),n=parseInt(this._textContainer.style.paddingRight,10),t=(this.scaleFont&&\"right\"==this.textAlign&&!isNaN(i)?t=i-this.getTextPaddingLeft():this.scaleFont&&\"left\"==this.textAlign&&!isNaN(n)&&(e=n-this.getTextPaddingRight()),Math.max(t,this.getTextPaddingLeft())),e=Math.max(e,this.getTextPaddingRight());t!==i&&this._setTextContainerStyle(\"paddingLeft\",t+\"px\"),e!==n&&this._setTextContainerStyle(\"paddingRight\",e+\"px\")},Texty.prototype._verticallyAlignText=function(){var t,e,i,n,o;this.scrollable||this._scrollContainer.offsetHeight<=this._textContainer.offsetHeight||void 0===this.textAlignVertical||(this._setTextContainerStyle(\"paddingTop\",\"\"),o=0,t=this.scrollable?0:Number(this.textAlignVertical),e=this.getNaturalSize().height,this._textContainerClone.style.height=0,this._textContainerClone.style.display=\"inline\",i=0===t?0:this._textContainerClone.scrollHeight,this._textContainerClone.style.display=\"none\",n=Math.max(0,(e-i)*t/100),n=isNaN(n)?0:n,o=50<t&&i<e?-this.getTextPaddingBottom():50==t&&i<e?(this.getTextPaddingTop()+this.getTextPaddingBottom())/4:this.getTextPaddingTop(),this._setTextContainerStyle(\"marginTop\",n+o+\"px\"))},Texty.prototype._getLongestLineLength=function(t){return Math.max.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getShortestLineLength=function(t){return Math.min.apply(null,t.map(function(t){return t.width}))},Texty.prototype._getLinesProperties=function(){this._encloseTextCharactersWithSpanElements();for(var t=this._textContainer.getBoundingClientRect(),e=this._textContainer.querySelectorAll(\"span\"),i=[],n=0;n<e.length;n++){var o=e[n].getBoundingClientRect(),s=o.top-t.top,a=o.left-t.left,h=i[i.length-1];h&&s===h.top?(a>h.left?h.width=Math.max(a-h.left+o.width,h.width):(h.width=Math.max(h.left-a+h.width,h.width),h.left=Math.min(a,h.left)),h.text=h.text+e[n].innerText):0!==o.width&&0!==o.height&&i.push({width:o.width,height:o.height,left:a,top:s,text:e[n].innerText})}return i},Texty.prototype._encloseTextCharactersWithSpanElements=function(){if(!this._textCharactersEnclosedWithSpanElements){for(var t=\"\",e=0;e<this._textContainer.childNodes.length;e++){var i=this._textContainer.childNodes[e];i.nodeType===Node.TEXT_NODE?t+=i.textContent.split(\"\").map(function(t){return\"<span>\"+t+\"</span>\"}).join(\"\"):t+=i.outerHTML}for(;this._textContainer.firstChild;)this._textContainer.removeChild(this._textContainer.firstChild);this._textContainer.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!0}},Texty.prototype._updateTextContent=function(){var t=this._applyStylesToText(this.text);this._textContainer.innerHTML=t,this._textContainerClone.innerHTML=t,this._textContainerResponsive.innerHTML=t,this._textCharactersEnclosedWithSpanElements=!1},Texty.prototype._applyStylesToText=function(t){var e=[],i=(this._shouldRenderSubTextStyles&&(e=this.subTextStyles.slice()),UnbreakableTextStyleConverter.hasUnbreakableCharacters(t));return this._processSpecialChars&&i&&(i=UnbreakableTextStyleConverter.extractStyleFromText(t),e.push(i.style),t=i.text),this._sanitizeText?TextStyleProcessor.processAndSanitize(t,e):TextStyleProcessor.processWithoutSanitization(t,e)},Texty.prototype._updateScrollbar=function(){this.scrollable&&(this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this.autoscrollEnabled&&(this._resetAutoScroll(),this._createAutoScroll()))},Texty.prototype._createAutoScroll=function(){var t=this.scroller.getMaxScroll(),e=(defer(function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,function(){\"return\"===this.autoscrollConclusion?this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0):\"loop\"===this.autoscrollConclusion&&(this._autoscrolling=!0,e())}.bind(this))}.bind(this),this.autoscrollDelay),function(){this._autoscrolling&&this.scroller.scrollTo(0,0,!0,this.autoscrollDuration,!0,function(){this.scroller.scrollTo(t.left,t.top,!0,this.autoscrollDuration,!0,e)}.bind(this))}.bind(this))},Texty.prototype._resetAutoScroll=function(){this._autoscrolling=!1},Texty.prototype._handleTouchStart=function(t){t.preventDefault(),new ActionContext(this,!0).trackUserInteraction(),this.scrollable&&(this._resetAutoScroll(),t.stopPropagation(),this.scroller._handleTouchStart(t),attach(this.parentUnit.node,\"touchmove\",this._handleTouchMove),attach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),attach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel))},Texty.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},Texty.prototype._handleTouchEnd=function(t){t.preventDefault(),this.scroller._handleTouchEnd(t),detach(this.parentUnit.node,\"touchmove\",this._handleTouchMove),detach(this.parentUnit.node,\"touchend\",this._handleTouchEnd),detach(this.parentUnit.node,\"touchcancel\",this._handleTouchCancel)},Texty.prototype._handleTouchCancel=function(t){this._handleTouchEnd(t)},Texty.prototype.positionUsingTransforms=retTrue,Texty.prototype.sizeUsingTransforms=retTrue,Texty.prototype.getNaturalSize=function(){return this.originalSize},Texty.prototype._getNaturalFontSize=function(){return this.toSizePx(this.fontSize,this.parentScreen.size.height)},Texty.prototype._getDefaultPadding=function(){return this.usePadding?2:0},Texty.prototype._getNaturalTextPaddingTop=function(){var t=TextStyleIntegrator.getTextPaddingTop.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingRight=function(){var t=TextStyleIntegrator.getTextPaddingRight.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingBottom=function(){var t=TextStyleIntegrator.getTextPaddingBottom.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype._getNaturalTextPaddingLeft=function(){var t=TextStyleIntegrator.getTextPaddingLeft.call(this);return\"number\"==typeof t?t:this._getDefaultPadding()},Texty.prototype.getTextPaddingTop=function(){return this._getNaturalTextPaddingTop()},Texty.prototype.getTextPaddingRight=function(){return this._getNaturalTextPaddingRight()},Texty.prototype.getTextPaddingBottom=function(){return this._getNaturalTextPaddingBottom()},Texty.prototype.getTextPaddingLeft=function(){return this._getNaturalTextPaddingLeft()},Texty.prototype._startListeningForTouches=function(){this.scrollable&&!this._listeningForTouches&&(attach(this._textContainer,\"touchstart\",this._handleTouchStart),this._listeningForTouches=!0)},Texty.prototype._stopListeningForTouches=function(){this._listeningForTouches&&(detach(this._textContainer,\"touchstart\",this._handleTouchStart),this._listeningForTouches=!1)},Texty.prototype._setText=function(t){this.text=String(t),this.loadFont(function(){this._shouldRenderSubTextStyles=!1,this._updateTextContent(),this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this.scaleFont&&(this.scaleFont=!1),this.hidden||this._handleSizeUpdate(!0)}.bind(this))},Texty.prototype.showAction=function(t,e,i){Texty.uber.showAction.call(this,t,e,function(){this._startListeningForTouches(),i()}.bind(this))},Texty.prototype.hideAction=function(t,e,i){Texty.uber.hideAction.call(this,t,e,function(){this._stopListeningForTouches(),i()}.bind(this))},Texty.prototype.resetAction=function(t,e,i){this._sanitizeText=!0,this.resetFont(),Texty.uber.resetAction.call(this,t,e,function(){this.hidden||this._startListeningForTouches(),this.text=this._initialText,this._processSpecialChars=this._initialProcessSpecialChars,this._shouldRenderSubTextStyles=this._initialShouldRenderSubTextStyles,this._updateTextContent(),this.scaleFont=this._initialScaleFont,this.checkAndFixAutoWritingDirectionSupport(this._textContainer),this.checkAndFixAutoWritingDirectionSupport(this._textContainerClone),this.checkAndFixAutoWritingDirectionSupport(this._textContainerResponsive),this._handleSizeUpdate(!0),i()}.bind(this))},Texty.prototype.setTextAction=function(t,e,i){this._sanitizeText=!1,this._processSpecialChars=!1,this._setText(e.text),i()},Texty.prototype.getText=function(){var t=String(this.text);return this._processSpecialChars&&(t=t.replace(/\\\\(\\]|\\[)/g,\"\")),t=this._sanitizeText?htmlentitize(t):t},Texty.prototype.setAdaptToContentStrategy=function(t){-1<[\"both\",\"vertical\",\"horizontal\",\"none\"].indexOf(t)&&(this._adaptToContentStrategy=t)},Texty.prototype.setLineBreakOptimizationStrategy=function(t){-1<[\"all\",\"last\",\"none\"].indexOf(t)&&(this._lineBreakOptimizationStrategy=t)},Texty.prototype.setShortestLineToLongestLineMinRatio=function(t){this._shortestLineToLongestLineMinRatio=t},Texty.prototype.setMaxPaddingToSizeRatio=function(t){this._maxPaddingToSizeRatio=t},Texty.prototype.prepareFrame=function(){const t=this.hasBakingAnimatedClass(this.node),e=this._calculateNewStyleAttributes();return function(){this.setBakingAnimatedClass(this.node,t),this._applyStyles(this.node,e),this._handleSizeUpdate(this._initialFrame),this._initialFrame=!1}.bind(this)},Texty.prototype.getFontScaleFactor=function(){return this._fontScaleFactor};;\nfunction Shapey(){}inherit(Shapey,ScreenObject),extend(Shapey.prototype,StaticContentMixin),Shapey.toString=function(){return\"[Clazz Shapey]\"},Shapey.prototype.toString=function(){return\"[Shapey \"+this.localId+\"]\"},Object.defineProperties(Shapey.prototype,{_borderRoundness:{get:function(){var e,t,r,a=0,i=0,o=0,s=this._defaultValues.roundness;return 0<(s=\"number\"==typeof this.roundness?this.roundness:s)&&(t=(e=Math.min(this.getNaturalSize().height,this.getNaturalSize().width))/2,r=Math.max(this.getNaturalSize().height,this.getNaturalSize().width),s<50?a=t*(s/50):(r=t+(r/2-t)*((s-50)/50),i=this.getNaturalSize().width==e?t:r,o=this.getNaturalSize().height==e?t:r)),this.shadow&&ios(\"8\")&&3<=window.devicePixelRatio&&(a<1&&(a=1),i<1&&(i=1),o<1&&(o=1)),s<50?a+\"px\":i+\"px \"+o+\"px\"}}}),Shapey.prototype.awake=function(){Shapey.uber.awake.call(this),this._defaultValues={backgroundColor:\"#365c99\",borderColor:\"#000000\",borderWidth:5,roundness:0,shadowAngle:0,shadowBlur:10,shadowColor:\"rgba(0,0,0,0.5)\",shadowDistance:0}},Shapey.prototype.createNode=function(){var e,t,r,a,i=Shapey.uber.createNode.call(this),o=(this._privateApiTracked={},this._scalingWorkaroundSizeThreshold=5,this._scalingWorkaroundSizeMultiplier=20,this._scalingWorkaroundHorizontal=!1,this._scalingWorkaroundVertical=!1,addClass(i,\"touchable\"),this._shapey=document.createElement(\"div\"),this._defaultValues.backgroundColor);return\"string\"==typeof this.backgroundColorFeedFieldKey?(FeedData.checkAndTrackValue(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex,this.constructor.name,\"backgroundColorFeedFieldKey\"),o=\"string\"==typeof(e=FeedData.getFieldValueByKey(this.backgroundColorFeedFieldKey,this.backgroundColorFeedRowIndex))&&FeedData.isCorrectFieldType(this.backgroundColorFeedFieldKey,this.constructor.name,\"backgroundColorFeedFieldKey\")?e:\"transparent\"):\"string\"==typeof this.backgroundColor&&(o=this.backgroundColor),Color.isGradient(o)?(e=Color.createGradientStyle(o),this.addStyle({\".gradient-shapey\":e}),addClass(this._shapey,\"gradient-shapey\")):this._shapey.style.backgroundColor=o,this.border&&(e=(void 0!==this.borderColor?this:this._defaultValues).borderColor,o=(\"number\"==typeof this.borderWidth?this:this._defaultValues).borderWidth,this._shapey.style.borderColor=e,this._shapey.style.borderStyle=\"solid\",this._shapey.style.borderWidth=o+\"px\",(deviceInfo.browser.chrome()||deviceInfo.browser.samsung())&&(o=\"1\")===(o=Color.isRgba(e)?Color.patternRgba.exec(e)[Color.matchRgbaAlpha]:o)&&(this._shapey.style.backgroundClip=\"border-box\")),this.shadow&&(e=(\"number\"==typeof this.shadowAngle?this:this._defaultValues).shadowAngle*(Math.PI/180),o=(\"number\"==typeof this.shadowBlur?this:this._defaultValues).shadowBlur,t=(void 0!==this.shadowColor?this:this._defaultValues).shadowColor,a=(\"number\"==typeof this.shadowDistance?this:this._defaultValues).shadowDistance,r=Math.round(a*Math.cos(e)),a=Math.round(a*Math.sin(e)),celtra.styler.css(this._shapey,\"boxShadow\",r+\"px \"+a+\"px \"+o+\"px \"+t)),i.appendChild(this._shapey),i},Shapey.prototype.redrawLayout=function(){var e;this._shapey&&(e=this._borderRoundness,0<parseInt(e,10)&&((this._scalingWorkaroundVertical||this._scalingWorkaroundHorizontal)&&(e=this._scaleBorderRadius(e)),this._shapey.style.borderTopLeftRadius=e,this._shapey.style.borderTopRightRadius=e,this._shapey.style.borderBottomLeftRadius=e,this._shapey.style.borderBottomRightRadius=e))},Shapey.prototype.prepareFrame=function(){const e=this._calculateNewStyleAttributes();return function(){this._applyStyles(this.node,e),this.redrawSceneLayout()}.bind(this)},Shapey.prototype._scaleBorderRadius=function(e){var t=this._scalingWorkaroundHorizontal?this._scalingWorkaroundSizeMultiplier:1,r=this._scalingWorkaroundVertical?this._scalingWorkaroundSizeMultiplier:1,a=/([0-9\\.]+)px ([0-9\\.]+)px/.exec(e);if(a&&2<a.length){var i=parseFloat(a[1]),a=parseFloat(a[2]);if(!isNaN(i)&&!isNaN(a))return i*t+\"px \"+a*r+\"px\"}else{i=parseFloat(e);if(!isNaN(i))return i*t+\"px \"+i*r+\"px\"}return e},Shapey.prototype._track=function(e){this._privateApiTracked[e]||(this._privateApiTracked[e]=!0,creative.track({name:\"retiredFeatureUsed\",featureType:\"apifunction\",featureName:e}))},Shapey.deprecatedPropertiesArray=[\"borderRoundness\",\"shapey\",\"defaultValues\"],Shapey.deprecatedPropertiesObject={},Shapey.deprecatedPropertiesArray.forEach(function(t){Shapey.deprecatedPropertiesObject[t]={get:function(){return this._track(\"Shapey.\"+t+\".getter\"),this[\"_\"+t]},set:function(e){this._track(\"Shapey.\"+t+\".setter\"),this[\"_\"+t]=e}}}),Shapey.prototype._scaleNaturalSize=function(e,t){return this.isAnimated&&this.sizeUsingTransforms()&&!this.border&&!this.shadow&&(this._scalingWorkaroundHorizontal=e.width<this._scalingWorkaroundSizeThreshold&&e.width<t.width,this._scalingWorkaroundVertical=e.height<this._scalingWorkaroundSizeThreshold&&e.height<t.height,this._scalingWorkaroundHorizontal&&(e.width*=this._scalingWorkaroundSizeMultiplier),this._scalingWorkaroundVertical&&(e.height*=this._scalingWorkaroundSizeMultiplier)),e},Object.defineProperties(Shapey.prototype,Shapey.deprecatedPropertiesObject);;\nfunction File(t){if(t)if(\"string\"==typeof t)this.url=t;else{if(!t.url)throw\"Url parameter must be set.\";deep(this,t),0!==this.url.indexOf(creative.cachedApiUrl)&&0!==this.url.indexOf(creative.insecureCachedApiUrl)||(t=this.url.split(\"/\"),void 0===this.name&&(this.name=t[t.length-1]||\"unknown\"),void 0===this.blobHash&&(this.blobHash=t[t.length-2]),void 0===this.retinaScaleFactor&&(this.retinaScaleFactor=File.getRetinaScaleFactor(this.name)),void 0===this.quality&&(this.quality=File.getDefaultQuality(this.name)))}}File.toString=function(){return\"[Clazz File]\"},File.prototype.toString=function(){return\"[File \"+this.localId+\"(\"+this.name+\"/\"+this.url+\")]\"},File.prototype.getOriginalUrl=function(){if(this.url){if(-1!==this.url.indexOf(\"://\"))return this.url;if(\"/\"===this.url[0])throw\"An absolute path as URL?\";return creative.resourceUrl+this.url}if(this.blobHash)return(creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"blobs/\"+this.blobHash+\"/\"+encodeURIComponent(this.name);throw\"Neither url nor blobHash set?\"},File.prototype.getUrl=function(t){var i=this.getOriginalUrl();return this.optimizable&&(i+=\"?transform=crush\",-1<this.quality&&(i+=\"&quality=\"+this.quality),t&&0<this.optimizedWidth(t)&&0<this.optimizedHeight(t)&&(i+=\"&resize=\"+this.optimizedWidth(t)+\"x\"+this.optimizedHeight(t)),this.dynamic&&\"string\"==typeof this.fitting&&0<this.fitting.length&&(i+=\"&fitting=\"+this.fitting)),i},File.prototype.getDataUri=function(t,i){t instanceof Function&&(i=t,t={});var e=!this.dynamic&&(void 0!==this.blobHash||0<=this.url.indexOf(\"api/animateySprites\")),r=creative.adapter.protoLoading.dataURIsSupported,a=creative.adapter.protoLoading.blobURIsSupported,n=\"treatment\"===(creative.experiments.get(\"UseDataURIsGlobally\")||{}).chosenVariant,h=1==creative.runtimeParams.dataURIsEnabled||1==creative.runtimeParams.turnOnBatching,r=(r||a)&&!creative.adapter.autoDecodesURLParams,a=(!!t.preferBatching||n||h)&&r&&e,o=this.getUrl(t.creativeUnitVariantId);void 0!==this.dataUri?defer(function(){i(this.dataUri)}.bind(this),0,\"File.getDataUri defer callback, has dataUri\"):a?creative.batcher.getDataUri(o,i):defer(function(){i(o)},0,\"File.getDataUri defer callback, url\")},Object.defineProperties(File.prototype,{dynamic:{get:function(){return void 0!==this._dynamic&&this._dynamic},set:function(t){this._dynamic=t},enumerable:!0,configurable:!1},optimizable:{get:function(){var t=this.getOriginalUrl(),t=0===t.indexOf(creative.cachedApiUrl)||0===t.indexOf(creative.insecureCachedApiUrl),i=\"on\"===(creative.experiments&&creative.experiments.get(\"FeedImageOptimization\")||{}).chosenVariant,t=t&&(!this.dynamic||i),i=!!String(this.name).match(/\\.(gif|png|jpe?g)$/i);return t&&i},enumerable:!0,configurable:!1},retina:{get:function(){return 1<this.retinaScaleFactor},enumerable:!0,configurable:!1},width:{get:function(){return this.retina?Math.round(this.meta.width/this.retinaScaleFactor):this.meta.width},enumerable:!0,configurable:!1},height:{get:function(){return this.retina?Math.round(this.meta.height/this.retinaScaleFactor):this.meta.height},enumerable:!0,configurable:!1},optimizedWidth:{get:function(){return function(t){if(\"number\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedWidth){i=r;break}}return i&&(i.optimizedWidth<this.meta.width||this.dynamic)?i.optimizedWidth:null}.bind(this)},enumerable:!0,configurable:!1},optimizedHeight:{get:function(){return function(t){if(\"number\"!=typeof t||!this.optimizationSettings)return null;for(var i=null,e=0;e<this.optimizationSettings.length;e++){var r=this.optimizationSettings[e];if(r.creativeUnitVariantId===t&&r.optimizedHeight){i=r;break}}return i&&(i.optimizedHeight<this.meta.height||this.dynamic)?i.optimizedHeight:null}.bind(this)},enumerable:!0,configurable:!1}}),File.MAXIMUM_SUPPORTED_RETINA_SCALE=4,File.getDefaultQuality=function(t){t=String(t);var i=/\\.png$/i.test(t),e=/\\.jpe?g$/i.test(t),r=/\\.gif$/i.test(t),t=1<File.getRetinaScaleFactor(t),a=-1;return i?a=t?150:256:r?a=t?75:85:e&&(a=t?65:85),a},File.getRetinaScaleFactor=function(t){t=String(t);var i=new RegExp(\"^.*(@([2-\"+File.MAXIMUM_SUPPORTED_RETINA_SCALE+\"]+)x)\"),t=t.toLowerCase().match(i);return t&&t[2]?parseInt(t[2],10):1};;\nfunction Font(){}inherit(Font,FontBase),Font.toString=function(){return\"[Clazz Font]\"},Font.prototype.toString=function(){return\"[Font \"+this.localId+\"]\"},Font.prototype.hasFeedFields=function(){return this.feedFields instanceof Array},Font.prototype.getSubsetString=function(){var n,o,t=Font.uber.getSubsetString.apply(this);return this.hasFeedFields()?(\"string\"!=typeof this.extendedSubsetString&&(n=t||\"\",o=this.feedTextTransforms||[\"none\"],this.feedFields.forEach(function(t){FeedData.getFieldRowsByKey(t).forEach(function(e){\"string\"==typeof e.value&&o.forEach(function(t){n+=function(t,e){switch(t=String(t),e){case\"uppercase\":return t.toUpperCase();case\"lowercase\":return t.toLowerCase();default:return t}}(e.value,t)})})}),this.extendedSubsetString=n.replace(/[\\r\\n\\t\\f\\v]/g,\"\").split(\"\").filter(function(t,e,n){return n.indexOf(t)===e}).sort().join(\"\")),this.extendedSubsetString):t},Font.prototype.getUnicodeRange=function(){return this.hasFeedFields()?\"\":Font.uber.getUnicodeRange.apply(this)};;\nfunction RichTextStyle(){}RichTextStyle.toString=function(){return\"[Clazz RichTextStyle]\"},RichTextStyle.prototype.toString=function(){return\"[RichTextStyle \"+this.localId+\"]\"},RichTextStyle.prototype.awake=function(){this.ranges=this.ranges.map(function(t){return new TextRange(t.start,t.end)}),BaseTextStyle.call(this,this.ranges),this.apply=RichTextStyle.prototype.apply.bind(this)},RichTextStyle.prototype.loadFontIfNeeded=function(t){this.font&&this.font instanceof FontBase&&this.font.needsLoading()&&0<this.ranges.length?(this.font.setBaseUrl((creative.secure?creative.cachedApiUrl:creative.insecureCachedApiUrl)+\"fonts/\"),this.font.loadStyle(t)):t()},RichTextStyle.prototype.apply=function(t){var e;return t?(this._applyTextSizeToStyle(e={}),this._applyFontToStyle(e),this._applyLineHeightToStyle(e),this._applyCss(e,\"text-decoration\",this.textDecoration),this._applyCssStyles(e,TextCssPropertiesBuilder.buildTextColor(this.textColor)),this._assembleHtml(e,t)):\"\"},RichTextStyle.prototype._applyTextSizeToStyle=function(t){this._shouldApplyFontSize()&&this._applyCss(t,\"font-size\",this._getFontSizeInPx()+\"px\")},RichTextStyle.prototype._shouldApplyFontSize=function(){return!(this.associatedObject.scaleFont||this.associatedObject.responsiveFont)},RichTextStyle.prototype._getFontSizeInPx=function(){return TextStyleIntegrator.toSizePx(this.fontSize,this.associatedObject.parentScreen.size.height)*this._getParentFontScaleFactor()},RichTextStyle.prototype._applyFontToStyle=function(t){this.font&&this.font instanceof FontBase&&extend(t,this.font.getCssProperties())},RichTextStyle.prototype._applyLineHeightToStyle=function(t){var e;this._shouldApplyFontSize()&&(e=this._getFontSizeInPx(),e=TextStyleIntegrator.lineHeightInPx(this.associatedObject.getLineSpacing(),e),this._applyCss(t,\"line-height\",e+\"px\"))},RichTextStyle.prototype._assembleHtml=function(t,e){var i=document.createElement(\"span\"),e=(extend(i.style,t),i.innerHTML=e,i.outerHTML);return t[\"background-clip\"]&&e.includes(\"background-clip\")&&!e.includes(\"-webkit-background-clip\")&&(i=t[\"background-clip\"],e=e.replace(\"background-clip\",\"-webkit-background-clip: \"+i+\"; background-clip\")),e},RichTextStyle.prototype._applyCss=function(t,e,i){i&&(t[e]=i)},RichTextStyle.prototype._applyCssStyles=function(e,i){Object.keys(i).forEach(function(t){this._applyCss(e,t,i[t])},this)},RichTextStyle.prototype._getParentFontScaleFactor=function(){return this.associatedObject.getFontScaleFactor()};;\nfunction StoreLocator3(){}inherit(StoreLocator3,ScreenObject),StoreLocator3.toString=function(){return\"[Clazz StoreLocator3]\"},StoreLocator3.prototype.toString=function(){return\"[StoreLocator3 \"+this.localId+\"]\"},StoreLocator3._userLocation=null,StoreLocator3.prototype.awake=function(){StoreLocator3.uber.awake.call(this),this.MILES_PER_KILOMETER=.621371192237,this.METERS_PER_KILOMETER=1e3,this.MAX_PLACES_RADIUS_IN_METERS=48280.3,this.USER_INTERACTED={certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0},this.NOT_USER_INTERACTED={certainlyNotCausedByUserBehavior:!0,consideredUserInitiatedByBrowser:!1},this._clusterDetailsOffset=0,this._clusterDetailsLimit=50,this._maxSearchRadius=this.MAX_PLACES_RADIUS_IN_METERS,this._headerHeight=50,this._locationCacheDuration=6e4,this._defaultZoom=15,this._maxZoom=18,this._refocusZoom=12,this._animationDelay=200,this._infoboxMaxHeight=200,this._defaultDarkPinColor=\"rgb(64,64,64)\",this._defaultLightPinColor=\"rgb(255,255,255)\",this._unitsAbbr=\"imperial\"===this.units?\" mi\":\" km\",this._handleBtnListTap=this._handleBtnListTap.bind(this),this._handleBtnRefocusTap=this._handleBtnRefocusTap.bind(this),this._handleBtnZoomInTap=this._handleBtnZoomInTap.bind(this),this._handleBtnZoomOutTap=this._handleBtnZoomOutTap.bind(this),this._handleBtnSearchTap=this._handleBtnSearchTap.bind(this),this._handleMarkerTap=this._handleMarkerTap.bind(this),this._handleMapResize=this._handleMapResize.bind(this),this._handleMapBoundsChange=this._handleMapBoundsChange.bind(this),this._handleMapIdle=this._handleMapIdle.bind(this),this._handleMapClick=this._handleMapClick.bind(this),this._addLocationsMarkers=this._addLocationsMarkers.bind(this),this._handlePhoneTap=this._handlePhoneTap.bind(this),this._handleWebsiteTap=this._handleWebsiteTap.bind(this),this._handleEmailTap=this._handleEmailTap.bind(this),this._handleDirectionsTap=this._handleDirectionsTap.bind(this),this._enableLoading=this._enableLoading.bind(this)},StoreLocator3.prototype.createNode=function(){var t=StoreLocator3.uber.createNode.call(this);return this._mapContainer=null,this._infobox=null,this._list=null,this._snapshot=null,this._inited=!1,this._initFocusDone=!1,this._refocusTapped=!1,this._isGeolocationPromptDisabled=!1,this._canLoadLocations=!1,this._locationsCache=[],this._boundsChanged=!1,this._markerReferences=[],this._oldMarkers=[],this._buttons={},this._locations=[],this._sortedLocations=[],this._phrases={},this._translations=StoreLocator3._defaultTranslations(),this._selectedLocation=null,this._selectedClusterLocation=null,this._ignoreBoundsChanged=!1,this._ignoreSnapshot=!1,this._isTiny=!1,this._isSmall=!1,this._isWide=!1,this._searchMode=!1,this._selectedMode=!1,this._infoboxHeaderActive=!1,this._isAnimated=!0,this._searchExtended=!1,this._enteredSearchModeFromMap=!1,this._thumbnailMode=\"thumb\"===creative.runtimeParams.purpose,this._userMarkerAnimated=!1,this._useFallbackLocation=!1,this._setUserPinColorBasedOnMapStyle(),this._setPhrases(t,this.language),t.innerHTML+=StoreLocator3._icons,this._loadGoogleMaps(),this._loadCustomPins(),this._applyCustomStyles(),addClass(t,this.uiTheme),addClass(t,\"touchable\"),attach(t,\"tap\",this._handleTap),this.on(\"userlocationupdated\",function(){this._initFocus()}.bind(this)),this._preloadImage(new File(\"runner/clazzes/StoreLocator3/map-placeholder.png\"),function(t,e){this._initialMapDialogImageUri=e}.bind(this)),t},StoreLocator3.prototype._setUserPinColorBasedOnMapStyle=function(){var t=\"night\"===this.mapStyle?\"#ffffff\":\"#000000\";this._userPinHaloColor=t,this._userPinDotColor=\"dark\"===this.uiTheme?t:\"#ffffff\"},Object.defineProperty(StoreLocator3.prototype,\"isTrackable\",{get:function(){return!0}}),StoreLocator3.prototype._appear=function(){this._map&&google.maps.event.trigger(this._map,\"resize\");var t,e,i=function(t){this._initialMapDialog||(this._initialMapDialog=this.template(\"initialMapDialog\",{},this.node),this._initialMapDialog.querySelector(\".map-placeholder\").style.backgroundImage=\"url(\"+this._initialMapDialogImageUri+\")\",this._initialMapDialog.querySelector(\".\"+t).style.display=\"block\")}.bind(this),o=function(){this._initialMapDialog&&(this._initialMapDialog.style.display=\"none\"),this._enableLoading(),this._inited||this._init()}.bind(this);creative.runtimeParams.shouldShowMapsPrompt?(new ActionContext(this,this.NOT_USER_INTERACTED).track({name:\"mapsPromptShow\"}),i(\"user-consent\"),e=this._initialMapDialog.querySelector(\".consent-button.button-yes\"),t=this._initialMapDialog.querySelector(\".consent-button.button-no\"),addClass(e,\"touchable\"),addClass(t,\"touchable\"),attach(e,\"tap\",function(){var t=new ActionContext(this,this.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"mapsPromptShowAccepted\"}),o()}.bind(this)),attach(t,\"tap\",function(){var t=new ActionContext(this,this.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"mapsPromptShowDenied\"}),this.emit(\"mapsconsentrejected\"),this._useFallbackLocation=!0,o()}.bind(this))):creative.getUserInteracted()||this._thumbnailMode||creative.runtimeParams._yahooLandingPage?o():this._initialMapDialog||(i(\"user-interaction\"),e=this._initialMapDialog.querySelector(\".overlay\"),addClass(e,\"touchable\"),attach(e,\"tap\",function(){new ActionContext(this,this.USER_INTERACTED).trackUserInteraction(),o()}.bind(this)))},StoreLocator3.prototype._enableLoading=function(){this._canLoadLocations=!0},StoreLocator3.prototype.redrawLayout=function(){this._applyLayoutBasedOnSize(),this._redraw()},StoreLocator3.prototype.redrawSceneLayout=function(){this._applyLayoutBasedOnSize()},StoreLocator3.prototype._applyLayoutBasedOnSize=function(){this._isTiny=this.size.height<200,this._isSmall=200<=this.size.height&&this.size.height<310,this._isWide=535<this.size.width,this._isSmaller=this._isSmall||this._isTiny,window[(this._isTiny?\"add\":\"remove\")+\"Class\"](this.node,\"tiny\"),window[(this._isSmall?\"add\":\"remove\")+\"Class\"](this.node,\"small\"),window[(this._isWide?\"add\":\"remove\")+\"Class\"](this.node,\"wide\")},StoreLocator3.prototype._redraw=function(){this._map&&google.maps.event.trigger(this._map,\"resize\"),this._infobox&&this._infobox._redraw(),this._list&&this._list._redraw()},StoreLocator3.prototype._loadGoogleMaps=function(){this.incrementLoadingCount(),loadGoogleMaps(function(){this.decrementLoadingCount();var t=document.createEvent(\"HTMLEvents\");t.initEvent(\"googleMapsApiLoaded\",!0,!0),document.dispatchEvent(t)}.bind(this))},StoreLocator3.prototype._loadCustomPins=function(){this.customPin&&this._preloadImage(this.customPin,function(t){this._customPin=t}.bind(this)),this.customActivePin&&this._preloadImage(this.customActivePin,function(t){this._customActivePin=t}.bind(this))},StoreLocator3.prototype._handleTap=function(t){t.stopPropagation()},StoreLocator3.prototype._applyCustomStyles=function(){var t=\"dark\"===this.uiTheme?.25:.05,e=Color.parseRgb(this.themeColor);this.addStyle({\", .search-header .query\":\"font-family:\"+this.textFont,\".btn.list\":\"background-color:\"+this.themeColor,\".directions\":\"background-color:rgba(\"+e[0]+\",\"+e[1]+\",\"+e[2]+\",\"+t+\");\",\".directions .distance\":\"color:\"+this._getDirectionsColor(this.themeColor),\".directions .icon svg\":\"fill:\"+this._getDirectionsColor(this.themeColor),\".header, .infobox-container .cluster-header\":\"color:\"+this._getContrastingColor(this.themeColor)+\"; background-color:\"+this.themeColor,\".list-header svg, .map-header svg, .infobox-header svg, .search-header svg, .cluster-header svg, .btn.list svg\":\"fill:\"+this._getContrastingColor(this.themeColor),\".search-header .query\":\"color:\"+this._getContrastingColor(this.themeColor),\".query::-webkit-input-placeholder\":\"opacity:0.5; color:\"+this._getContrastingColor(this.themeColor),\".query:-moz-placeholder\":\"opacity:0.5; color:\"+this._getContrastingColor(this.themeColor),\".query::-moz-placeholder\":\"opacity:0.5; color:\"+this._getContrastingColor(this.themeColor),\".query:-ms-input-placeholder\":\"opacity:0.5; color:\"+this._getContrastingColor(this.themeColor)})},StoreLocator3.prototype._getContrastingColor=function(t){t=Color.parseRgb(t);return 186<.299*t[0]+.587*t[1]+.114*t[2]?\"black\":\"white\"},StoreLocator3.prototype._getDirectionsColor=function(t){return\"white\"===this._getContrastingColor(t)?\"light\"===this.uiTheme?t:\"white\":\"light\"===this.uiTheme?\"black\":t},StoreLocator3.prototype._init=function(){this._createMap(),\"map\"!==this.defaultView&&\"list\"!==this.defaultView&&this._createButton({name:\"list\",startPosition:{left:-46,top:10},endPosition:{left:10,top:10},listener:this._handleBtnListTap}),\"list\"!==this.defaultView&&(this._createButton({name:\"refocus\",startPosition:{left:-46,top:\"map\"!==this.defaultView?51:10},endPosition:{left:10,top:\"map\"!==this.defaultView?51:10},listener:this._handleBtnRefocusTap}),this.searchBar&&this._createButton({name:\"search\",startPosition:{right:-46,top:10},endPosition:{right:10,top:10},listener:this._handleBtnSearchTap})),desktop()&&(this._createButton({name:\"zoomIn\",startPosition:{right:-39,bottom:44},endPosition:{right:10,bottom:44},listener:this._handleBtnZoomInTap}),this._createButton({name:\"zoomOut\",startPosition:{right:-39,bottom:15},endPosition:{right:10,bottom:15},listener:this._handleBtnZoomOutTap})),this._createPanelsWithText(),this.emit(\"inited\"),this._inited=!0},StoreLocator3.prototype._createPanelsWithText=function(){var t,e;this._infobox&&(e=this._infobox.position,this.node.removeChild(this._infobox._container),this._infobox=null),this._list&&(t=this._list.position,this.node.removeChild(this._list._container),this._list=null),this._header&&(this.node.removeChild(this._header._container),this._header=null),this._header=new StoreLocator3.Header({parent:this}),this._infobox=new StoreLocator3.Infobox({parent:this,position:e||\"bottom\"}),this._list=new StoreLocator3.List({parent:this,position:t||\"left\"}),\"list\"!==this.defaultView&&\"both-list\"!==this.defaultView||this._list._setContent(this._sortedLocations),\"list-both\"===this.defaultView?this._header._setContent(\"listHeader\"):\"map-both\"===this.defaultView&&this._header._setContent(\"mapHeader\"),this._inited&&this._animateButtonsIn()},StoreLocator3.prototype._createMap=function(){this._mapContainer||(this._mapContainer=this.template(\"mapContainer\",{},this.node)),this._map=new google.maps.Map(this._mapContainer,{zoom:this._defaultZoom,disableDefaultUI:!0,scrollwheel:!1,zoomControl:!1,gestureHandling:\"greedy\",styles:[{featureType:\"poi\",elementType:\"labels\",stylers:[{visibility:\"off\"}]}]}),this._placesService=new google.maps.places.PlacesService(this._map),this._map.set(\"styles\",StoreLocator3._mapStyles[this.mapStyle]),google.maps.event.addListener(this._map,\"resize\",this._handleMapResize),google.maps.event.addListener(this._map,\"bounds_changed\",this._handleMapBoundsChange),google.maps.event.addListener(this._map,\"idle\",this._handleMapIdle),google.maps.event.addListener(this._map,\"click\",this._handleMapClick),google.maps.event.addListener(this._map,\"dragstart\",function(){new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()}.bind(this)),google.maps.event.addListener(this._map,\"zoom_changed\",function(){this.emit(\"mapzoomed\")}.bind(this)),google.maps.event.addListener(this._map,\"drag\",function(){this.emit(\"mapdragged\")}.bind(this)),google.maps.event.addListenerOnce(this._map,\"idle\",function(){this.emit(\"mapinited\")}.bind(this)),this._locateUser(),this.node.appendChild(this._mapContainer)},StoreLocator3.prototype._handleMapResize=function(){this._searchMode||defer(this._applySnapshot.bind(this))},StoreLocator3.prototype._handleMapBoundsChange=function(){this._boundsChanged=!0},StoreLocator3.prototype._handleMapIdle=function(){this._canLoadLocations&&this._initFocusDone&&(this._ignoreSnapshot||this._createSnapshot(),this._boundsChanged&&!this._ignoreBoundsChanged&&(this._boundsChanged=!1,\"list\"!==this.source||\"limit-max\"===this.initialLocation&&!this._searchMode?this._addLocationsMarkers():this._loadLocations(this._generateLoadLocationsQuerystring(\"bb\"),function(){this._ignoreSnapshot||this._createSnapshot(),this._addLocationsMarkers(),this._selectedLocation&&this._getLocation(this._selectedLocation.id)||this._collapseInfobox()}.bind(this))))},StoreLocator3.prototype._handleMapClick=function(){this._selectedLocation=null,this._selectedClusterLocation=null,this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn())}.bind(this)),this._setAllMarkersInactive(),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction(),this.emit(\"maptapped\")},StoreLocator3.prototype._initFocus=function(){this._canLoadLocations&&(this._refocusTapped?this._refocusTapped=!1:this._focus(function(){var t;\"list\"===this.source&&this.tableId&&(t=new ActionContext(this,this.NOT_USER_INTERACTED),\"list\"!==this.defaultView&&\"both-list\"!==this.defaultView||this._refocusTapped?t.track({name:\"locatorMapView\"}):(this._refocusTapped=!1,this._list._setContent(this._sortedLocations),t.track({name:\"locatorListView\"}))),this._initFocusDone=!0,this._handleMapIdle()}.bind(this)))},StoreLocator3.prototype._focus=function(t){this._canLoadLocations&&(t=t||noop,\"search\"===this.source?this._searchLocations(this.searchQuery,StoreLocator3._userLocation,this.nearbyRadius,function(){this._addLocationsMarkers(),t()}.bind(this)):\"list\"===this.source&&this.tableId&&this[\"_focus\"+ucfirst(camelize(this.initialLocation))](function(){this._map.fitBounds(this._bounds),t()}.bind(this)))},StoreLocator3.prototype._createButton=function(t){var e=new StoreLocator3.Button({parent:this,name:(t=t||{}).name,startPosition:t.startPosition,endPosition:t.endPosition,style:t.style||\"\",listener:t.listener||noop});this._buttons[t.name]=e},StoreLocator3.prototype._handleBtnListTap=function(t){this._animateButtonsOut(),this._infobox._animateOut(),defer(function(){this._list._animateIn(),this._header._setHeader(\"listHeader\",\"none\"),this._header._animateIn()}.bind(this),this._animationDelay),this.emit(\"listbuttontapped\");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:\"locatorListView\"})},StoreLocator3.prototype._handleBtnRefocusTap=function(t){this._refocusTapped=!0,this._updateUserLocation(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng()),this._map.setZoom(this._refocusZoom),this.emit(\"refocusbuttontapped\");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:\"locatorRefocusClicked\"})},StoreLocator3.prototype._handleBtnSearchTap=function(t){this._searchMode=!0,this._enteredSearchModeFromMap=!0,this._animateButtonsOut(),this._infobox._animateOut(),defer(function(){this._header._setHeader(\"searchHeader\",\"none\"),this._header._animateIn(),this._list._clearList(),this._list._animateIn(function(){this._header._searchInput.focus()}.bind(this))}.bind(this),this._animationDelay),this.emit(\"searchbuttontapped\");var e=new ActionContext(this,this.USER_INTERACTED);e.trackUserInteraction(),e.track({name:\"locatorSearchClicked\"})},StoreLocator3.prototype._handleBtnZoomInTap=function(t){this._map.setZoom(this._map.getZoom()+1),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.prototype._handleBtnZoomOutTap=function(t){this._map.setZoom(this._map.getZoom()-1),new ActionContext(this,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.prototype._animateButtonsIn=function(t){for(var e in t=t||[],this._buttons)-1===t.indexOf(e)&&this._buttons[e]._animateIn()},StoreLocator3.prototype._animateButtonsOut=function(t){for(var e in t=t||[],this._buttons)-1===t.indexOf(e)&&this._buttons[e]._animateOut()},StoreLocator3.prototype._locateUser=function(){var t,e,i;this._useFallbackLocation?this._cannotLocate():(t=function(t){this._updateUserLocation(t.lat,t.lng),this.emit(\"userpositionlocated\",t)}.bind(this),e=function(){this._cannotLocate(),this.emit(\"userpositionnotlocated\")}.bind(this),i={isGeolocationPromptDisabled:this._isGeolocationPromptDisabled},this.parentUnit.userLocation.getLocation(t,e,i))},StoreLocator3.prototype._cannotLocate=function(){this.fallbackLocationLatLng?this._updateUserLocation(this.fallbackLocationLatLng.lat,this.fallbackLocationLatLng.lng):this._updateUserLocation(42.358431,-71.059773)},StoreLocator3.prototype._updateUserLocation=function(t,e){StoreLocator3._userLocation=new google.maps.LatLng(t,e),this._setCenter(t,e,!0),this.emit(\"userlocationupdated\",{lat:t,lng:e})},StoreLocator3.prototype._focusNearby=function(e){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&(this._bounds=new google.maps.Circle({center:StoreLocator3._userLocation,radius:this.nearbyRadius}).getBounds(),this._map.fitBounds(this._bounds),this._loadLocations(this._generateLoadLocationsQuerystring(\"bb\"),function(){var t=this._getLocationsNumber();this.nearbyCount>t?this._loadLocations(this._generateLoadLocationsQuerystring(\"loc\"),function(){this._bounds=this._getLocationsBounds().union(this._bounds),this._map.fitBounds(this._bounds),this._loadLocations(this._generateLoadLocationsQuerystring(\"bb\"),function(){e()}.bind(this))}.bind(this)):e()}.bind(this)))},StoreLocator3.prototype._focusLimitMax=function(t){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&this._loadLocations(this._generateLoadLocationsQuerystring(\"loc\"),function(){this._locations=createClustersForIdenticalCoordinates(this._locations),this._bounds=this._getLocationsBounds(),t()}.bind(this))},StoreLocator3.prototype._focusAll=function(t){StoreLocator3._userLocation&&this._canLoadLocations&&this._map&&this._loadLocations(this._generateLoadLocationsQuerystring(),function(){this._bounds=this._getLocationsBounds(),this._map.fitBounds(this._bounds),t()}.bind(this))},StoreLocator3.prototype._getLocationsNumber=function(){var e=0;return this._locations.forEach(function(t){e+=1<t.size?t.size:1}),e},StoreLocator3.prototype._getLocationsBounds=function(){var e=new google.maps.LatLngBounds;return this._locations.forEach(function(t){e.extend(new google.maps.LatLng(t.lat,t.lng))}),e.extend(new google.maps.LatLng(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng())),e},StoreLocator3.prototype._removeLocationsMarkers=function(){this._oldMarkers.forEach(function(t){t.marker.setMap(null)}),this._oldMarkers=[]},StoreLocator3.prototype._addLocationsMarkers=function(){this._oldMarkers=this._oldMarkers.concat(this._markerReferences.slice()),this._markerReferences=[],this._locations.forEach(function(t){1<t.size?this._addClusterMarker(t):this._addMarker(t)},this),defer(this._removeLocationsMarkers.bind(this),100),this.emit(\"locationsaddedtomap\",this._locations)},StoreLocator3.prototype._addMarker=function(e){var t=this._getMarkerIcon(!1),i=new google.maps.Marker({map:this._map,zIndex:2,optimized:ios(),position:new google.maps.LatLng(e.lat,e.lng),icon:t}),o={marker:e.marker=i,type:\"default\",location:e};this._markerReferences.push(o),this._selectedLocation&&this._selectedLocation.id===e.id&&this._setMarkerActive(o,!0),i.addListener(\"click\",function(t){this._setAllMarkersInactive(),i.setZIndex(3),this._setMarkerActive(o,!0),this._handleMarkerTap(t,e)}.bind(this))},StoreLocator3.prototype._addClusterMarker=function(e){var t=this._getClusterMarkerIcon(e,!1),i=new google.maps.Marker({position:new google.maps.LatLng(e.lat,e.lng),zIndex:2,optimized:ios(),icon:t,map:this._map}),o={marker:e.marker=i,type:\"cluster\",location:e};this._markerReferences.push(o),e.locations.forEach(function(t){this._selectedLocation&&this._selectedLocation.id===t.id&&this._setMarkerActive(o,!0)},this),i.addListener(\"click\",function(t){(this._map.getZoom()>=this._maxZoom||this._checkIfSameLocation(e))&&(this._setAllMarkersInactive(),i.setZIndex(3),this._setMarkerActive(o,!0)),this._handleMarkerTap(t,e)}.bind(this))},StoreLocator3.prototype._getMarkerIcon=function(t){var e,i;return this._customActivePin&&t||this._customPin&&!t?(e=t?this._customActivePin:this._customPin,i=t?this.customActivePin:this.customPin,{url:e.src,size:new google.maps.Size(i.width,i.height),scaledSize:new google.maps.Size(i.width,i.height),anchor:new google.maps.Point(i.width/2,i.height)}):(e=StoreLocator3._pins.markerWithHole,{url:\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent(e.svg.replace(/{pathFill}/g,t?this.themeColor:\"night\"===this.mapStyle?this._defaultLightPinColor:this._defaultDarkPinColor)),anchor:new google.maps.Point(e.width/2,e.height),scaledSize:new google.maps.Size(e.width,e.height)})},StoreLocator3.prototype._getClusterMarkerIcon=function(t,e){t.locations;var i,o=1<t.size&&this._map.getZoom()<this._maxZoom&&!this._checkIfSameLocation(t)?(i=StoreLocator3._pins.markerCluster,new google.maps.Point(0,i.height/2)):(i=StoreLocator3._pins.markerSolid,new google.maps.Point(i.width/2,i.height)),e=i.svg.replace(/{pathFill}/g,e?this.themeColor:\"night\"===this.mapStyle?this._defaultLightPinColor:this._defaultDarkPinColor).replace(/{fontColor}/g,e?this._getContrastingColor(this.themeColor):\"night\"===this.mapStyle?\"rgb(0,0,0)\":\"rgb(255,255,255)\").replace(/{fontSize}/g,999<t.size?\"10px\":99<t.size?\"11px\":\"12px\").replace(/{fontFamily}/g,this.textFont).replace(/{text}/g,t.size).replace(/{verticalTextAlignment}/g,deviceInfo.browser.ie()||deviceInfo.browser.edge()?'dy=\"0.35em\"':'dominant-baseline=\"central\"');return{url:\"data:image/svg+xml;charset=utf-8,\"+encodeURIComponent(e),anchor:o,scaledSize:new google.maps.Size(i.width,i.height)}},StoreLocator3.prototype._checkIfSameLocation=function(t){var e=t.locations,i=!0;if(e)for(var o=0;o<e.length;o++)e[0].lat===e[o].lat&&e[0].lng===e[o].lng||(i=!1);return i},StoreLocator3.prototype._handleMarkerTap=function(t,e){1<e.size&&this._map.getZoom()<this._maxZoom&&!this._checkIfSameLocation(e)?(this._map.setCenter(e.marker.getPosition()),this._map.setZoom(this._map.getZoom()+1),this.emit(\"clustermarkertapped\",e)):this._infobox._isVisible&&e!==this._selectedLocation&&(1<e.size&&(this._selectedClusterLocation=e),this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateOut(),this._buttons.zoomOut._animateOut()),this._infobox._setContent(e),this._infobox._animateIn(),this._isSmaller&&!e.size&&(this._header._setHeader(\"infoboxHeader\",\"none\"),this._header._animateIn(),this._infoboxHeaderActive=!0)}.bind(this)),this.emit(\"locationmarkertapped\",e),this._trackBasedOnSource(\"locatorLocationShown\",e))},StoreLocator3.prototype._setMarkerActive=function(t,e){e=\"cluster\"==t.type?this._getClusterMarkerIcon(t.location,e):this._getMarkerIcon(e);t.marker.setIcon(e)},StoreLocator3.prototype._setAllMarkersInactive=function(){this._markerReferences.forEach(function(t){this._setMarkerActive(t,!1),t.marker.setZIndex(2)},this)},StoreLocator3.prototype._generateLoadLocationsQuerystring=function(t){var e=\"\";switch(t){case\"bb\":var i=this._getMapBoundsUrl();i&&(e=buildQuery({loc:StoreLocator3._userLocation.toUrlValue(),bb:i,detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset}));break;case\"loc\":if(StoreLocator3._userLocation){i=\"nearby\"===this.initialLocation||this._searchMode?this.nearbyCount:this.maxLimitCount,e=buildQuery({loc:StoreLocator3._userLocation.toUrlValue(),detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset,limit:i});break}default:e=buildQuery({detailsLimit:this._clusterDetailsLimit,detailsOffset:this._clusterDetailsOffset})}return e},StoreLocator3.prototype._getMapBoundsUrl=function(){var t,e=this._map.getBounds()||this._bounds;if(e)return t=e.getCenter(),e=e.toSpan(),[t.lat()-e.lat()/2,t.lng()-e.lng()/2,t.lat()+e.lat()/2,t.lng()+e.lng()/2].join()},StoreLocator3.prototype._searchLocations=function(t,e,i,o){this._canLoadLocations&&t&&(this._locations=[],this._getPlaces(t,e,i,o))},StoreLocator3.prototype._getPlaces=function(t,e,i,o){e={location:e,radius:parseInt(i,10)+\"\",name:t.trim()};this._placesService.nearbySearch(e,function(t,e){e!=google.maps.places.PlacesServiceStatus.OK&&e!=google.maps.places.PlacesServiceStatus.ZERO_RESULTS||this._handlePlacesRequest(t,o)}.bind(this))},StoreLocator3.prototype._handlePlacesRequest=function(t,e){t.forEach(function(t){this._locations.push(this._parsePlace(t))},this);t=\"nearby\"===this.initialLocation||this._searchMode?this.nearbyCount:this.maxLimitCount;this._locations.length<t&&this.nearbyRadius!==this._maxSearchRadius?(this.nearbyRadius=this._maxSearchRadius,this._locations=[],this._searchLocations(this.searchQuery,StoreLocator3._userLocation,this.nearbyRadius,e)):(this._sortedLocations=this._getSortedLocations(StoreLocator3._userLocation,this._locations),\"limit-max\"!==this.initialLocation||this._searchMode||(this._locations=this._sortedLocations=this._sortedLocations.slice(0,this.maxLimitCount)),this._locations=createClustersForIdenticalCoordinates(this._locations),this._bounds=this._getLocationsBounds(),\"list\"!==this.defaultView&&this._map.fitBounds(this._bounds),\"list\"!==this.defaultView&&\"both-list\"!==this.defaultView||this._refocusTapped||this._list._setContent(this._sortedLocations),this.emit(\"locationsloaded\",this._locations),e&&e())},StoreLocator3.prototype._getPlaceDetails=function(i,o){this._placesService.getDetails({placeId:i.id,fields:[\"address_components\",\"geometry\",\"name\",\"place_id\",\"vicinity\",\"opening_hours\",\"international_phone_number\",\"website\",\"utc_offset_minutes\"]},function(t,e){e==google.maps.places.PlacesServiceStatus.OK&&(i=this._parsePlace(t),this._formatLocationAddress(i),o&&o(i))}.bind(this))},StoreLocator3.prototype._getAddressComponent=function(i,t){var o;if(t.address_components)return t.address_components.forEach(function(e){e.types.some(function(t){t===i&&(o=e.long_name)},this)},this),o},StoreLocator3.prototype._parsePlace=function(t){var e,i=this._getAddressComponent(\"route\",t)||\"\",o=this._getAddressComponent(\"street_number\",t)||\"\",s=this._getAddressComponent(\"locality\",t)||\"\",a=this._getAddressComponent(\"postal_code\",t)||\"\",n=this._getAddressComponent(\"country\",t)||\"\",r=this._getAddressComponent(\"administrative_area_level_1\",t)||\"\",h=(t.opening_hours&&!isNaN(t.utc_offset_minutes)&&(e=\"\",t.opening_hours.weekday_text&&(t.opening_hours.weekday_text.unshift(t.opening_hours.weekday_text.pop()),e=t.opening_hours.weekday_text[(new Date).getDay()]||\"\"),e={openNow:t.opening_hours.isOpen(),text:e.substring(e.indexOf(\": \")+2)}),t.geometry.location.lat()),c=t.geometry.location.lng(),l=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(h,c)),d=StoreLocator3._formatDistance(this._convertDistance(l))+\" \"+this._unitsAbbr;return{address:i&&o?i+\" \"+o:t.vicinity.substring(0,t.vicinity.indexOf(\", \"))||\"\",formattedAddress:t.vicinity?'<p class=\"dimmed\">'+t.vicinity+\"</p>\":\"\",formattedAddressOneLine:t.vicinity?'<p class=\"dimmed\">'+t.vicinity+\"</p>\":\"\",formattedAddressOneLineWithDistance:t.vicinity?'<p class=\"dimmed\">'+t.vicinity+\" - \"+d+\"</p>\":\"\",city:s,country:n,email:\"\",id:t.place_id,lat:h,lng:c,userDistance:l,name:t.name,openingHours:e||\"\",phone:t.international_phone_number||\"\",state:r,website:t.website||\"\",zip:a}},StoreLocator3.prototype._loadLocations=function(e,i){this._canLoadLocations&&this.tableId&&e?(this._oldLocations=this._locations,this._locationsCache[e]?(clearTimeout(this._locationsCache[e].timeout),this._updateLocationsCache(e,this._locationsCache[e].data,i),delete this._locationsCache[e]):loadJSONP((creative.secure?creative.geoUrl:creative.insecureGeoUrl)+\"locationTables/\"+this.tableId+\"/locations/?\"+e,function(t){t=sanitizeLocationsData(t),this._selectedMode||this._updateLocationsCache(e,t,i)}.bind(this),function(){console.error(\"Fetching locations from server failed.\")}.bind(this))):\"function\"==typeof i&&i()},StoreLocator3.prototype._updateLocationsCache=function(t,e,i){var o=setTimeout(function(){delete this._locationsCache[t]}.bind(this),this._locationCacheDuration);this._locations=e,this._locations.forEach(function(t){t.size?t.locations.forEach(function(t){this._formatLocationAddress(t)},this):this._formatLocationAddress(t)},this),this._sortedLocations=this._getSortedLocations(StoreLocator3._userLocation,e),this._locationsCache[t]={timeout:o,data:this._locations},this.emit(\"locationsloaded\",this._locations),\"function\"==typeof i&&i()},StoreLocator3.prototype._calculateUserDistancesAndGetSingleLocations=function(t){var e;return StoreLocator3._userLocation?(e=[],t.forEach(function(t){1<t.size?t.locations.forEach(function(t){t.userDistance||(t.userDistance=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(t.lat,t.lng))),e.push(t)}):(t.userDistance||(t.userDistance=StoreLocator3._distance(StoreLocator3._userLocation,new google.maps.LatLng(t.lat,t.lng))),e.push(t))}),e):t.reduce(function(t,e){return 1<e.size?t=t.concat(e.locations):t.push(e),t},[])},StoreLocator3.prototype._getSortedLocations=function(e,t){if(e&&t)return t=this._calculateUserDistancesAndGetSingleLocations(t),e===StoreLocator3._userLocation?(t.sort(function(t,e){return t.userDistance>e.userDistance?1:-1}),t):t.map(function(t){return t.currentDistance=StoreLocator3._distance(e,new google.maps.LatLng(t.lat,t.lng)),t}).sort(function(t,e){return t.currentDistance>e.currentDistance?1:-1})},StoreLocator3.prototype._handlePhoneTap=function(t){t.stopPropagation();var e=t.target.getAttribute(\"data-number\"),t=this._getLocation(t.target.getAttribute(\"data-id\"));this.emit(\"phonetapped\",t),this._trackBasedOnSource(\"locatorPhoneCalled\",t).trackClickThrough(),creative.adapter.callPhone(e)},StoreLocator3.prototype._handleWebsiteTap=function(t){t.stopPropagation();var e=t.target.getAttribute(\"data-website\"),t=this._getLocation(t.target.getAttribute(\"data-id\")),t=(this.emit(\"websitetapped\",t),this._trackBasedOnSource(\"locatorUrlOpened\",t));t.trackClickThrough(),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(e),creative.shouldClickThroughToNewWindow(t))},StoreLocator3.prototype._handleEmailTap=function(t){t.stopPropagation();var e=t.target.getAttribute(\"data-mail\"),t=this._getLocation(t.target.getAttribute(\"data-id\")),t=(this.emit(\"emailtapped\",t),this._trackBasedOnSource(\"locatorEmailClicked\",t));t.trackClickThrough(),this.parentUnit.openBrowser(t,\"mailto:\"+e)},StoreLocator3.prototype._handleDirectionsTap=function(t){t.stopPropagation();var t=this._getLocation(t.target.getAttribute(\"data-id\")),e=\"https://maps.google.com?saddr=\"+StoreLocator3._userLocation.lat()+\",\"+StoreLocator3._userLocation.lng()+\"&daddr=\"+t.lat+\",\"+t.lng+\"&directionsmode=driving\",t=(this.emit(\"directionstapped\",t),this._trackBasedOnSource(\"locatorDirectionsClicked\",t));t.trackClickThrough(),creative.adapter.openBrowser(creative.wrapRedirectPageUrl(e),creative.shouldClickThroughToNewWindow(t))},StoreLocator3._distance=function(t,e){function i(t){return t*Math.PI/180}var o=t.lat(),t=t.lng(),s=i(e.lat()-o),e=Math.sin(i(e.lng()-t)/2),t=Math.cos(i(o)),o=Math.sin(s/2)*Math.sin(s/2)+t*t*e*e;return 12742e3*Math.atan2(Math.sqrt(o),Math.sqrt(1-o))},StoreLocator3.prototype._convertDistance=function(t){return\"imperial\"===this.units?t*this.MILES_PER_KILOMETER/this.METERS_PER_KILOMETER:t/this.METERS_PER_KILOMETER},StoreLocator3._formatDistance=function(t){return Math.round(10*t)/10},StoreLocator3.prototype._getLocation=function(e){var i;return this._sortedLocations.forEach(function(t){t.id===e&&(i=t)},this),i},StoreLocator3.prototype._createSnapshot=function(){this._snapshot={locations:this._locations,sortedLocations:this._sortedLocations,bounds:this._map.getBounds(),zoom:this._map.getZoom()}},StoreLocator3.prototype._applySnapshot=function(){this._snapshot&&(this._locations=this._snapshot.locations,this._sortedLocations=this._snapshot.sortedLocations,this._setCenter(StoreLocator3._userLocation.lat(),StoreLocator3._userLocation.lng(),!0),this._map.fitBounds(this._snapshot.bounds),this._map.setZoom(this._snapshot.zoom))},StoreLocator3.prototype._formatLocationAddress=function(t){var e,i,o,s,a=\"\",n=\"\",r=\"\",h=StoreLocator3._formatDistance(this._convertDistance(t.userDistance))+\" \"+this._unitsAbbr,r=\"eu\"===this.addressFormat?(i=t.zip?t.city||t.state?t.zip+\" \":t.zip:\"\",o=t.city?t.state?t.city+\", \":t.city:\"\",s=t.state||\"\",a='<p class=\"dimmed\">'+(e=t.address||\"\")+'</p><p class=\"dimmed\">'+i+o+s+\"</p>\",n='<p class=\"dimmed\">'+(e=t.address?t.city||t.state||t.zip?t.address+\", \":t.address:\"\")+i+o+s+\"</p>\",'<p class=\"dimmed\">'+e+i+o+s+\" - \"+h+\"</p>\"):(i=t.zip||\"\",o=t.city?t.state||t.zip?t.city+\", \":t.city:\"\",s=t.state?t.zip?t.state+\" \":t.state:\"\",a='<p class=\"dimmed\">'+(e=t.address||\"\")+'</p><p class=\"dimmed\">'+o+s+i+\"</p>\",n='<p class=\"dimmed\">'+(e=t.address?t.city||t.state||t.zip?t.address+\", \":t.address:\"\")+o+s+i+\"</p>\",'<p class=\"dimmed\">'+e+o+s+i+\" - \"+h+\"</p>\");t.formattedAddress=a,t.formattedAddressOneLine=n,t.formattedAddressOneLineWithDistance=r},StoreLocator3.prototype._parseOpeningHours=function(t,e){if(!t)return!1;if(\"object\"==typeof t)return e?t.text:t.openNow;function i(t,e){return(t=t.split(\":\")).length<2&&(t[1]=\"00\"),t.length<3&&(t[2]=\"00\"),\"am\"!==e&&\"pm\"!==e||(\"pm\"===e&&t[0]<12&&(t[0]=parseInt(t[0],10)+12),\"am\"===e&&12==t[0]&&(t[0]=parseInt(t[0],10)-12),t[0]=zeroPad(t[0]),t[1]=zeroPad(t[1])),t.join(\":\")}function o(t,e,i){var o=e+\"Time\",s=e+\"TimePeriod\",e=e+\"TimeWithoutPeriod\",i=(t[o]=i,t[s]=i.slice(-2).replace(/( |\\d)/g,\"\").toLowerCase(),\"am\"==t[s]||\"pm\"==t[s]||\"h\"==t[s]);return-1===t[o].indexOf(\":\")?(t[e]=i?t[o].slice(0,t[o].length-t[s].length):t[o]+\":00\",t[o]=i?t[e]+\":00\"+t[s]:t[o]+\":00\"):t[e]=i?t[o].slice(0,t[o].length-t[s].length):t[o],t}function s(t){t=t.split(\":\");return 60*parseInt(t[0],10)*60+60*parseInt(t[1],10)+parseInt(t[2],10)}var a,n,r=\"Opening days data is not formatted properly.\";try{var h,c,l=[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],d=!1,p=(\"undefined\"!=typeof creative&&(creative.runtimeParams.overrides||{}).clientTimestamp&&(h=parseInt(creative.runtimeParams.overrides.clientTimestamp,10)),isNaN(h)?new Date:new Date(1e3*h)),u=\"\",_=l[p.getDay()];t=t.replace(/ /g,\"\").toLowerCase().split(\",\");t:for(var m=0;m<t.length;m++){var f,y,g=t[m];if(y=(g=(g=g.replace(\":\",\"#\")).split(\"#\"))[0],c=g[1],y=y.split(/\\u2013|-/g),-1===l.indexOf(y[0])||2===y.length&&-1===l.indexOf(y[1]))throw new Error(r);1<y.length&&(y=l.indexOf(y[0])>l.indexOf(y[1])?(f=y[1],y=l.slice(l.indexOf(y[0])),l.slice(0,l.indexOf(f)+1).concat(y)):l.slice(l.indexOf(y[0]),l.indexOf(y[1])+1));for(var b={},L=0;L<y.length;L++){var S=y[L],v=(a=S,n=_,a=l.indexOf(a),n=l.indexOf(n),6===a&&0===n||n-a==1),C=c,T=\"\",w=\"\";if(S===_||v)for(var C=C.split(\"&\"),x=0;x<C.length;x++){C[x]=C[x].split(/\\u2013|-/g),b=o(b,\"opening\",C[x][0].trim()),w+=T+(b=o(b,\"closing\",C[x][1].trim())).openingTime.toUpperCase()+\" - \"+b.closingTime.toUpperCase();var T=\", \",k=i(b.openingTimeWithoutPeriod,b.openingTimePeriod),I=i(b.closingTimeWithoutPeriod,b.closingTimePeriod),P=s(I)<=s(k),M=new Date(p.getMonth()+1+\"/\"+(v?p.getDate()-1:p.getDate())+\"/\"+p.getFullYear()+\" \"+k),E=p.getDate(),B=(!v&&P?E+=1:v&&!P&&(E-=1),new Date(p.getMonth()+1+\"/\"+E+\"/\"+p.getFullYear()+\" \"+I));M<=p&&p<=B&&(d=!0)}if(v&&d||S===_&&\"\"==u){u=w;break t}}}return e?u:d}catch(t){return console.error((r!=t.message?\"Opening hours data is not formatted properly.\":r)+\" Check locator's support page on http://support.celtra.com\"),\"error\"}},StoreLocator3.prototype._setCenter=function(t,e,i){var o;!t&&0!==t||!e&&0!==e||!this._map||(this._removeUserPin(),o=new google.maps.LatLng(t,e),this._map.setCenter(o),i&&this._redrawUserPin(t,e))},StoreLocator3.prototype._removeUserPin=function(){this._userPin&&this._userPinShadow&&(this._userPinShadow.setMap(null),this._userPin.setMap(null))},StoreLocator3.prototype._redrawUserPin=function(t,e){t=new google.maps.LatLng(t,e),e={path:google.maps.SymbolPath.CIRCLE,strokeColor:this._userPinHaloColor,strokeOpacity:.15,fillOpacity:0,scale:8,strokeWeight:36};this._userPinShadow=new google.maps.Marker({map:this._map,position:t,zIndex:-2,optimized:!1,clickable:!1,icon:e}),this._thumbnailMode||this._userMarkerAnimated||(this._userMarkerAnimated=!0,this._animateUserPinShadow(e)),this._userPin=new google.maps.Marker({map:this._map,position:t,zIndex:-2,optimized:!1,clickable:!1,icon:{path:google.maps.SymbolPath.CIRCLE,fillColor:this._userPinDotColor,fillOpacity:1,strokeOpacity:0,scale:10}})},StoreLocator3.prototype._animateUserPinShadow=function(t){var o=function(t,e){var i=t.new>t.current?s.in:s.out;i.scale.animateTo(t.new,800,function(){o({current:t.new,new:t.current},{current:e.new,new:e.current})}),i.stroke.animateTo(e.new,800,noop)},e=function(){this._userPinShadow.getIcon();t.scale=i.scale,t.strokeWeight=i.strokeWeight,this._userPinShadow.setIcon(t)}.bind(this),i=new StateObject({scale:8,strokeWeight:36}),s=(i.on(\"change:scale\",e),creative.adapter.on(\"stateChange\",function(t){\"dismissed\"===t&&i.off(\"change:scale\",e)}),{in:{scale:new EasingAnimation(i,\"scale\",{exp:EasingAnimation.presets.easeIn}),stroke:new EasingAnimation(i,\"strokeWeight\",{exp:EasingAnimation.presets.easeIn})},out:{scale:new EasingAnimation(i,\"scale\",{exp:EasingAnimation.presets.easeOut}),stroke:new EasingAnimation(i,\"strokeWeight\",{exp:EasingAnimation.presets.easeOut})}});o({current:8,new:.1},{current:36,new:20})},StoreLocator3.prototype._geocodeLocation=function(i,o){var t=i+\"\",e=new google.maps.Geocoder;this.country&&(t+=\" \"+this.country),e.geocode({address:t},function(t,e){e===google.maps.GeocoderStatus.OK?(i=t[0])&&\"function\"==typeof o&&o(i.geometry.location.lat(),i.geometry.location.lng()):console.error(\"Provided location couldn't be geocoded.\")})},StoreLocator3.prototype._trackBasedOnSource=function(t,e){var i=new ActionContext(this,this.USER_INTERACTED),t={name:t};return\"search\"===this.source?(t.locationId=null,t.googlePlaceId=e.id):(t.locationId=(1<e.size?e.locations[0]:e).id,t.googlePlaceId=null),i.trackUserInteraction(),i.track(t),i},StoreLocator3.prototype._setPhrases=function(t,e,i){this._phrases={},\"string\"==typeof e?this.language=e:\"object\"==typeof e&&(i=e),extend(this._phrases,this._translations[this.language]),(\"arabic\"===this.language?addClass:removeClass)(t,\"arabic\"),\"object\"==typeof i&&extend(this._phrases,i)},StoreLocator3.prototype._collapseInfobox=function(){this._infobox._isExpanded&&this._infobox._animateOut(function(){desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn()),this._setAllMarkersInactive(),this._selectedLocation=null}.bind(this))},StoreLocator3.prototype._closeInfoboxHeader=function(){this._infoboxHeaderActive&&(this._setAllMarkersInactive(),this._selectedLocation=this._selectedClusterLocation=null,this._infobox._animateOut(),this._header._animateOut(),desktop()&&(this._buttons.zoomIn._animateIn(),this._buttons.zoomOut._animateIn()),this._infoboxHeaderActive=!1)},StoreLocator3.prototype._exitSelectedMode=function(){this._selectedMode&&(this._setAllMarkersInactive(),this._selectedLocation=this._selectedClusterLocation=null,this._ignoreBoundsChanged=!1,this._selectedMode=!1,this._collapseInfobox(),this._list._animateIn(),this._header._exitSelectedMode())},StoreLocator3.prototype._exitSearchMode=function(){this._searchMode&&(this._ignoreSnapshot=!1,this._ignoreBoundsChanged=!1,this._applySnapshot(),\"map\"!==this.defaultView&&(this._enteredSearchModeFromMap?(this._list._animateOut(),this._animateButtonsIn()):this._list._setContent(this._sortedLocations)),this._header._exitSearchMode(),this._searchMode=!1)},StoreLocator3.prototype.getUserLocation=function(){if(StoreLocator3._userLocation)return{lat:StoreLocator3._userLocation.lat(),lng:StoreLocator3._userLocation.lng()}},StoreLocator3.prototype.getSelectedLocation=function(){if(this._selectedLocation)return this._getLocation(this._selectedLocation.id)},StoreLocator3.prototype.setCountry=function(t){this._country=t},StoreLocator3.prototype.setZoom=function(t){\"in\"===t?this._map.setZoom(this._map.getZoom()+1):\"out\"===t?this._map.setZoom(this._map.getZoom()-1):\"number\"==typeof t?this._map.setZoom(t):console.error('Invalid \"level\" parameter.')},StoreLocator3.prototype.setAnimations=function(t){this._isAnimated=!!t},StoreLocator3.prototype.disableGeolocationPrompt=function(){this._isGeolocationPromptDisabled=!0},StoreLocator3.prototype.setCenter=function(t,i){if(this._map&&t)switch(t.type.toLowerCase()){case\"geo\":this._setCenter(t.data.lat,t.data.lng,i);break;case\"zip\":this._geocodeLocation(t.data,function(t,e){this._setCenter(t,e,i)}.bind(this));break;case\"address\":this._geocodeLocation(t.data,function(t,e){this._setCenter(t,e,i)}.bind(this))}else console.error(\"setCenter function is missing required parameters.\")},StoreLocator3.prototype.createButton=function(t){if(t&&t.name&&t.startPosition&&t.endPosition)return this._createButton(t),this._buttons[t.name];console.error(\"createButton function is missing required parameters.\")},StoreLocator3.prototype.getButton=function(t){return this._buttons[t]},StoreLocator3.prototype.getInfobox=function(){return this._infobox},StoreLocator3.prototype.getList=function(){return this._list},StoreLocator3.prototype.getMap=function(){return console.warn(\"getMap function is deprecated and will be retired soon.\"),creative.track({name:\"retiredFeatureUsed\",featureType:\"apifunction\",featureName:\"getMap\"}),this._map},StoreLocator3.prototype.setPhrases=function(t,e){this._setPhrases(this.node,t,e),this._createPanelsWithText()},StoreLocator3.templates={initialMapDialog:'<div class=\"initial-map-dialog\">    <div class=\"map-placeholder\"></div>    <div class=\"overlay\">       <div class=\"overlay-content\">           <div class=\"user-interaction\">               <p class=\"user-interaction-message\"><% if (desktop()) { %><%= this._phrases.userInteractionDesktop %><% } else { %><%= this._phrases.userInteraction %><% } %></p>               <div class=\"icon\"><svg class=\"refocus\"><use xlink:href=\"#refocus\"></use></svg></div>           </div>           <div class=\"user-consent\">               <p class=\"user-consent-message\"><%= this._phrases.mapsConsentPrompt %></p>               <div class=\"consent-button button-yes\">                   <p class=\"consent-button-show-message\"><%= this._phrases.mapsConsentPromptShow %></p>               </div>               <div class=\"consent-button button-no\">                   <p class=\"consent-button-cancel-message\"><%= this._phrases.mapsConsentPromptCancel %></p>               </div>           </div>       </div>    </div></div>',mapContainer:'<div class=\"map-container ignore-toucheventsimulator\"></div>',headerContainer:'<div class=\"header\"></div>',infoboxHeader:'<div class=\"header-content infobox-header\" <% if (hidden) { %>style=\"opacity:0;\"<% } %>>    <div class=\"back with-text touchable\"><svg><use xlink:href=\"#back\"></use></svg><%= this._phrases.infoboxHeader %></div></div>',mapHeader:'<div class=\"header-content map-header\" <% if (hidden) { %>style=\"opacity:0;\"<% } %>>    <div class=\"back with-text touchable\"><svg><use xlink:href=\"#back\"></use></svg><span><% if (this._searchMode) { %><%= this._phrases.searchHeader %><% } else { %><%= this._phrases.mapHeader %><% } %></span></div></div>',listHeader:'<div class=\"header-content list-header\" <% if (hidden) { %>style=\"opacity:0;\"<% } %>>    <% if (this.defaultView !== \"list\") { %><div class=\"back with-text touchable\"><svg><use xlink:href=\"#back\"></use></svg><%= this._phrases.listHeader %></div><% } %>    <% if (this.searchBar) { %><div class=\"search touchable\"><svg><use xlink:href=\"#search\"></use></svg></div><% } %></div>',searchHeader:'<div class=\"header-content search-header\" <% if (hidden) { %>style=\"opacity:0;\"<% } %>>    <div class=\"back touchable\"><svg><use xlink:href=\"#back\"></use></svg></div>    <input class=\"query\" type=\"text\" placeholder=\"<%= this._phrases.searchPlaceholder %>\">    <div class=\"cancel touchable\"><svg><use xlink:href=\"#searchCancel\"></use></svg></div></div>',clusterHeader:'<div class=\"header-content cluster-header\" <% if (hidden) { %>style=\"opacity:0;\"<% } %>><% if (this._isSmaller) { %>    <div class=\"back with-text touchable\">        <svg><use xlink:href=\"#back\"></use></svg>        <div class=\"title\"><% } %>        <h5><%= this._phrases.infoboxClusterTitle %></h5>        <p class=\"instructions\"><%= this._phrases.infoboxClusterSubtitle %></p><% if (this._isSmaller) { %>        </div>    </div><% } %>    <p class=\"navigation\"><span class=\"current-location\">1</span>/<span class=\"total-locations\"><%= locations %></span></p></div>',infoboxContainer:'<div class=\"infobox-container\"></div>',infoboxContentWrapper:'<div class=\"infobox-wrapper\"></div>',infoboxContent:'<div class=\"infobox-location\">    <div class=\"details<% if (!phone && !website && !email) { %> no-actions<% } %>\">        <div class=\"center\">            <h3 class=\"touchable\" data-action=\"_handleDirectionsTap\" data-id=\"<%= id %>\"><%= name %></h3>            <% if ((this._isWide && !this._isSmall && !this._isTiny) || (!this._isWide && this._isTiny)) { %><%= formattedAddressOneLine %><% } else { %><%= formattedAddress %><% } %>            <% if (openingHours && this._parseOpeningHours(openingHours) !== \"error\") { %><p><span class=\"<% if (this._parseOpeningHours(openingHours)) { %>open<% } else { %>closed<% } %>\"><% if (this._parseOpeningHours(openingHours)) { %><%= this._phrases.hoursStatusOpen %><% } else { %><%= this._phrases.hoursStatusClosed %><% } %></span><% if (this._parseOpeningHours(openingHours, true)) { %><span class=\"dimmed\">: <%= this._parseOpeningHours(openingHours, true) %></span><% } %></p><% } %>        </div>        <div class=\"directions touchable\" data-action=\"_handleDirectionsTap\" data-id=\"<%= id %>\">            <div class=\"icon\"><svg><use xlink:href=\"#directions\"></use></svg></div>            <div class=\"distance\"><%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></div>        </div>    </div></div>',listContainer:'<div class=\"list-container\"></div>',listContentContainer:'<div class=\"list-content-container\"></div>',listContentWrapper:'<div class=\"list-wrapper\"></div>',listContent:'<div class=\"details\" data-id=\"<%= id %>\">    <h3><%= name %></h3>    <% if (this._isSmaller && !this._isWide) { %>    <p class=\"dimmed\"><%= address %> - <%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></p>    <% } else if (this._isSmaller && this._isWide) { %>    <%= formattedAddressOneLineWithDistance %>    <% } else { %>    <%= formattedAddressOneLine %>    <% } %>    <% if (!this._isSmall && !this._isTiny && openingHours) { %><p><span class=\"<% if (this._parseOpeningHours(openingHours)) { %>open<% } else { %>closed<% } %>\"><% if (this._parseOpeningHours(openingHours)) { %><%= this._phrases.hoursStatusOpen %><% } else { %><%= this._phrases.hoursStatusClosed %><% } %></span><% if (this._parseOpeningHours(openingHours, true)) { %><span class=\"dimmed\">: <%= this._parseOpeningHours(openingHours, true) %></span><% } %></p><% } %>    <div class=\"directions touchable\" data-action=\"_handleDirectionsTap\" data-id=\"<%= id %>\">        <div class=\"icon\"><svg><use xlink:href=\"#directions\"></use></svg></div>        <% if (!this._isSmall && !this._isTiny) { %><div class=\"distance\"><%= StoreLocator3._formatDistance(this._convertDistance(userDistance)) %> <%= this._unitsAbbr %></div><% } %>    </div></div>',actions:'<ul class=\"actions<% if (!email) { %> no-email<% } %><% if (!website) { %> no-website<% } %><% if (!phone) { %> no-phone<% } %>\">    <% if (email) { %><li class=\"email touchable\" data-id=\"<%= id %>\" data-mail=\"<%= email %>\"><div class=\"icon\"><svg><use xlink:href=\"#email<% if (this.icons === \"solid\") { %>Solid<% } %>\"></use></svg></div><div class=\"label\"><%= this._phrases.email %></div></li><% } %>    <% if (website) { %><li class=\"website touchable\" data-id=\"<%= id %>\" data-website=\"<%= website %>\"><div class=\"icon\"><svg><use xlink:href=\"#website<% if (this.icons === \"solid\") { %>Solid<% } %>\"></use></svg></div><div class=\"label\"><%= this._phrases.website %></div></li><% } %>    <% if (phone) { %><li class=\"phone touchable\" data-id=\"<%= id %>\" data-number=\"<%= phone %>\"><div class=\"icon\"><svg><use xlink:href=\"#phone<% if (this.icons === \"solid\") { %>Solid<% } %>\"></use></svg></div><div class=\"label\"><%= this._phrases.phone %></div></li><% } %></ul>'},StoreLocator3.InterfaceCommon={_setVisibility:function(t){t?(this._container.style.display=\"block\",this._isVisible=!0,this._isExpanded&&(this._animateIn||noop)()):(this._isExpanded&&(this._animateOut||noop)(),this._isVisible=!1,this._container.style.display=\"none\")},_setAnimation:function(){(this.parent._isAnimated?addClass:removeClass)(this._container,\"animated\")}},StoreLocator3.Header=function(t){extend(this,t),this._handleInfoboxHeaderBackTap=this._handleInfoboxHeaderBackTap.bind(this),this._handleClusterHeaderBackTap=this._handleClusterHeaderBackTap.bind(this),this._handleMapHeaderBackTap=this._handleMapHeaderBackTap.bind(this),this._handleListHeaderBackTap=this._handleListHeaderBackTap.bind(this),this._handleSearchHeaderBackTap=this._handleSearchHeaderBackTap.bind(this),this._handleSearchTap=this._handleSearchTap.bind(this),this._handleSearchPlaceChanged=this._handleSearchPlaceChanged.bind(this),this._handleSearchCancelTap=this._handleSearchCancelTap.bind(this),this._handleTransitionEnd=this._handleTransitionEnd.bind(this),this._container=this.parent.template(\"headerContainer\",{},this.parent.node),window[this.parent._isAnimated?\"addClass\":\"removeClass\"](this._container,\"animated\"),(\"both-list\"===this.parent.defaultView||-1!==this.parent.defaultView.indexOf(\"list\")&&this.parent.searchBar)&&this._setHeader(\"listHeader\",\"none\")},StoreLocator3.Header.prototype._setHeader=function(e,t,i,o){\"none\"===t?(this._setContent(e,!1,i),this._container.style.opacity=\"1\",this._container.style.top=\"0\"):\"content\"===t&&(once(this._headerContent,\"transitionend\",function(t){this._setContent(e,!0,i),once(this._headerContent,\"transitionend\",function(t){o&&o()}.bind(this)),defer(function(){this._headerContent.style.opacity=\"1\"}.bind(this),0)}.bind(this)),this._headerContent.style.opacity=\"0\")},StoreLocator3.Header.prototype._setContent=function(t,e,i){\"clusterHeader\"===t&&!this.parent._isSmaller||(e={hidden:e,locations:i&&i.locations},this._container.innerHTML=\"\",this._headerContent=this.parent.template(t,e,this._container),this._backBtn=this._container.querySelector(\".back\"),this._backBtn&&attach(this._backBtn,\"tap\",this[\"_handle\"+(t.charAt(0).toUpperCase()+t.slice(1))+\"BackTap\"]),\"searchHeader\"===t&&(this._searchInput=this._container.querySelector(\".query\"),this._searchQuery=new google.maps.places.SearchBox(this._searchInput),this._searchQuery.addListener(\"places_changed\",this._handleSearchPlaceChanged),defer(function(){for(var t=document.querySelectorAll(\".pac-container\"),e=0;e<t.length;e++)addClass(t[e],\"ignore-toucheventsimulator\")},500),this._searchCancelBtn=this._container.querySelector(\".cancel\"),attach(this._searchCancelBtn,\"tap\",this._handleSearchCancelTap),attach(this._searchInput,\"keyup\",function(t){this._searchCancelBtn.style.display=\"\"!==this._searchInput.value?\"block\":\"none\"}.bind(this))),this._searchBtn=this._container.querySelector(\".search\"),this._searchBtn&&attach(this._searchBtn,\"tap\",this._handleSearchTap))},StoreLocator3.Header.prototype._handleClusterHeaderBackTap=function(){this._handleInfoboxHeaderBackTap()},StoreLocator3.Header.prototype._handleInfoboxHeaderBackTap=function(){this.parent._closeInfoboxHeader(),this.parent.emit(\"infoboxheaderbacktapped\");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"locatorMapView\"})},StoreLocator3.Header.prototype._handleMapHeaderBackTap=function(){this.parent._exitSelectedMode(),this.parent.emit(\"mapheaderbacktapped\");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"locatorListView\"})},StoreLocator3.Header.prototype._exitSelectedMode=function(){\"list\"!==this.parent.defaultView||this.parent.searchBar||this._animateOut(),this._setHeader(this.parent._searchMode?\"searchHeader\":\"listHeader\",\"content\",{},function(){this.parent._searchMode&&(this._searchInput&&this._searchInput.focus(),this._searchInput.value=this.parent._searchQueryPlaceName,this._searchCancelBtn.style.display=\"block\")}.bind(this))},StoreLocator3.Header.prototype._handleListHeaderBackTap=function(){this.parent._isSmaller&&(this.parent._selectedLocation=this.parent._selectedClusterLocation=null),this.parent._ignoreBoundsChanged=!1,this.parent._ignoreSnapshot=!1,this.parent._applySnapshot(),this.parent._list._animateOut(),this._animateOut(),this.parent._selectedLocation||this.parent._selectedClusterLocation?(this.parent._animateButtonsIn([\"zoomIn\",\"zoomOut\"]),this.parent._infobox._animateIn()):this.parent._animateButtonsIn(),this.parent.emit(\"listheaderbacktapped\");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"locatorMapView\"})},StoreLocator3.Header.prototype._handleSearchHeaderBackTap=function(){var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),this.parent._exitSearchMode(),\"map\"===this.parent.defaultView||this.parent._enteredSearchModeFromMap?t.track({name:\"locatorMapview\"}):t.track({name:\"locatorListview\"}),this.parent.emit(\"searchheaderbacktapped\")},StoreLocator3.Header.prototype._exitSearchMode=function(){var t;\"map\"===this.parent.defaultView?this._handleListHeaderBackTap():(t=function(){this._searchInput.value=\"\",this._searchInput.blur(),this._searchCancelBtn.style.display=\"none\"}.bind(this),this.parent._enteredSearchModeFromMap?this._animateOut(function(){t()}):this._setHeader(\"listHeader\",\"content\",{},function(){t()}))},StoreLocator3.Header.prototype._handleSearchTap=function(){this.parent._enteredSearchModeFromMap=!1,this.parent._searchMode=!0,this.parent._createSnapshot(),this.parent._list._clearList(),this._setHeader(\"searchHeader\",\"content\",function(){this._searchInput&&this._searchInput.focus()}.bind(this)),this.parent.emit(\"searchbuttontapped\");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"locatorSearchClicked\"})},StoreLocator3.Header.prototype._handleSearchPlaceChanged=function(){var e,t=this._searchQuery.getPlaces();t&&t.length?(this.parent._ignoreSnapshot=!0,this.parent._searchQueryPlaceName=this._searchInput.value,e=t[0].geometry&&t[0].geometry.location,this.parent.once(\"locationsloaded\",function(){var t=this.parent._getSortedLocations(e,this.parent._sortedLocations);0<this.parent._sortedLocations.length?this.parent._list._setContent(t):this.parent._list._clearList(!0)}.bind(this)),\"search\"===this.parent.source?this.parent._searchLocations(this.parent.searchQuery,e,this.parent._maxSearchRadius,function(){this.parent._list._setContent(this.parent._sortedLocations)}.bind(this)):(t=new google.maps.Circle({center:e,radius:this.parent._maxSearchRadius}).getBounds(),this.parent._map.fitBounds(t))):this.parent._list._clearList(!0)},StoreLocator3.Header.prototype._handleSearchCancelTap=function(){this._searchCancelBtn.style.display=\"none\",this._searchInput.value=\"\",this._searchInput.blur(),this._searchInput.focus(),this.parent._list._clearList(),this.parent.emit(\"cancelsearchbuttontapped\")},StoreLocator3.Header.prototype._animateOut=function(e){this.parent._isAnimated?(addClass(this._container,\"animated\"),once(this._container,\"transitionend\",function(t){this._handleTransitionEnd(e)}.bind(this))):(removeClass(this._container,\"animated\"),e&&e()),this._container.style.top=-this.parent._headerHeight+\"px\",this._container.style.opacity=\"0\"},StoreLocator3.Header.prototype._animateIn=function(e){this.parent._isAnimated?(addClass(this._container,\"animated\"),once(this._container,\"transitionend\",function(t){this._handleTransitionEnd(e)}.bind(this))):(removeClass(this._container,\"animated\"),e&&e()),this._container.style.top=\"0px\",this._container.style.opacity=\"1\"},StoreLocator3.Header.prototype._handleTransitionEnd=function(t){t&&t()},StoreLocator3.Button=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isVisible=!0,this._isExpanded=!0,this._container=document.createElement(\"div\"),this._container.className=\"touchable btn \"+this.name,this._container.innerHTML='<svg class=\"'+this.name+'\"><use xlink:href=\"#'+this.name+'\"></use></svg>',this.parent.node.appendChild(this._container),this.style&&(this._container.style.cssText+=this.style),this.listener&&attach(this._container,\"tap\",this.listener),this._setPosition(this.endPosition),defer(this._setAnimation.bind(this),50)},StoreLocator3.Button.prototype._handleTransitionEnd=function(t){t&&t()},StoreLocator3.Button.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this._setPosition(this.endPosition,t,this.parent._isAnimated)))},StoreLocator3.Button.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._setPosition(this.startPosition,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.Button.prototype._setPosition=function(t,e,i){var o,s;t&&(o=parseInt(window.getComputedStyle(this._container).getPropertyValue(\"width\")),s=parseInt(window.getComputedStyle(this._container).getPropertyValue(\"height\")),i?once(this._container,\"transitionend\",function(t){this._handleTransitionEnd(e)}.bind(this)):(removeClass(this._container,\"animated\"),this._handleTransitionEnd(e)),this._container.style.left=t.left?t.left+\"px\":\"calc(100% - \"+(t.right+o)+\"px)\",this._container.style.top=t.top?t.top+\"px\":\"calc(100% - \"+(t.bottom+s)+\"px)\",i||defer(function(){addClass(this._container,\"animated\")}.bind(this),50))},StoreLocator3.Button.prototype.setStartPosition=function(t){this.startPosition=t},StoreLocator3.Button.prototype.setEndPosition=function(t){this.endPosition=t},StoreLocator3.Button.prototype.show=function(t){this._animateIn(t)},StoreLocator3.Button.prototype.hide=function(t){this._animateOut(t)},StoreLocator3.Button.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.Infobox=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isExpanded=!1,this._isVisible=!0,this._padding=10,this._height=150,this._width=this.parent._isSmaller?this.parent.size.width:this.parent.size.width-2*this._padding,this._modifiedPosition=null,this._handleScrollingEnd=this._handleScrollingEnd.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._container=this.parent.template(\"infoboxContainer\",this.location,this.parent.node),this._container.style.width=this._width+\"px\",this.parent._isSmaller&&(this._container.style.height=this.parent.size.height+\"px\"),this._setAnimation(),this._setPosition(this.position)},StoreLocator3.Infobox.prototype._redraw=function(){this._width=this.parent.size.width-(this.parent._isSmaller?0:2*this._padding),this._container.style.width=this._width+\"px\",this._isExpanded?(this._isExpanded=!1,this._setContent(this.parent._selectedClusterLocation||this.parent._selectedLocation),this._animateIn()):this._setPosition(this.position)},StoreLocator3.Infobox.prototype._handleTransitionEnd=function(t){this._isExpanded?this.parent.emit(\"infoboxshown\"):this.parent.emit(\"infoboxhidden\"),t&&t()},StoreLocator3.Infobox.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this._container.style.opacity=\"1\",this._setPosition(\"expanded\",t,this.parent._isAnimated)))},StoreLocator3.Infobox.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._container.style.opacity=\"0\",this._setPosition(this._modifiedPosition||this.position,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.Infobox.prototype._setContent=function(t){this.parent._isSmaller?this._height=this.parent.size.height:this.parent._isWide?this._height=1<t.size?125:75:this._height=1<t.size?200:150,this._container.style.height=this._height+\"px\",this._container.innerHTML=\"\",this._stopListeningToTouches();var i,e,o,s=function(t,e){t.phone&&attach(e.querySelector(\".phone\"),\"tap\",this.parent._handlePhoneTap),t.website&&attach(e.querySelector(\".website\"),\"tap\",this.parent._handleWebsiteTap),t.email&&attach(e.querySelector(\".email\"),\"tap\",this.parent._handleEmailTap),attach(i.querySelector(\".directions\"),\"tap\",this.parent._handleDirectionsTap),attach(i.querySelector(\"h3\"),\"tap\",this.parent._handleDirectionsTap)}.bind(this);1<t.size?(addClass(this._container,\"cluster\"),this.parent._selectedLocation=t.locations[0],this.parent._isSmaller?(this.parent._header._setHeader(\"clusterHeader\",\"none\",{locations:t.size}),this.parent._header._animateIn()):(this._header=this.parent.template(\"clusterHeader\",{hidden:!1,locations:t.size},this._container),addClass(this._header,\"static\")),this._wrapper=this.parent.template(\"infoboxContentWrapper\",{},this._container),this._wrapper.style.width=this._width*t.locations.length+\"px\",t.locations.forEach(function(t){i=this.parent.template(\"infoboxContent\",t,this._wrapper),e=this.parent.template(\"actions\",t,i),i.style.width=this._width+\"px\",s(t,e)},this),this.scroller=new Scroller(this._container,this._wrapper,{direction:\"horizontal\",animating:!0,easing:!0,snapping:!0}),this.scroller.on(\"scrollingEnd\",function(){this._handleScrollingEnd(t)}.bind(this)),this._startListeningToTouches()):(o=function(t){i=this.parent.template(\"infoboxContent\",t,this._wrapper),e=this.parent.template(\"actions\",t,i),s(t,e)}.bind(this),removeClass(this._container,\"cluster\"),this.parent._selectedLocation=t,this._wrapper=this.parent.template(\"infoboxContentWrapper\",{},this._container),this._wrapper.style.width=\"100%\",\"search\"!==this.parent.source||t.zip?o(t):this.parent._getPlaceDetails(t,o))},StoreLocator3.Infobox.prototype._handleScrollingEnd=function(t){var e=this.scroller.getCurrentScroll(),e=Math.floor(e.left/this._width);this.parent._isSmaller?this.parent._header._container.querySelector(\".current-location\").innerText=e+1:this._container.querySelector(\".current-location\").innerText=e+1,this._isExpanded&&(this.parent._selectedLocation=t.locations[e])},StoreLocator3.Infobox.prototype._startListeningToTouches=function(){this._container&&this.scroller&&(attach(this._container,\"touchstart\",this._handleTouchStart),attach(this.parent.parentUnit.node,\"touchmove\",this._handleTouchMove),attach(this.parent.parentUnit.node,\"touchend\",this._handleTouchEnd),attach(this.parent.parentUnit.node,\"touchcancel\",this._handleTouchEnd))},StoreLocator3.Infobox.prototype._stopListeningToTouches=function(){this._container&&this.scroller&&(detach(this._container,\"touchstart\",this._handleTouchStart),detach(this.parent.parentUnit.node,\"touchmove\",this._handleTouchMove),detach(this.parent.parentUnit.node,\"touchend\",this._handleTouchEnd),detach(this.parent.parentUnit.node,\"touchcancel\",this._handleTouchEnd))},StoreLocator3.Infobox.prototype._handleTouchStart=function(t){this.scroller._handleTouchStart(t),new ActionContext(this.parent,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.Infobox.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},StoreLocator3.Infobox.prototype._handleTouchEnd=function(t){this.scroller._handleTouchEnd(t)},StoreLocator3.Infobox.prototype._setPosition=function(t,e,i){switch(i?once(this._container,\"transitionend\",function(t){this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility=\"hidden\")}.bind(this)):(removeClass(this._container,\"animated\"),this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility=\"hidden\")),this._isExpanded&&(this._container.style.visibility=\"visible\"),t){case\"top\":this._container.style.left=\"0px\",this._container.style.top=this.parent.size.height-this._height-50+\"px\";break;case\"bottom\":this._container.style.left=\"0px\",this._container.style.top=this.parent.size.height-this._height+50+\"px\";break;case\"left\":this._container.style.left=\"-50px\",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+\"px\";break;case\"right\":this._container.style.left=\"50px\",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+\"px\";break;case\"expanded\":this._container.style.left=\"0px\",this._container.style.top=this.parent.size.height-this._height-(this.parent._isSmaller?0:this._padding)+\"px\"}i||defer(function(){addClass(this._container,\"animated\")}.bind(this),50)},StoreLocator3.Infobox.prototype.setStartPosition=function(t){this._modifiedPosition=t,this._setPosition(t)},StoreLocator3.Infobox.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.List=function(t){extend(this,t),extend(this,StoreLocator3.InterfaceCommon),this._isVisible=!0,this._isExpanded=!1,this._modifiedPosition=null,this._handleItemTap=this._handleItemTap.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._container=this.parent.template(\"listContainer\",{},this.parent.node),this._listContainer=this.parent.template(\"listContentContainer\",{},this._container),this._listWrapper=this.parent.template(\"listContentWrapper\",{},this._listContainer),this.scroller=new Scroller(this._listContainer,this._listWrapper,{direction:\"vertical\",animating:!0,easing:!0,scrollbarPosition:\"inner\"}),this._setAnimation(),-1===this.parent.defaultView.indexOf(\"both\")&&!this.parent.searchBar||addClass(this._container,\"with-header\"),\"list\"===this.parent.defaultView||\"both-list\"===this.parent.defaultView?(this._isExpanded=!0,this._container.style.opacity=\"1\",this._setPosition(\"expanded\")):this._setPosition(this.position)},StoreLocator3.List.prototype._redraw=function(){this._isExpanded?(this._setContent(this.parent._sortedLocations),this._animateIn()):this.setStartPosition(this.position)},StoreLocator3.List.prototype._handleTransitionEnd=function(t){this._isExpanded?this.parent.emit(\"listshown\"):this.parent.emit(\"listhidden\"),t&&t()},StoreLocator3.List.prototype._showSearch=function(){this.parent._createSnapshot(),this._clearList(),this._header.style.display=\"none\",this._searchHeader.style.display=\"block\",this.parent._searchMode=!0,this.parent.emit(\"searchbuttontapped\");var t=new ActionContext(this.parent,this.parent.USER_INTERACTED);t.trackUserInteraction(),t.track({name:\"locatorSearchClicked\"})},StoreLocator3.List.prototype._clearList=function(t){this._listWrapper.innerText=t?this.parent._phrases.searchEmpty:\"\",this._listWrapper.style.height=this._listWrapper.style.lineHeight=(\"list\"===this.parent.defaultView?this.parent.size.height:this.parent.size.height-this.parent._headerHeight)+\"px\",this.scroller.redraw(),this._stopListeningToTouches(),this._listWrapper.style.transform=\"\"},StoreLocator3.List.prototype._setContent=function(t){var i,o,s=0;this._itemHeight=this.parent._isSmaller?50:75,this._listWrapper.innerHTML=\"\",this._listWrapper.style.lineHeight=\"inherit\",0===t.length?this._clearList(!0):(t.forEach(function(t){t.size?t.locations.forEach(function(t){i=this.parent.template(\"listContent\",t,this._listWrapper),s+=1},this):(i=this.parent.template(\"listContent\",t,this._listWrapper),s+=1);var e=i.querySelector(\".directions\");attach(e,\"tap\",this.parent._handleDirectionsTap),!this.parent._isWide||this.parent._isSmall||this.parent._isTiny||(o=this.parent.template(\"actions\",t,i),t.phone&&attach(o.querySelector(\".phone\"),\"tap\",this.parent._handlePhoneTap),t.website&&attach(o.querySelector(\".website\"),\"tap\",this.parent._handleWebsiteTap),t.email&&attach(o.querySelector(\".email\"),\"tap\",this.parent._handleEmailTap)),addClass(i,\"touchable\"),attach(i,\"tap\",this._handleItemTap)},this),this._listWrapper.style.height=s*this._itemHeight+\"px\",this.scroller.redraw(),this.scroller.scrollTo(0,0,!1),this._startListeningToTouches())},StoreLocator3.List.prototype._handleItemTap=function(t){this.parent._selectedMode=!0;t=this.parent._selectedLocation=this.parent._getLocation(t.target.getAttribute(\"data-id\"));this.parent._ignoreSnapshot=!0,this.parent._ignoreBoundsChanged=!0,this.parent._oldMarkers=this.parent._markerReferences,this.parent._removeLocationsMarkers(),this.parent._addMarker(t),this.parent._setCenter(t.lat,t.lng),this.parent._map.setZoom(this.parent._maxZoom),this.parent._infobox._setContent(t),this.parent._header._setHeader(\"mapHeader\",\"none\"),this.parent._header._animateIn(),this.parent._isSmaller||(this._animateOut(),desktop()&&(this.parent._buttons.zoomIn._animateOut(),this.parent._buttons.zoomOut._animateOut())),this.parent._infobox._animateIn(),this.parent.emit(\"locationselectedfromlist\",t),this.parent._trackBasedOnSource(\"locatorLocationShown\",t)},StoreLocator3.List.prototype._startListeningToTouches=function(){this._container&&this.scroller&&(attach(this._container,\"touchstart\",this._handleTouchStart),attach(this._container,\"touchmove\",this._handleTouchMove),attach(this._container,\"touchend\",this._handleTouchEnd),attach(this._container,\"touchcancel\",this._handleTouchEnd))},StoreLocator3.List.prototype._stopListeningToTouches=function(){this._container&&this.scroller&&(detach(this._container,\"touchstart\",this._handleTouchStart),detach(this._container,\"touchmove\",this._handleTouchMove),detach(this._container,\"touchend\",this._handleTouchEnd),detach(this._container,\"touchcancel\",this._handleTouchEnd))},StoreLocator3.List.prototype._handleTouchStart=function(t){this.scroller._handleTouchStart(t),new ActionContext(this.parent,{certainlyNotCausedByUserBehavior:!1,consideredUserInitiatedByBrowser:!0}).trackUserInteraction()},StoreLocator3.List.prototype._handleTouchMove=function(t){t.preventDefault(),this.scroller._handleTouchMove(t)},StoreLocator3.List.prototype._handleTouchEnd=function(t){this.scroller._handleTouchEnd(t)},StoreLocator3.List.prototype._animateIn=function(t){this._isVisible&&(this._isExpanded?this._handleTransitionEnd(t):(this._isExpanded=!0,this.parent._searchMode||this._setContent(this.parent._sortedLocations),this._container.style.opacity=\"1\",this._setPosition(\"expanded\",t,this.parent._isAnimated)))},StoreLocator3.List.prototype._animateOut=function(t){this._isVisible&&(this._isExpanded?(this._isExpanded=!1,this._stopListeningToTouches(),this._container.style.opacity=\"0\",this._setPosition(this._modifiedPosition||this.position,t,this.parent._isAnimated)):this._handleTransitionEnd(t))},StoreLocator3.List.prototype._setPosition=function(t,e,i){switch(i?once(this._container,\"transitionend\",function(t){this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility=\"hidden\"),this.parent._searchMode||removeClass(this._container,\"search\")}.bind(this)):(removeClass(this._container,\"animated\"),this._handleTransitionEnd(e),this._isExpanded||(this._container.style.visibility=\"hidden\"),this.parent._searchMode||removeClass(this._container,\"search\")),this._isExpanded&&(this._container.style.visibility=\"visible\"),t){case\"top\":this._container.style.left=\"0px\",this._container.style.top=\"-50px\";break;case\"bottom\":this._container.style.left=\"0px\",this._container.style.top=\"50px\";break;case\"left\":this._container.style.left=\"-50px\",this._container.style.top=\"0px\";break;case\"right\":this._container.style.left=\"50px\",this._container.style.top=\"0px\";break;case\"expanded\":this._container.style.left=\"0px\",this._container.style.top=\"0px\"}i||defer(function(){addClass(this._container,\"animated\")}.bind(this),50)},StoreLocator3.List.prototype.setStartPosition=function(t){this._modifiedPosition=t,this._setPosition(t)},StoreLocator3.List.prototype.setVisibility=function(t){this._setVisibility(t)},StoreLocator3.List.prototype.show=function(t){this.parent._header._setHeader(\"listHeader\",\"none\"),this.parent._header._animateIn(),this._animateIn(t)},StoreLocator3.List.prototype.hide=function(t){this._animateOut(t)},StoreLocator3._pins={markerWithHole:{svg:'<svg version=\"1.1\" width=\"26px\" height=\"39px\" viewBox=\"0 0 26 39\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13,0C5.82,0,0,5.82,0,13c0,11.267,10.4,13,13,26c2.6-13,13-15.6,13-26C26,6.066,20.18,0,13,0z M13,19c-3.313,0-6-2.687-6-6s2.687-6,6-6s6,2.687,6,6S16.313,19,13,19z\" fill=\"{pathFill}\"/></svg>',width:26,height:39},markerCluster:{svg:'<svg version=\"1.1\" width=\"39px\" height=\"39px\" viewBox=\"0 0 39 39\" xmlns=\"http://www.w3.org/2000/svg\"><circle cx=\"19.5\" cy=\"19.5\" r=\"19\" stroke=\"{pathFill}\" stroke-width=\"1\" fill=\"none\" /><circle cx=\"19.5\" cy=\"19.5\" r=\"15.5\" stroke=\"{pathFill}\" stroke-width=\"1.5\" fill=\"none\" /><circle cx=\"19.5\" cy=\"19.5\" r=\"13\" stroke-width=\"0\" fill=\"{pathFill}\" /><text x=\"19.5\" y=\"19.5\" {verticalTextAlignment} font-size=\"{fontSize}\" fill=\"{fontColor}\" font-family=\"{fontFamily}\" text-anchor=\"middle\">{text}</text></svg>',width:39,height:39},markerSolid:{svg:'<svg version=\"1.1\" width=\"26px\" height=\"39px\" viewBox=\"0 0 26 39\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13,0C5.82,0,0,5.82,0,13c0,11.267,10.4,13,13,26c2.6-13,13-15.6,13-26C26,6.066,20.18,0,13,0z\" fill=\"{pathFill}\"/><text x=\"13\" y=\"13.5\" font-size=\"{fontSize}\" fill=\"{fontColor}\" font-family=\"{fontFamily}\" text-anchor=\"middle\" {verticalTextAlignment}>{text}</text></svg>',width:26,height:39}},StoreLocator3._icons='<svg style=\"display:none;\">    <defs>        <symbol id=\"list\" viewBox=\"0 0 16 16\"><rect id=\"Rectangle-1\" x=\"1\" y=\"4\" width=\"14\" height=\"1\"></rect><rect id=\"Rectangle-2\" x=\"1\" y=\"8\" width=\"14\" height=\"1\"></rect><rect id=\"Rectangle-3\" x=\"1\" y=\"12\" width=\"14\" height=\"1\"></rect></symbol>        <symbol id=\"refocus\" viewBox=\"0 0 16 16\"><g id=\"Oval-10\"><path id=\"path-1_2_\" d=\"M8,4c2.206,0,4,1.794,4,4c0,2.206-1.794,4-4,4c-2.206,0-4-1.794-4-4C4,5.794,5.794,4,8,4 M8,2C4.687,2,2,4.687,2,8s2.687,6,6,6s6-2.687,6-6S11.313,2,8,2L8,2z\"/></g><circle id=\"Oval-11\" cx=\"8\" cy=\"8\" r=\"2\"/><path id=\"Rectangle-7\" d=\"M7.5,0h1C8.776,0,9,0.224,9,0.5v2C9,2.776,8.776,3,8.5,3h-1C7.224,3,7,2.776,7,2.5v-2C7,0.224,7.224,0,7.5,0z\"/><path id=\"Rectangle-8\" d=\"M13.5,7h2C15.776,7,16,7.224,16,7.5v1C16,8.776,15.776,9,15.5,9h-2C13.224,9,13,8.776,13,8.5v-1C13,7.224,13.224,7,13.5,7z\"/><path id=\"Rectangle-9\" d=\"M7.5,13h1C8.776,13,9,13.224,9,13.5v2C9,15.776,8.776,16,8.5,16h-1C7.224,16,7,15.776,7,15.5v-2C7,13.224,7.224,13,7.5,13z\"/><path id=\"Rectangle-10\" d=\"M0.5,7h2C2.776,7,3,7.224,3,7.5v1C3,8.776,2.776,9,2.5,9h-2C0.224,9,0,8.776,0,8.5v-1C0,7.224,0.224,7,0.5,7z\"/></symbol>        <symbol id=\"search\" viewBox=\"0 0 16 16\"><rect x=\"10.672\" y=\"13\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 13.5 -5.5919)\" width=\"5.657\" height=\"1\"/><path id=\"path-1_2_\" d=\"M7,1c3.309,0,6,2.691,6,6s-2.691,6-6,6s-6-2.691-6-6S3.691,1,7,1 M7,0C3.134,0,0,3.134,0,7s3.134,7,7,7s7-3.134,7-7S10.866,0,7,0L7,0z\"/></symbol>        <symbol id=\"zoomIn\" viewBox=\"0 0 16 16\"><rect id=\"Combined-Shape_1_\" x=\"7\" y=\"2\" width=\"1\" height=\"11\"/><rect id=\"Combined-Shape\" x=\"2\" y=\"7\" width=\"11\" height=\"1\"/></symbol>        <symbol id=\"zoomOut\" viewBox=\"0 0 16 16\"><rect id=\"Combined-Shape\" x=\"2\" y=\"7\" width=\"11\" height=\"1\"/></symbol>        <symbol id=\"back\" viewBox=\"0 0 16 16\"><rect x=\"2.104\" y=\"7.5\" width=\"13\" height=\"1\"/><rect x=\"4.104\" y=\"0.257\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 4.8839 -1.7907)\" width=\"1\" height=\"9.485\"/><rect x=\"-0.139\" y=\"10.5\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 9.1265 -0.0334)\" width=\"9.485\" height=\"1\"/></symbol>        <symbol id=\"searchCancel\" viewBox=\"0 0 16 16\"><rect x=\"4.525\" y=\"7.525\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 8.0251 -3.3241)\" width=\"7\" height=\"1\"/><rect x=\"7.525\" y=\"4.525\" transform=\"matrix(0.7071 0.7071 -0.7071 0.7071 8.0251 -3.3241)\" width=\"1\" height=\"7\"/><path d=\"M8,15.5c-4.136,0-7.5-3.364-7.5-7.5S3.864,0.5,8,0.5s7.5,3.364,7.5,7.5S12.136,15.5,8,15.5z M8,1.5C4.416,1.5,1.5,4.416,1.5,8s2.916,6.5,6.5,6.5s6.5-2.916,6.5-6.5S11.584,1.5,8,1.5z\"/></symbol>        <symbol id=\"directions\" viewBox=\"0 0 30 27\"><path d=\"M1.75,27h-1.5V17c0-4.825,3.925-8.75,8.75-8.75h20v1.5H9c-3.998,0-7.25,3.252-7.25,7.25V27z\"/><polygon points=\"21.53,17.53 20.47,16.47 27.939,9 20.47,1.53 21.53,0.47 30.061,9 \"/></symbol>        <symbol id=\"email\" viewBox=\"0 0 24 24\"><path d=\"M12,14.569L3.5,9.933V5.5h17v4.433L12,14.569z M4.5,9.339l7.5,4.091l7.5-4.091V6.5h-15V9.339z\"/><polygon points=\"20.5,18.5 3.5,18.5 3.5,7 4.5,7 4.5,17.5 19.5,17.5 19.5,7 20.5,7 \"/></symbol>        <symbol id=\"emailSolid\" viewBox=\"0 0 24 24\"><path id=\"Shape\" d=\"M19.334,6H4.667C4.267,6,4,6.24,4,6.6v1.8c0,0.24,0.133,0.42,0.333,0.54l7.333,3.6C11.8,12.6,11.867,12.6,12,12.6s0.2,0,0.333-0.06l7.333-3.6C19.867,8.82,20,8.64,20,8.4V6.6C20,6.24,19.733,6,19.334,6L19.334,6z\"/><path id=\"Shape_1_\" d=\"M12.934,13.561C12.666,13.74,12.333,13.8,12,13.8s-0.667-0.06-0.933-0.239L4,10.14v7.26C4,17.76,4.267,18,4.667,18h14.667C19.733,18,20,17.76,20,17.4v-7.26L12.934,13.561L12.934,13.561z\"/></symbol>        <symbol id=\"phone\" viewBox=\"0 0 24 24\"><path d=\"M17.922,20.5h-0.207C9.877,20.5,3.5,14.123,3.5,6.286V6.079l2.786-2.786l4.517,4.517l-2.286,2.286l5.388,5.388l2.286-2.286l4.517,4.518L17.922,20.5z M4.501,6.491C4.61,13.615,10.385,19.39,17.51,19.498l1.783-1.783l-3.103-3.104l-2.286,2.286l-6.802-6.802L9.388,7.81L6.286,4.707L4.501,6.491z\"/></symbol>        <symbol id=\"phoneSolid\" viewBox=\"0 0 24 24\"><path id=\"Shape\" d=\"M16.19,13.904l-2.286,2.286L7.81,10.095l2.286-2.286L6.286,4L4,6.286C4,13.859,10.14,20,17.715,20L20,17.715L16.19,13.904L16.19,13.904z\"/></symbol>        <symbol id=\"website\" viewBox=\"0 0 24 24\"><path d=\"M19.5,20.5h-6v-6h-3v6h-6V9.868L12,3.337l7.5,6.531V20.5z M14.5,19.5h4v-9.177L12,4.663l-6.5,5.66V19.5h4v-6h5V19.5z\"/></symbol>        <symbol id=\"websiteSolid\" viewBox=\"0 0 24 24\"><path d=\"M19.5,20.5h-6v-6h-3v6h-6V9.868L12,3.337l7.5,6.531V20.5z\"/></symbol>    </defs></svg>',StoreLocator3._mapStyles={default:[{featureType:\"water\",stylers:[{saturation:43},{lightness:-11},{hue:\"#0088ff\"}]},{featureType:\"road\",elementType:\"geometry.fill\",stylers:[{hue:\"#ff0000\"},{saturation:-100},{lightness:99}]},{featureType:\"road\",elementType:\"geometry.stroke\",stylers:[{color:\"#808080\"},{lightness:54}]},{featureType:\"landscape.man_made\",elementType:\"geometry.fill\",stylers:[{color:\"#ece2d9\"}]},{featureType:\"poi.park\",elementType:\"geometry.fill\",stylers:[{color:\"#ccdca1\"}]},{featureType:\"road\",elementType:\"labels.text.fill\",stylers:[{color:\"#767676\"}]},{featureType:\"road\",elementType:\"labels.text.stroke\",stylers:[{color:\"#ffffff\"}]},{featureType:\"poi\",stylers:[{visibility:\"off\"}]},{featureType:\"landscape.natural\",elementType:\"geometry.fill\",stylers:[{visibility:\"on\"},{color:\"#b8cb93\"}]},{featureType:\"poi.park\",stylers:[{visibility:\"on\"}]},{featureType:\"poi.sports_complex\",stylers:[{visibility:\"on\"}]},{featureType:\"poi.medical\",stylers:[{visibility:\"on\"}]},{featureType:\"poi.business\",stylers:[{visibility:\"simplified\"}]}],day:[{featureType:\"landscape\",stylers:[{hue:\"#FFBB00\"},{saturation:43.400000000000006},{lightness:37.599999999999994},{gamma:1}]},{featureType:\"road.highway\",stylers:[{hue:\"#FFC200\"},{saturation:-61.8},{lightness:45.599999999999994},{gamma:1}]},{featureType:\"road.arterial\",stylers:[{hue:\"#FF0300\"},{saturation:-100},{lightness:51.19999999999999},{gamma:1}]},{featureType:\"road.local\",stylers:[{hue:\"#FF0300\"},{saturation:-100},{lightness:52},{gamma:1}]},{featureType:\"water\",stylers:[{hue:\"#0078FF\"},{saturation:-13.200000000000003},{lightness:2.4000000000000057},{gamma:1}]},{featureType:\"poi\",stylers:[{hue:\"#00FF6A\"},{saturation:-1.0989010989011234},{gamma:1}]},{featureType:\"poi\",elementType:\"geometry\",stylers:[{lightness:11.200000000000017}]},{featureType:\"poi\",elementType:\"labels.text\",stylers:[{lightness:11.200000000000017}]}],night:[{featureType:\"all\",elementType:\"labels.text.fill\",stylers:[{color:\"#ffffff\"}]},{featureType:\"all\",elementType:\"labels.text.stroke\",stylers:[{color:\"#000000\"},{lightness:13}]},{featureType:\"administrative\",elementType:\"geometry.fill\",stylers:[{color:\"#000000\"}]},{featureType:\"administrative\",elementType:\"geometry.stroke\",stylers:[{color:\"#144b53\"},{lightness:14},{weight:1.4}]},{featureType:\"landscape\",elementType:\"all\",stylers:[{color:\"#08304b\"}]},{featureType:\"poi\",elementType:\"geometry\",stylers:[{color:\"#0c4152\"},{lightness:5}]},{featureType:\"road.highway\",elementType:\"geometry.fill\",stylers:[{color:\"#000000\"}]},{featureType:\"road.highway\",elementType:\"geometry.stroke\",stylers:[{color:\"#0b434f\"},{lightness:25}]},{featureType:\"road.arterial\",elementType:\"geometry.fill\",stylers:[{color:\"#000000\"}]},{featureType:\"road.arterial\",elementType:\"geometry.stroke\",stylers:[{color:\"#0b3d51\"},{lightness:16}]},{featureType:\"road.local\",elementType:\"geometry\",stylers:[{color:\"#000000\"}]},{featureType:\"transit\",elementType:\"all\",stylers:[{color:\"#146474\"}]},{featureType:\"water\",elementType:\"all\",stylers:[{color:\"#021019\"}]}],greyscale:[{featureType:\"administrative\",elementType:\"all\",stylers:[{visibility:\"on\"},{saturation:-100},{lightness:20}]},{featureType:\"road\",elementType:\"all\",stylers:[{visibility:\"on\"},{saturation:-100},{lightness:40}]},{featureType:\"water\",elementType:\"all\",stylers:[{visibility:\"on\"},{saturation:-10},{lightness:30}]},{featureType:\"landscape.man_made\",elementType:\"all\",stylers:[{visibility:\"simplified\"},{saturation:-60},{lightness:10}]},{featureType:\"landscape.natural\",elementType:\"all\",stylers:[{visibility:\"simplified\"},{saturation:-60},{lightness:60}]},{featureType:\"poi\",elementType:\"all\",stylers:[{visibility:\"off\"},{saturation:-100},{lightness:60}]},{featureType:\"transit\",elementType:\"all\",stylers:[{visibility:\"off\"},{saturation:-100},{lightness:60}]}],colorful:[{featureType:\"landscape.man_made\",elementType:\"geometry\",stylers:[{color:\"#f7f1df\"}]},{featureType:\"landscape.natural\",elementType:\"geometry\",stylers:[{color:\"#d0e3b4\"}]},{featureType:\"landscape.natural.terrain\",elementType:\"geometry\",stylers:[{visibility:\"off\"}]},{featureType:\"poi\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"poi.business\",elementType:\"all\",stylers:[{visibility:\"off\"}]},{featureType:\"poi.medical\",elementType:\"geometry\",stylers:[{color:\"#fbd3da\"}]},{featureType:\"poi.park\",elementType:\"geometry\",stylers:[{color:\"#bde6ab\"}]},{featureType:\"road\",elementType:\"geometry.stroke\",stylers:[{visibility:\"off\"}]},{featureType:\"road\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"road.highway\",elementType:\"geometry.fill\",stylers:[{color:\"#ffe15f\"}]},{featureType:\"road.highway\",elementType:\"geometry.stroke\",stylers:[{color:\"#efd151\"}]},{featureType:\"road.arterial\",elementType:\"geometry.fill\",stylers:[{color:\"#ffffff\"}]},{featureType:\"road.local\",elementType:\"geometry.fill\",stylers:[{color:\"black\"}]},{featureType:\"transit.station.airport\",elementType:\"geometry.fill\",stylers:[{color:\"#cfb2db\"}]},{featureType:\"water\",elementType:\"geometry\",stylers:[{color:\"#a2daf2\"}]}],blue:[{featureType:\"landscape.natural\",elementType:\"geometry.fill\",stylers:[{visibility:\"on\"},{color:\"#e0efef\"}]},{featureType:\"poi\",elementType:\"geometry.fill\",stylers:[{visibility:\"on\"},{hue:\"#1900ff\"},{color:\"#c0e8e8\"}]},{featureType:\"road\",elementType:\"geometry\",stylers:[{lightness:100},{visibility:\"simplified\"}]},{featureType:\"road\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"transit.line\",elementType:\"geometry\",stylers:[{visibility:\"on\"},{lightness:700}]},{featureType:\"water\",elementType:\"all\",stylers:[{color:\"#7dcdcd\"}]}],red:[{stylers:[{hue:\"#dd0d0d\"}]},{featureType:\"road\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"road\",elementType:\"geometry\",stylers:[{lightness:100},{visibility:\"simplified\"}]}],green:[{stylers:[{hue:\"#baf4c4\"},{saturation:10}]},{featureType:\"water\",stylers:[{color:\"#effefd\"}]},{featureType:\"all\",elementType:\"labels\",stylers:[{visibility:\"off\"}]},{featureType:\"administrative\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"road\",elementType:\"geometry\",stylers:[{lightness:100},{visibility:\"simplified\"}]},{featureType:\"road\",elementType:\"labels\",stylers:[{visibility:\"on\"}]},{featureType:\"transit\",elementType:\"all\",stylers:[{visibility:\"off\"}]}]},StoreLocator3._defaultTranslations=function(){return{english:{listHeader:\"Go to map\",infoboxHeader:\"Back to map\",mapHeader:\"Back to list\",searchHeader:\"Back to search results\",searchEmpty:\"Sorry, no location found\",searchPlaceholder:\"Search City or ZIP\",infoboxClusterTitle:\"Multiple locations\",infoboxClusterSubtitle:\"Swipe left or right to browse\",hoursStatusOpen:\"Open now\",hoursStatusClosed:\"Closed\",phone:\"Phone\",website:\"www\",email:\"Email\",userInteraction:\"Tap to find locations\",userInteractionDesktop:\"Click to find locations\",mapsConsentPrompt:\"To view the map, your location and IP address will be shared with Google\",mapsConsentPromptShow:\"View\",mapsConsentPromptCancel:\"Cancel\"},french:{listHeader:\"Allez \u00e0 la carte\",infoboxHeader:\"Retournez \u00e0 la carte\",mapHeader:\"Retournez \u00e0 la liste\",searchHeader:\"Retournez aux r\u00e9sultats de la recherche\",searchEmpty:\"D\u00e9sol\u00e9, aucun lieu trouv\u00e9\",searchPlaceholder:\"Recherchez la ville ou le code postal\",infoboxClusterTitle:\"Multiples lieux\",infoboxClusterSubtitle:\"Glissez \u00e0 gauche ou \u00e0 droite pour naviguer\",hoursStatusOpen:\"Ouvert maintenant\",hoursStatusClosed:\"Ferm\u00e9\",phone:\"T\u00e9l\u00e9phone\",website:\"www\",email:\"Courriel\",userInteraction:\"Touchez pour trouver des endroits\",userInteractionDesktop:\"Cliquez pour trouver des endroits\",mapsConsentPrompt:\"Pour voir la carte, votre position et votre adresse sont communiqu\u00e9es \u00e0 Google\",mapsConsentPromptShow:\"Voir\",mapsConsentPromptCancel:\"Annuler \"},german:{listHeader:\"Zur Karte\",infoboxHeader:\"Zur\u00fcck zur Karte\",mapHeader:\"Zur\u00fcck zur Liste\",searchHeader:\"Zur\u00fcck zu den Suchergebnissen\",searchEmpty:\"Kein Ort gefunden\",searchPlaceholder:\"Ort oder Postleitzahl suchen\",infoboxClusterTitle:\"Mehrere Orte\",infoboxClusterSubtitle:\"Zum Browsen nach links oder rechts wischen\",hoursStatusOpen:\"Jetzt ge\u00f6ffnet\",hoursStatusClosed:\"Geschlossen\",phone:\"Telefon\",website:\"www\",email:\"E-Mail\",userInteraction:\"Tippen Sie hier um Orte zu finden\",userInteractionDesktop:\"Klicken Sie hier um Orte zu finden\",mapsConsentPrompt:\"Um die Karte zu sehen, wird Ihr Standort und Ihre IP Adresse mit Google geteilt\",mapsConsentPromptShow:\"Anzeigen\",mapsConsentPromptCancel:\"Abbrechen\"},russian:{listHeader:\"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043a\u0430\u0440\u0442\u0435\",infoboxHeader:\"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u043a\u0430\u0440\u0442\u0435\",mapHeader:\"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443\",searchHeader:\"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0430\u043c \u043f\u043e\u0438\u0441\u043a\u0430\",searchEmpty:\"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u043e\u0431\u044a\u0435\u043a\u0442 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\",searchPlaceholder:\"\u041d\u0430\u0439\u0442\u0438 \u0433\u043e\u0440\u043e\u0434 \u0438\u043b\u0438 \u043f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0438\u043d\u0434\u0435\u043a\u0441\",infoboxClusterTitle:\"\u0411\u043e\u043b\u0435\u0435 \u0447\u0435\u043c \u043e\u0434\u0438\u043d \u043e\u0431\u044a\u0435\u043a\u0442\",infoboxClusterSubtitle:\"\u041f\u0440\u043e\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u043b\u0435\u0432\u043e \u0438\u043b\u0438 \u0432\u043f\u0440\u0430\u0432\u043e \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430\",hoursStatusOpen:\"\u041e\u0442\u043a\u0440\u044b\u0442 \u0441\u0435\u0439\u0447\u0430\u0441\",hoursStatusClosed:\"\u0417\u0430\u043a\u0440\u044b\u0442\",phone:\"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\",website:\"www\",email:\"\u042d\u043b. \u043f\u043e\u0447\u0442\u0430\",userInteraction:\"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043c\u0435\u0441\u0442\u0430\",userInteractionDesktop:\"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0439\u0442\u0438 \u043c\u0435\u0441\u0442\u0430\",mapsConsentPrompt:\"\u0427\u0442\u043e\u0431\u044b \u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u0443, \u0432\u0430\u0448\u0435 \u043c\u0435\u0441\u0442\u043e\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0438 IP-\u0430\u0434\u0440\u0435\u0441 \u0431\u0443\u0434\u0443\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u044b \u0432 Google\",mapsConsentPromptShow:\"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c\",mapsConsentPromptCancel:\"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c\"},arabic:{listHeader:\"\u062a\u0648\u062c\u0647 \u0625\u0644\u0649 \u0627\u0644\u062e\u0627\u0631\u0637\u0629\",infoboxHeader:\"\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u062e\u0627\u0631\u0637\u0629\",mapHeader:\"\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0627\u0644\u0642\u0627\u0626\u0645\u0629\",searchHeader:\"\u0639\u0648\u062f\u0629 \u0625\u0644\u0649 \u0646\u062a\u0627\u0626\u062c \u0627\u0644\u0628\u062d\u062b\",searchEmpty:\"\u0639\u0630\u0631\u0627\u064b\u060c \u0644\u0627 \u0645\u0648\u0642\u0639 \u0645\u0648\u062c\u0648\u062f\",searchPlaceholder:\"\u0628\u062d\u062b \u0627\u0644\u0645\u062f\u064a\u0646\u0629 \u0623\u0648 \u0627\u0644\u0631\u0645\u0632 \u0627\u0644\u0628\u0631\u064a\u062f\u064a\",infoboxClusterTitle:\"\u0645\u0648\u0627\u0642\u0639 \u0645\u062a\u0639\u062f\u062f\u0629\",infoboxClusterSubtitle:\"\u062a\u0645\u0631\u064a\u0631 \u064a\u0633\u0627\u0631\u0627\u064b \u0623\u0648 \u064a\u0645\u064a\u0646\u0627\u064b \u0644\u0644\u062a\u0635\u0641\u062d\",hoursStatusOpen:\"\u0627\u0641\u062a\u062d \u0627\u0644\u0622\u0646\",hoursStatusClosed:\"\u0645\u0642\u0641\u0644\",phone:\"\u0647\u0627\u062a\u0641\",website:\"www\",userInteraction:\"\u0627\u0644\u0627\u0633\u062a\u0641\u0627\u062f\u0629 \u0645\u0646 \u0627\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0627\u0642\u0639\",userInteractionDesktop:\"\u0627\u0646\u0642\u0631 \u0644\u0644\u0639\u062b\u0648\u0631 \u0639\u0644\u0649 \u0627\u0644\u0645\u0648\u0627\u0642\u0639\",mapsConsentPrompt:\"\u0644\u0631\u0624\u064a\u0629 \u0627\u0644\u062e\u0631\u064a\u0637\u0629\u060c \u0633\u0648\u0641 \u064a\u062a\u0645 \u0645\u0634\u0627\u0631\u0643\u0629 \u0645\u0648\u0642\u0639\u0643\u0645 \u0648 \u0639\u0646\u0648\u0627\u0646 IP \u0627\u0644\u062e\u0627\u0635 \u0628\u0643\u0645 \u0645\u0639 \u062c\u0648\u062c\u0644\",mapsConsentPromptShow:\"\u0631\u0624\u064a\u0629\",mapsConsentPromptCancel:\"\u0625\u0644\u063a\u0627\u0621\"},japanese:{listHeader:\"\u5730\u56f3\u3092\u898b\u308b\",infoboxHeader:\"\u5730\u56f3\u306b\u623b\u308b\",mapHeader:\"\u30ea\u30b9\u30c8\u306b\u623b\u308b\",searchHeader:\"\u691c\u7d22\u7d50\u679c\u306b\u623b\u308b\",searchEmpty:\"\u5834\u6240\u304c\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\",searchPlaceholder:\"\u5e02\u540d\u307e\u305f\u306f\u90f5\u4fbf\u756a\u53f7\u3067\u691c\u7d22\",infoboxClusterTitle:\"\u8907\u6570\u306e\u5834\u6240\",infoboxClusterSubtitle:\"\u5de6\u53f3\u306b\u30b9\u30ef\u30a4\u30d7\u3057\u3066\u30d6\u30e9\u30a6\u30ba\u3059\u308b\",hoursStatusOpen:\"\u55b6\u696d\u4e2d\",hoursStatusClosed:\"\u9589\u5e97\",phone:\"\u96fb\u8a71\",website:\"www\",email:\"\u30e1\u30fc\u30eb\",userInteraction:\"\u5834\u6240\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u30bf\u30c3\u30d7\u3057\u307e\u3059\",userInteractionDesktop:\"\u5834\u6240\u3092\u898b\u3064\u3051\u308b\u305f\u3081\u306b\u30af\u30ea\u30c3\u30af\",mapsConsentPrompt:\"\u5730\u56f3\u3092\u898b\u308b\u305f\u3081\u306b\u3001\u3042\u306a\u305f\u306e\u5834\u6240\u3068IP\u30a2\u30c9\u30ec\u30b9\u306fGoogle\u3068\u5171\u6709\u3055\u308c\u307e\u3059\",mapsConsentPromptShow:\"\u898b\u308b\",mapsConsentPromptCancel:\"\u30ad\u30e3\u30f3\u30bb\u30eb\"},chineseSimplified:{listHeader:\"\u524d\u5f80\u5730\u56fe\",infoboxHeader:\"\u8fd4\u56de\u5730\u56fe\",mapHeader:\"\u8fd4\u56de\u5217\u5355\",searchHeader:\"\u8fd4\u56de\u641c\u5bfb\u7ed3\u679c\",searchEmpty:\"\u62b1\u6b49\uff0c\u627e\u4e0d\u5230\u8fd9\u4e2a\u5730\u70b9\",searchPlaceholder:\"\u641c\u7d22\u57ce\u5e02\u6216\u90ae\u653f\u7f16\u7801\",infoboxClusterTitle:\"\u591a\u4e2a\u5730\u70b9\",infoboxClusterSubtitle:\"\u5411\u5de6\u6216\u5411\u53f3\u6ed1\u52a8\u5c4f\u5e55\u6d4f\u89c8\",hoursStatusOpen:\"\u6b63\u5728\u8425\u4e1a\",hoursStatusClosed:\"\u6b63\u5728\u4f11\u606f\",phone:\"\u7535\u8bdd\",website:\"www\",email:\"\u7535\u5b50\u90ae\u4ef6\",userInteraction:\"\u70b9\u51fb\u5c4f\u5e55\uff0c\u67e5\u627e\u5730\u70b9\",userInteractionDesktop:\"\u70b9\u51fb\u5c4f\u5e55\uff0c\u67e5\u627e\u5730\u70b9\",mapsConsentPrompt:\"\u4e3a\u4e86\u663e\u793a\u5730\u56fe\uff0c\u60a8\u7684\u4f4d\u7f6e\u548cIP\u5730\u5740\u8d44\u8baf\u4f1a\u88ab\u4f20\u9001\u5230Google\",mapsConsentPromptShow:\"\u663e\u793a\",mapsConsentPromptCancel:\"\u53d6\u6d88\"},chineseTraditional:{listHeader:\"\u524d\u5f80\u5730\u5716\",infoboxHeader:\"\u8fd4\u56de\u5730\u5716\",mapHeader:\"\u8fd4\u56de\u5217\u8868\",searchHeader:\"\u8fd4\u56de\u641c\u5c0b\u7d50\u679c\",searchEmpty:\"\u62b1\u6b49\uff0c\u627e\u4e0d\u5230\u9019\u500b\u5730\u9ede\",searchPlaceholder:\"\u641c\u7d22\u57ce\u5e02\u6216\u90f5\u905e\u5340\u865f\",infoboxClusterTitle:\"\u591a\u91cd\u5730\u9ede\",infoboxClusterSubtitle:\"\u5411\u5de6\u6216\u5411\u53f3\u6ed1\u700f\u89bd\",hoursStatusOpen:\"\u71df\u696d\u4e2d\",hoursStatusClosed:\"\u4f11\u606f\u4e2d\",phone:\"\u96fb\u8a71\",website:\"www\",email:\"\u96fb\u5b50\u90f5\u4ef6\",userInteraction:\"\u9ede\u64ca\u87a2\u5e55\uff0c\u641c\u5c0b\u5730\u9ede\",userInteractionDesktop:\"\u9ede\u64ca\u87a2\u5e55\uff0c\u641c\u5c0b\u5730\u9ede\",mapsConsentPrompt:\"\u70ba\u4e86\u986f\u793a\u5730\u5716\uff0c\u60a8\u7684\u4f4d\u7f6e\u548cIP\u5730\u5740\u8cc7\u8a0a\u6703\u88ab\u50b3\u9001\u5230Google\",mapsConsentPromptShow:\"\u986f\u793a\",mapsConsentPromptCancel:\"\u53d6\u6d88 \"},italian:{listHeader:\"Vai alla mappa\",infoboxHeader:\"Ritorna alla mappa\",mapHeader:\"Ritorna all'elenco\",searchHeader:\"Ritorna ai risultati ricerca\",searchEmpty:\"Spiacente, nessun indirizzo trovato\",searchPlaceholder:\"Ricerca citt\u00e0 o CAP\",infoboxClusterTitle:\"Pi\u00f9 indirizzi\",infoboxClusterSubtitle:\"Scorri a sinistra o a destra per navigare\",hoursStatusOpen:\"Apri\",hoursStatusClosed:\"Chiuso\",phone:\"Telefono\",website:\"www\",email:\"E-mail\",userInteraction:\"Toccare per trovare le posizioni\",userInteractionDesktop:\"Clicca per trovare le posizioni\",mapsConsentPrompt:\"Per visualizzare la mappa, la vostra posizione e il vostro indirizzo IP verranno condivisi con Google\",mapsConsentPromptShow:\"Visualizza\",mapsConsentPromptCancel:\"Annulla\"},spanish:{listHeader:\"Ir al mapa\",infoboxHeader:\"Volver al mapa\",mapHeader:\"Volver a la lista\",searchHeader:\"Volver a resultados de la b\u00fasqueda\",searchEmpty:\"Disculpe, no se ha encontrado la ubicaci\u00f3n\",searchPlaceholder:\"Buscar Ciudad o C\u00f3digo Postal\",infoboxClusterTitle:\"Ubicaciones m\u00faltiples\",infoboxClusterSubtitle:\"Deslice para buscar\",hoursStatusOpen:\"Abierto ahora\",hoursStatusClosed:\"Cerrado\",phone:\"Tel\u00e9fono\",website:\"www\",email:\"Correo electr\u00f3nico\",userInteraction:\"Toque para encontrar las ubicaciones\",userInteractionDesktop:\"Haga clic para encontrar ubicaciones\",mapsConsentPrompt:\"Para visualizzare el mapa, su ubicaci\u00f3n y direcci\u00f3n IP ser\u00e1n comunicadas con Google\",mapsConsentPromptShow:\"Ver\",mapsConsentPromptCancel:\"Cancelar\"},turkish:{listHeader:\"Haritaya git\",infoboxHeader:\"Haritaya geri d\u00f6n\",mapHeader:\"Listeye geri d\u00f6n\",searchHeader:\"Arama sonu\u00e7lar\u0131na geri d\u00f6n\",searchEmpty:\"\u00dczg\u00fcn\u00fcm, konum bulunamad\u0131\",searchPlaceholder:\"\u015eehir veya Posta Koduyla Ara\",infoboxClusterTitle:\"Birden fazla konum\",infoboxClusterSubtitle:\"Gezinmek i\u00e7in sola veya sa\u011fa \u00e7ek\",hoursStatusOpen:\"\u015fu anda a\u00e7\u0131k\",hoursStatusClosed:\"Kapal\u0131\",phone:\"Telefon\",website:\"www\",email:\"E-posta\",userInteraction:\"yerleri bulmak i\u00e7in dokunun\",userInteractionDesktop:\"yerleri bulmak i\u00e7in t\u0131klay\u0131n\",mapsConsentPrompt:\"Haritay\u0131 g\u00f6r\u00fcnt\u00fclemek i\u00e7in, konumunuz ve IP adresiniz Google ile payla\u015f\u0131lacakt\u0131r\",mapsConsentPromptShow:\"G\u00f6r\u00fcr\",mapsConsentPromptCancel:\"\u0130ptal\"}}};;\nvar DynamicFeed={toString:function(){return\"[Clazz DynamicFeed]\"},checkChoiceFeedAction:function(d,e,t){FeedData.checkAndTrackValue(e.feedFieldKey,e.feedRowIndex,e.caller.method,\"feedFieldKey\");var i=FeedData.getFieldValueByKey(e.feedFieldKey,e.feedRowIndex);\"string\"==typeof i&&FeedData.isCorrectFieldType(e.feedFieldKey,e.caller.method,\"feedFieldKey\")&&e.outcomes.forEach(function(e){if(\"string\"==typeof e.choice&&e.choice.toLowerCase()===i.toLowerCase())return(e.action||nullai)(d,t)})},goToFeedURLAction:function(e,d,t){FeedData.checkAndTrackValue(d.feedFieldKey,d.feedRowIndex,d.caller.method,\"feedFieldKey\"),d.url=\"\";var i=FeedData.getFieldValueByKey(d.feedFieldKey,d.feedRowIndex);\"string\"==typeof i&&FeedData.isCorrectFieldType(d.feedFieldKey,d.caller.method,\"feedFieldKey\")&&(d.url=i),e.screen.parentUnit.goToURLAction(e,d,t)}};;\n!function(){var t,e,i=1,n=2;function a(){return this.sizeUsingTransforms()?n:i}function h(t,e,i){return function(){return(this.isAnimated&&(\"string\"!=typeof i||this[i])?e:t).apply(this,arguments)}}function s(t,e,i){var n=t[e];t[e]=h(n,function(){return function e(i,n){var h;return i instanceof Object&&i.constructor===Object?(h={},Object.keys(i).forEach(function(t){h[t]=e(i[t],n)}),h):\"number\"==typeof i?i*n:i}(n.apply(this,arguments),a.call(this))},i)}function o(t,e,i){s(t,\"get\"+ucfirst(e),i)}function r(){return this.isAnimated}ScreenObject.prototype.positionUsingTransforms=r,ScreenObject.prototype.sizeUsingTransforms=r,\"undefined\"!=typeof Picture&&(Picture.prototype.positionUsingTransforms=r,Picture.prototype.sizeUsingTransforms=r,t=Picture.prototype.awake,Picture.prototype.awake=function(){t.apply(this,arguments),this._imageElement=null,this.on(\"appear\",this._drawImage.bind(this))},e=Picture.prototype.createNode,Picture.prototype.createNode=function(){return this.parentContainer.on(\"resize\",this._drawImage.bind(this)),e.apply(this,arguments)},Picture.prototype._drawImage=function(){var t,e,i,n,h,a,s,o,r;this._imageElement&&(\"stretch\"==this.fittingSize?(this._imageElement.style.position=\"absolute\",this._imageElement.style.left=\"0px\",this._imageElement.style.top=\"0px\",this._imageElement.style.width=\"100%\",this._imageElement.style.height=\"100%\"):(1===(t=this.imagePosition?this.imagePosition.split(\"-\"):[\"left\",\"top\"]).length&&(-1<[\"left\",\"right\"].indexOf(t[0])?t.push(\"center\"):t.unshift(\"center\")),n=this.file.width/this.file.height,r=(h=this.sizeUsingTransforms()?this.getNaturalSize():this.size).width/h.height,a=this.fittingSize,\"original\"===(a=\"fitUpToOriginal\"===this.fittingSize?h.width<this.file.width||h.height<this.file.height?\"fit\":\"original\":a)?(e=this.file.width,i=this.file.height):\"repeat\"===a?(e=this.file.meta.width,i=this.file.meta.height):\"stretch\"===a?(e=h.width,i=h.height):\"fit\"===a?i=r<n?(e=h.width,this.file.height*(h.width/this.file.width)):(e=this.file.width*(h.height/this.file.height),h.height):\"fill\"===a&&(i=r<n?(e=this.file.width*(h.height/this.file.height),h.height):(e=h.width,this.file.height*(h.width/this.file.width))),\"repeat\"===a?(s={left:0,center:Math.round((h.width*this._patternPixelRatio-e)/2),right:h.width*this._patternPixelRatio-e},o={top:0,center:Math.round((h.height*this._patternPixelRatio-i)/2),bottom:h.height*this._patternPixelRatio-i},this._imageElementsCtx.canvas.width=h.width*this._patternPixelRatio,this._imageElementsCtx.canvas.height=h.height*this._patternPixelRatio,this._imageElement.style.width=h.width+\"px\",this._imageElement.style.height=h.height+\"px\",this._imageElementsCtx.save(),this._imageElementsCtx.fillStyle=this._pattern,this._imageElementsCtx.translate(s[t[0]],o[t[1]]),this._imageElementsCtx.fillRect(-s[t[0]],-o[t[1]],h.width*this._patternPixelRatio,h.height*this._patternPixelRatio),this._imageElementsCtx.restore()):(s={left:\"left: 0px;\",center:\"left: \"+Math.round((h.width-e)/2)+\"px;\",right:\"right: 0px;\"},o={top:\"top: 0px;\",center:\"top: \"+Math.round((h.height-i)/2)+\"px;\",bottom:\"bottom: 0px;\"},r=s[t[0]]+\" \"+o[t[1]]+\" \",this._imageElement.style.cssText=\"position: absolute; \"+r+(\"width: \"+e+\"px; height: \"+i+\"px; \"))))},Picture.prototype._handlePreloadedImage=function(t,e){!this.file.dynamic&&\"repeat\"!==this.fittingSize||(this.file.meta={height:e.naturalHeight,width:e.naturalWidth}),\"repeat\"===this.fittingSize?(this._imageElement=document.createElement(\"canvas\"),this._imageElementsCtx=this._imageElement.getContext(\"2d\"),this._pattern=this._imageElementsCtx.createPattern(e,\"repeat\"),this._patternPixelRatio=e.naturalWidth/this.file.width):this._imageElement=e,this._drawImage(),t.appendChild(this._imageElement)});var l=Screen.prototype.resetAction,p=(Screen.prototype.resetAction=function(e,t,i){Scene.instances.forEach(function(t){t.parentScreen===this&&t.resetAction(e,{},noop)}.bind(this)),l.apply(this,arguments)},ScreenObject._roundIfNeeded=function(t){return t},[\"fontSize\",\"lineSpacing\",\"letterSpacing\",\"scaleBaseHeight\",\"scaleBaseWidth\",\"textShadowBlur\",\"textShadowOffset\"]),p=(\"undefined\"!=typeof Texty&&(s(Texty.prototype,\"getNaturalSize\"),[\"textPaddingTop\",\"textPaddingRight\",\"textPaddingBottom\",\"textPaddingLeft\"].forEach(function(t){o(Texty.prototype,t,\"useFontScaleFactorForPadding\")}),p.forEach(function(t){o(Texty.prototype,t)})),[\"borderWidth\",\"shadowDistance\",\"shadowBlur\"].concat(p));function c(t,e){var i=RichTexty.prototype[t];RichTexty.prototype[t]=h(i,function(t){return t=i.call(this,t),function(t,h){t.forEach(function(t){var e=h[t];if(\"none\"!==e)switch(t){case\"textShadow\":var i=e.split(\" \");i[0]=parseInt(i[0])*a.call(this)+\"px\",i[1]=parseInt(i[1])*a.call(this)+\"px\",h[t]=i.join(\" \");break;case\"textStroke\":i=e.split(\" \");i[0]=parseInt(i[0])*a.call(this)+\"px\",h[t]=i.join(\" \");break;default:var i=e.slice(-2),n=parseFloat(e)*a.call(this);h[t]=n+i}},this)}.call(this,e,t),t})}\"undefined\"!=typeof Button&&(s(Button.prototype,\"getNaturalSize\"),p.forEach(function(t){o(Button.prototype,t)})),\"undefined\"!=typeof RichTexty&&(s(RichTexty.prototype,\"getNaturalSize\"),c.call(this,\"transformContextualStyle\",[\"fontSize\",\"letterSpacing\",\"lineSpacing\",\"textShadow\",\"textStroke\"]),c.call(this,\"transformGlobalStyle\",[\"textPaddingTop\",\"textPaddingBottom\",\"textPaddingLeft\",\"textPaddingRight\"]))}();;\n!function(n){function r(n,e,t){n=n.filter(function(n){return n.id===e})[0];return n&&n.value?n.value:t}function e(n,e,t,u){function o(n){return((s*n+f)*n+c)*n}function r(n){for(var e,t,u,r,i=n,a=0;a<8;a++){if(u=o(i)-n,Math.abs(u)<.001)return i;if(r=(3*s*i+2*f)*i+c,Math.abs(r)<1e-6)break;i-=u/r}if((i=n)<(e=0))return e;if((t=1)<i)return t;for(;e<t;){if(u=o(i),Math.abs(u-n)<.001)return i;u<n?e=i:t=i,i=.5*(t-e)+e}return i}var c=3*n,f=3*(t-n)-c,s=1-c-f,i=3*e,a=3*(u-e)-i,I=1-i-a;return function(n){return n=r(n),((I*n+a)*n+i)*n}}function t(n){return Math.pow(n,2)}function u(n){return Math.pow(n,3)}function i(n){return Math.pow(n,4)}function a(n){return Math.pow(n,5)}function o(n){return 1-Math.cos(n*Math.PI*.5)}function c(n){return Math.pow(2,10*(n-1))}function f(n){return 1-Math.sqrt(1-n*n)}var s={none:function(n){return 0},steps:function(n,e){var t=r(e,\"steps\",3),e=r(e,\"jump-position\",\"end\"),u=1/t;return Math[\"end\"===e?\"floor\":\"ceil\"](n*t)*u},linear:function(n){return n},easeIn:e(.42,0,1,1),easeOut:e(0,0,.58,1),easeInOut:e(.42,0,.58,1),easeInQuad:t,easeOutQuad:function(n){return 1-t(1-n)},easeInOutQuad:function(n){return n<.5?.5*t(2*n):1-.5*t(2*(1-n))},easeInCubic:u,easeOutCubic:function(n){return 1-u(1-n)},easeInOutCubic:function(n){return n<.5?.5*u(2*n)/2:1-.5*u(2*(1-n))},easeInQuart:i,easeOutQuart:function(n){return 1-i(1-n)},easeInOutQuart:function(n){return n<.5?.5*i(2*n):1-.5*i(2*(1-n))},easeInQuint:a,easeOutQuint:function(n){return 1-a(1-n)},easeInOutQuint:function(n){return n<.5?.5*a(2*n):1-.5*a(2*(1-n))},easeInSine:o,easeOutSine:function(n){return 1-o(1-n)},easeInOutSine:function(n){return.5*o(2*n)},easeInExpo:c,easeOutExpo:function(n){return 1-c(1-n)},easeInOutExpo:function(n){return n<.5?.5*c(2*n):1-.5*c(2*(1-n))},easeInCirc:f,easeOutCirc:function(n){return 1-f(1-n)},easeInOutCirc:function(n){return n<.5?.5*f(2*n):1-.5*f(2*(1-n))},easeInBack:e(.6,-.28,.735,.045),easeOutBack:e(.175,.885,.32,1.275),easeInOutBack:e(.68,-.55,.265,1.55),cubicBezier:e};\"undefined\"!=typeof module&&null!==module?Object.keys(s).forEach(function(n){module.exports[n]=s[n]}):n.AnimationTimingFunctions=s}(this);;\n!function(e){var u=1e5,a=100*u;function v(e,t,n){this._propertyTweens={},n=n||v.getUsedProperties(e);var i,r=function(e){var t,n=[];for(t in e){var i=parseFloat(t);n[Math.round(i*u)]=e[t]}return n}(e);for(i in n){var o=n[i],s=function(e,t){var n,i,r={};for(i of Object.keys(t).sort(function(e,t){return parseInt(e)-parseInt(t)})){var o;e in t[i]&&(void 0===r[i]&&(r[i]={}),(o=t[i][e])instanceof Object?(void 0!==o.value&&null!==o.value&&(n=o.value,r[i].value=o.value),o.timingFunction&&(r[i].timingFunction=o.timingFunction)):(n=o,r[i].value=o,t[i].timingFunction&&(r[i].timingFunction=t[i].timingFunction)))}void 0===r[a]&&(r[a]={value:n});return r}(o,r);this._propertyTweens[o]=new p(s,t)}}function p(e,t){this._keyframes=e,this._defaultTimingFunction=t||AnimationTimingFunctions.linear,this._tweenable=function(e){for(var t in e)return\"number\"==typeof e[t].value}(this._keyframes)}v.prototype.getValuesAt=function(e){var t,n={};for(t in this._propertyTweens)n[t]=this._propertyTweens[t].getValueAt(e);return n},v.prototype.getPropertyTweens=function(){return this._propertyTweens},p.prototype.getKeyframes=function(){return Object.entries(this._keyframes).map(function(e){return{progress:e[0]/u,properties:e[1]}})},v.getUsedProperties=function(e){var t,n={};for(t in e)for(var i in e[t])\"timingFunction\"!=i&&(n[i]=!0);return Object.keys(n)},p.prototype.getValueAt=function(e){if(e<0)return null;var t,n,i,r,o;e=Math.round(e*u);for(i of Object.keys(this._keyframes).sort(function(e,t){return parseInt(e)-parseInt(t)}))i==e?(t={position:i,values:this._keyframes[i]},n={position:i,values:this._keyframes[i]}):i<e?t={position:i,values:this._keyframes[i]}:e<i&&!n&&(n={position:i,values:this._keyframes[i]});return this._tweenable?(o=n.position-t.position,r=e-t.position,r=(t.values.timingFunction&&t.values.timingFunction.instance?t.values.timingFunction.instance:this._defaultTimingFunction)(r=0==o?0:r/o,t.values.timingFunction&&t.values.timingFunction.parameters?t.values.timingFunction.parameters:[]),o=n.values.value-t.values.value,t.values.value+o*r):t.values.value},e.KeyframeAnimation=v}(this);;\nfunction BaseScenePlayer(e){this._scene=e,this._state=new StateObject({progress:-1}),this._update=this._update.bind(this),this._render=this._render.bind(this),this._end=this._end.bind(this),this.paused=!0,this.ended=!1,this.supportsAutoplay=!1,this.supportsFallback=!0}extend(BaseScenePlayer.prototype,EventEmitter),Object.defineProperty(BaseScenePlayer.prototype,\"progress\",{get:function(){return-1!==this._state.progress?this._state.progress:this.ended?100:0}}),BaseScenePlayer.prototype._update=function(){this._state.isDirty(\"progress\")&&(this._scene.updateObjects(this._state.progress),this.emit(\"progress\",this._state.progress))},BaseScenePlayer.prototype._render=function(){this._state.isDirty(\"progress\")&&(this._scene.renderObjects(),this.emit(\"render\"),this._state.markClean())},BaseScenePlayer.prototype._cancel=function(){Ticker.removeFrame(this._update,\"update\"),Ticker.removeFrame(this._render,\"render\"),Ticker.removeFrame(this._end,\"next\"),this._state.markClean(),this.paused=!0},BaseScenePlayer.prototype._end=function(){this.stop(),this.emit(\"end\")},BaseScenePlayer.prototype._stop=noop,BaseScenePlayer.prototype._pause=noop,BaseScenePlayer.prototype._play=function(){return!0},BaseScenePlayer.prototype.play=function(){this._cancel(),this._play()&&(this.paused=!1,Ticker.frame(this._update,\"update\"),Ticker.frame(this._render,\"render\"),this.emit(\"play\"))},BaseScenePlayer.prototype.displayFallbackFrame=function(e){this._scene.updateObjects(Math.max(0,Math.min(e,100))),this._scene.renderObjects(),this._state.progress=e,this._state.markClean()},BaseScenePlayer.prototype.pause=function(e){this.silentPause(),this.emit(\"pause\")},BaseScenePlayer.prototype.silentPause=function(e){this.ended=100===this._state.progress,0!==this._state.progress&&100!==this._state.progress||(this._state.progress=-1),this._cancel(),this._pause()},BaseScenePlayer.prototype.stop=function(){this._stop(),this.silentPause(),this.emit(\"stop\")},BaseScenePlayer.prototype.destroy=function(){this._cancel()};;\nfunction TimeScenePlayer(e){TimeScenePlayer.uberConstructor.call(this,e),this._state.registerValue(\"loopCount\",0),this._elapsedTime=null,this._startTime=null,this._lastUpdateTime=null,this.supportsFallback=!1}inherit(TimeScenePlayer,BaseScenePlayer),Object.defineProperty(TimeScenePlayer.prototype,\"_loopEnded\",{get:function(){return\"stop\"===this._scene.onEnd&&100<=this._state.progress||\"repeat\"===this._scene.onEnd&&this._scene.onEndRepeatCount&&this._state.loopCount>=this._scene.onEndRepeatCount||\"reverse\"===this._scene.onEnd&&this._scene.onEndReverseCount&&this._state.loopCount>=2*this._scene.onEndReverseCount||0===this._scene.getDuration().milliseconds}}),Object.defineProperty(TimeScenePlayer.prototype,\"_newLoopStarted\",{get:function(){return this._state.isDirty(\"loopCount\")}}),TimeScenePlayer.prototype._update=function(e){var t=this._scene.getDuration().milliseconds,t=(this._startTime=this._startTime||e,this._lastUpdateTime&&(this._startTime-=this._lastUpdateTime,this._lastUpdateTime=null),this._elapsedTime=e-this._startTime,this._state.loopCount=Math.floor(0<t?this._elapsedTime/t:1),100*(0<t?this._elapsedTime/t:1)),s=t%100,s=\"repeat\"===this._scene.onEnd?this._loopEnded||this._newLoopStarted?100:s:\"reverse\"===this._scene.onEnd?this._newLoopStarted&&this._state.loopCount%2?100:this._loopEnded?0:this._state.loopCount%2?100-s:s:t;this._state.progress=Math.max(0,Math.min(s,100)),TimeScenePlayer.uber._update.apply(this,arguments),this._loopEnded&&Ticker.frame(this._end,\"next\")},TimeScenePlayer.prototype._pause=function(){this._lastUpdateTime||(this._lastUpdateTime=this._elapsedTime),this._elapsedTime=null,this._startTime=null},TimeScenePlayer.prototype._stop=function(){this._lastUpdateTime=null,this._elapsedTime=null,this._state.loopCount=0};;\n";
            head.appendChild(js);

        

                

                // Run!
                // Check for runtimeParams to prevent IE 10 from initializing the creative early when host page is refreshed
                if (typeof runtimeParams === 'undefined') return;

                Creative.init({"id":"4e7fd840","clazz":"ExpandableBanner","intendedDeviceType":"Tablet","name":"Tablet Banner","units":{"banner":{"localId":1,"clazz":"CreativeUnit","master":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"scenes":[],"showOverflow":false,"title":"Master","localId":2,"objects":[],"clazz":"Screen","guidelines":[],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}},"screens":[{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[{"localId":308,"type":"appear","onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":310,"disabled":false,"actionClazz":"Scene","instanceLocalId":"40","method":"playScene","isStatic":false,"args":{"target":"40"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"scenes":[{"clazz":"Scene","localId":40,"name":"Scene 1","type":"time","duration":10,"endingMode":"lastKeyframe","onEnd":"stop","onEndRepeatCount":0,"onEndReverseCount":0,"onEndWaitForCount":true,"autoPlay":null,"intersection":null,"fallbackFrame":null,"initialScene":null,"framesPerSecond":20,"objects":[{"targetLocalId":230,"layoutSpecificValues":[[{"frame":0,"properties":{"left":{"localId":252,"value":"0px","isAnimated":false},"top":{"localId":253,"value":"0px","isAnimated":false}}}]]},{"targetLocalId":524,"layoutSpecificValues":[[{"frame":143,"properties":{"opacity":{"localId":656,"value":null,"isAnimated":false},"top":{"localId":660,"value":"20px","isAnimated":false},"left":{"localId":664,"value":"23px","isAnimated":false}}},{"frame":149,"properties":{"opacity":{"localId":657,"value":1,"isAnimated":false},"top":{"localId":661,"value":"20px","isAnimated":false},"left":{"localId":665,"value":"23px","isAnimated":false}}}]]},{"targetLocalId":733,"layoutSpecificValues":[[{"frame":143,"properties":{"left":{"localId":750,"value":"2.73%","isAnimated":false},"opacity":{"localId":746,"value":null,"isAnimated":false},"top":{"localId":748,"value":"53.67%","isAnimated":false}}},{"frame":150,"properties":{"left":{"localId":751,"value":"2.73%","isAnimated":false},"top":{"localId":749,"value":"53.67%","isAnimated":false},"opacity":{"localId":747,"value":1,"isAnimated":false}}}]]},{"targetLocalId":930,"layoutSpecificValues":[[{"frame":143,"properties":{"opacity":{"localId":953,"value":null,"isAnimated":false}}},{"frame":150,"properties":{"opacity":{"localId":954,"value":1,"isAnimated":false}}}]]},{"targetLocalId":1439,"layoutSpecificValues":[[{"frame":0,"properties":{"opacity":{"localId":1487,"value":null,"isAnimated":false}}},{"frame":60,"properties":{"opacity":{"localId":1488,"value":1,"isAnimated":false}}},{"frame":61,"properties":{"opacity":{"localId":1489,"value":0,"isAnimated":false}}}]]},{"targetLocalId":1441,"layoutSpecificValues":[[{"frame":60,"properties":{"opacity":{"localId":1490,"value":null,"isAnimated":false}}},{"frame":61,"properties":{"opacity":{"localId":1491,"value":1,"isAnimated":false}}},{"frame":100,"properties":{"opacity":{"localId":1492,"value":1,"isAnimated":false}}},{"frame":101,"properties":{"opacity":{"localId":1493,"value":0,"isAnimated":false}}}]]},{"targetLocalId":1443,"layoutSpecificValues":[[{"frame":100,"properties":{"opacity":{"localId":1494,"value":null,"isAnimated":false}}},{"frame":101,"properties":{"opacity":{"localId":1495,"value":1,"isAnimated":false}}},{"frame":140,"properties":{"opacity":{"localId":1496,"value":1,"isAnimated":false}}},{"frame":141,"properties":{"opacity":{"localId":1497,"value":0,"isAnimated":false}}}]]}],"isAnimated":false}],"showOverflow":false,"title":"Start","localId":3,"objects":[{"layoutSpecificValues":[{"position":{"left":"4.12%","top":"5.56%"},"size":{"width":"68.75%","height":"88.00%"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"3","aspectRatioLocked":false,"zIndex":12,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":735,"fontSize":"35px","scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(0,40,40,1)","textDirection":"ltr","textAlign":"left","textDecoration":"","textTransform":"none","letterSpacing":"0px","lineSpacing":"0px","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":null,"textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"We offer advanced\nservices","responsiveFont":false,"responsiveFontFactor":0,"textWhiteSpace":"pre-line","textAlignVertical":"50","scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":true,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":1443,"fieldName":"3","subTextStyles":[{"fontLocalId":736,"fontSize":16,"textColor":"#000000","textDecoration":"","clazz":"RichTextStyle","localId":1444,"associatedObjectLocalId":1443,"ranges":[],"isAnimated":false}],"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"3.30%","top":"5.56%"},"size":{"width":"49.38%","height":"88.00%"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"2","aspectRatioLocked":false,"zIndex":11,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":735,"fontSize":"35px","scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(0,40,40,1)","textDirection":"ltr","textAlign":"left","textDecoration":"","textTransform":"none","letterSpacing":"0px","lineSpacing":"0px","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":null,"textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"We're here\nto support","responsiveFont":false,"responsiveFontFactor":0,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":true,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":1441,"fieldName":"2","subTextStyles":[{"fontLocalId":736,"fontSize":16,"textColor":"#000000","textDecoration":"","clazz":"RichTextStyle","localId":1442,"associatedObjectLocalId":1441,"ranges":[],"isAnimated":false}],"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"3.16%","top":"5.56%"},"size":{"width":"49.38%","height":"88.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"1","aspectRatioLocked":false,"zIndex":10,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":735,"fontSize":"35px","scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(0,40,40,1)","textDirection":"ltr","textAlign":"left","textDecoration":"","textTransform":"none","letterSpacing":"0px","lineSpacing":"0px","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":null,"textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"Whatever the \ndiagnosis","responsiveFont":false,"responsiveFontFactor":0,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":true,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":1439,"fieldName":"1","subTextStyles":[{"fontLocalId":736,"fontSize":16,"textColor":"#000000","textDecoration":"","clazz":"RichTextStyle","localId":1440,"associatedObjectLocalId":1439,"ranges":[],"isAnimated":false}],"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"0px","top":"0px"},"size":{"width":"728px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":228,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":229,"disabled":false,"actionClazz":"CreativeUnit","instanceLocalId":1,"method":"expand","isStatic":false,"args":{"animation":"expand","destinationPage":null},"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}]}}]}},"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Expand","aspectRatioLocked":false,"zIndex":9,"hiddenInBuilder":false,"lockedInBuilder":true,"clazz":"Hotspot","localId":230,"fieldName":"Expand","isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"591px","top":"57px"},"size":{"width":"130px","height":"32.22%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":929,"type":"tap","parameters":{},"onFire":null,"isCustom":false,"keyframes":[],"sceneFramesPerSecond":20,"isAnimated":false}],"name":"Button 1","aspectRatioLocked":false,"zIndex":8,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":735,"fontSize":"16px","scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"#ffffff","textDirection":"ltr","textAlign":"center","textDecoration":"","textTransform":"none","letterSpacing":"0px","lineSpacing":"0px","callToActionTextFeedFieldKey":null,"textFontFeedFieldKey":null,"background":"css","backgroundColor":true,"backgroundColorUp":"rgba(0,127,82,1)","backgroundColorDown":"linear-gradient(0deg, #3A3AA5, #4C4CD8)","backgroundColorHover":"linear-gradient(0deg, #6161F2, #7878F2)","border":false,"borderWidth":1,"borderColor":"#222222","roundness":55,"shadow":false,"shadowDistance":0,"shadowBlur":3,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","foregroundForCss":"text","foregroundForImage":"image","callToActionText":"Book now","textColorDown":"#ffffff","textColorHover":"#ffffff","foregroundStretchImage":false,"clazz":"Button","localId":930,"fieldName":"Button 1","isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"3.15%","top":"57.00%"},"size":{"width":"50.00%","height":"42.00%"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"Texty 5","aspectRatioLocked":false,"zIndex":6,"hiddenInBuilder":false,"lockedInBuilder":false,"fontLocalId":735,"fontSize":"24px","scaleFont":false,"scaleBaseWidth":0,"scaleBaseHeight":0,"textColor":"rgba(0,40,40,1)","textDirection":"ltr","textAlign":"left","textDecoration":"","textTransform":"none","letterSpacing":"0px","lineSpacing":"0px","textShadow":false,"textShadowDistance":1,"textShadowBlur":0,"textShadowAngle":0,"textShadowColor":"#999999","textPaddingLocked":true,"textPaddingTop":2,"textPaddingRight":2,"textPaddingBottom":2,"textPaddingLeft":2,"textContentFeedFieldKey":"LocationTableImplicitField/5078294c/city","textFontFeedFieldKey":null,"textColorFeedFieldKey":null,"text":"","responsiveFont":false,"responsiveFontFactor":0,"textWhiteSpace":"pre-line","textAlignVertical":0,"scrollable":false,"scrollbarPosition":"","scrollbarColor":"#000000","autoscrollEnabled":false,"autoscrollDelay":1000,"autoscrollDuration":3000,"autoscrollConclusion":"","isLineWrapAuto":false,"usePadding":true,"useFontScaleFactorForPadding":true,"lineBreakOptimizationStrategy":"none","shortestLineToLongestLineMinRatio":0.25,"maxPaddingToSizeRatio":0.25,"clazz":"Texty","localId":733,"fieldName":"Texty 5","subTextStyles":[{"fontLocalId":736,"fontSize":16,"textColor":"#000000","textDecoration":"","clazz":"RichTextStyle","localId":734,"associatedObjectLocalId":733,"ranges":[],"isAnimated":false}],"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"33px","top":"31px"},"size":{"width":"242px","height":"26px"},"rotation":0,"opacity":0,"hidden":false}],"triggers":[],"name":"Book an appointment","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":null,"fileLocalId":523,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":524,"isAnimated":true},{"layoutSpecificValues":[{"position":{"left":"4px","top":"-1px"},"size":{"width":"415px","height":"90px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Shapey 2","aspectRatioLocked":false,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"backgroundColorFeedFieldKey":null,"backgroundColor":"linear-gradient(90deg, rgba(255,255,255,1) 0%,rgba(0,0,0,0) 100%)","border":false,"borderWidth":5,"borderColor":"#000000","roundness":0,"shadow":false,"shadowDistance":0,"shadowBlur":10,"shadowAngle":0,"shadowColor":"rgba(0,0,0,0.5)","clazz":"Shapey","localId":554,"fieldName":"Shapey 2","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"132px","top":"-49px"},"size":{"width":"596px","height":"188px"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"PIC BANNER","aspectRatioLocked":false,"zIndex":1,"hiddenInBuilder":false,"lockedInBuilder":true,"imageSourceFeedFieldKey":null,"fileLocalId":1201,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":529,"isAnimated":false}],"clazz":"Screen","guidelines":[{"localId":440,"orientation":"v","position":"26px","isAnimated":false},{"localId":943,"orientation":"h","position":"59px","isAnimated":false}],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":["40"]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}}],"backgroundColor":"rgba(255,255,255,1)","borderColor":"#000000","borderSize":0,"scale":1,"sizing":"fixed","defaultUnits":"px","layoutAspectRatiosLocked":{"independent":false},"layoutCustomUnitSizes":{"independent":true},"orientation":"independent","layouts":[{"orientation":"independent","minSize":{"width":0,"height":0},"unitSize":{"width":728,"height":90},"designTimeSize":{"width":728,"height":90},"unitAlignment":{"horizontal":"center","vertical":"center"}}],"layoutsLocked":{"portrait":true,"landscape":true,"independent":true},"feedImageOptimizationSettings":[],"accessibility":{},"isAnimated":false},"modal":{"localId":4,"clazz":"CreativeUnit","master":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"scenes":[],"showOverflow":false,"title":"Master","localId":5,"objects":[],"clazz":"Screen","guidelines":[],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}},"screens":[{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"scenes":[],"showOverflow":false,"title":"Start","localId":6,"objects":[{"layoutSpecificValues":[{"position":{"left":"3.13%","top":"3.33%"},"size":{"width":"93.62%","height":"75.00%"},"rotation":0,"opacity":1,"hidden":false},{"position":{"left":"3.13%","top":"3.33%"},"size":{"width":"93.62%","height":"75.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"Locator 1","aspectRatioLocked":false,"zIndex":3,"hiddenInBuilder":false,"lockedInBuilder":false,"source":"list","tableId":"5078294c","searchQuery":"","initialLocation":"nearby","nearbyRadius":8046.7,"nearbyCount":1,"maxLimitCount":1,"fallbackLocation":null,"fallbackLocationLatLng":null,"units":"imperial","addressFormat":"us","language":"english","defaultView":"both-map","searchBar":false,"uiTheme":"light","mapStyle":"default","textFont":"Arial","themeColor":"rgba(0,40,40,1)","icons":"outline","clazz":"StoreLocator3","localId":1295,"fieldName":"Locator 1","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"0.00%","top":"0.00%"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false},{"position":{"left":"0.00%","top":"0.00%"},"size":{"width":"100.00%","height":"100.00%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[{"localId":1291,"type":"tap","parameters":{},"onFire":{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInSequence","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","actionClazz":"Kernel","instanceLocalId":null,"method":"runInParallel","isStatic":true,"args":{"actions":[{"clazz":"ActionInvocation","localId":1292,"disabled":false,"actionClazz":"Creative","instanceLocalId":null,"method":"trackCustomEvent","isStatic":true,"args":{"name":"MapURL"},"isAnimated":false},{"clazz":"ActionInvocation","localId":1293,"disabled":false,"actionClazz":"DynamicFeed","instanceLocalId":null,"method":"goToFeedURL","isStatic":true,"args":{"name":"Open Website (from Feed) 2","feedFieldKey":"LocationTableImplicitField/5078294c/website","reportLabel":"v4p - Advanced services - Website"},"isAnimated":false}]}}]}},"isCustom":false,"isAnimated":false}],"name":"Hotspot 3","aspectRatioLocked":false,"zIndex":2,"hiddenInBuilder":false,"lockedInBuilder":false,"clazz":"Hotspot","localId":1294,"fieldName":"Hotspot 3","isAnimated":false},{"layoutSpecificValues":[{"position":{"left":"15.00%","top":"82.83%"},"size":{"width":"70.00%","height":"10.22%"},"rotation":0,"opacity":1,"hidden":false},{"position":{"left":"15.00%","top":"82.83%"},"size":{"width":"70.00%","height":"10.22%"},"rotation":0,"opacity":1,"hidden":false}],"triggers":[],"name":"logo copy","aspectRatioLocked":true,"zIndex":1,"hiddenInBuilder":false,"lockedInBuilder":false,"imageSourceFeedFieldKey":null,"fileLocalId":878,"fittingSize":"fit","imagePosition":"center","importedFromLayoutFile":false,"clazz":"Picture","localId":1290,"isAnimated":false}],"clazz":"Screen","guidelines":[],"isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[],"dynamicReachableScreenConditions":{}}],"backgroundColor":"rgba(0,40,40,1)","borderColor":"#000000","borderSize":0,"scale":0.5,"sizing":"responsive","defaultUnits":"%","layoutAspectRatiosLocked":{"portrait":false},"layoutCustomUnitSizes":{"portrait":true},"orientation":"portrait","forceResponsivePositioningAndSizing":false,"layouts":[{"orientation":"portrait","minSize":{"width":0,"height":0},"unitSize":null,"designTimeSize":{"width":768,"height":900},"unitAlignment":{"horizontal":"center","vertical":"center"}},{"orientation":"portrait","minSize":{"width":769,"height":901},"unitSize":null,"designTimeSize":{"width":800,"height":1145},"unitAlignment":{"horizontal":"center","vertical":"center"}}],"layoutsLocked":{"portrait":true,"landscape":true,"independent":true},"feedImageOptimizationSettings":[],"accessibility":{},"closeButtonType":"image","loadingScreen":{"hiddenInBuilder":false,"lockedInBuilder":false,"triggers":[],"scenes":[],"showOverflow":false,"title":"Loading","localId":27,"objects":[],"clazz":"Screen","guidelines":[],"loaderVisible":true,"loaderColor":"rgba(255,255,255,1)","isAnimated":false,"immediatelyPlayedScenes":{"appear":{"scenesLocalIds":[]},"firstAppear":{"scenesLocalIds":[]}},"reachableScreensLocalIds":[6]},"isAnimated":false}},"unitSizes":{"banner":{"width":728,"height":90},"modal":null},"files":[{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":220,"name":"tabbanner1.jpg","blobHash":"928d07d04fb29dba4a097e7ff2ad87614fd8715eef636ba12bc95a407357502f","quality":85,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":56906}],"isAsset":true,"meta":{"size":230630,"contentType":"image/png","width":1456,"height":180}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":221,"name":"tab2.jpg","blobHash":"821c423f249662b9120b42cfc38671def0b4452d56f70eed86b2944150b73fb7","quality":85,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":50986}],"isAsset":true,"meta":{"size":223234,"contentType":"image/png","width":1456,"height":180}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":222,"name":"tab3.jpg","blobHash":"250a15b0ef83f7a330f7b01b4dd7c6d635bef98a83b3ec8b9ac7eea61868d225","quality":85,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":42315}],"isAsset":true,"meta":{"size":189169,"contentType":"image/png","width":1456,"height":180}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":357,"name":"Paw Print 1 Ecru@2x.png","blobHash":"33879031178b32229135989ccdd1903646a860596ba4543c588850e1983d4f66","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":2363}],"isAsset":true,"meta":{"size":7828,"contentType":"image/png","width":640,"height":516}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":523,"name":"Book an appointment.png","blobHash":"f4f635166da0b112660774899400b51a4f3418321bf3c82a928c50ea8c14d68a","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":1494}],"isAsset":true,"meta":{"size":3247,"contentType":"image/png","width":377,"height":38}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":569,"name":"VETS FOR PETS_LOGO_CORE GREEN AND ECRU_RGB.png","blobHash":"e1f35626bb65bd23569462c17942e3bdf8a01c5489b00f2b6d524081fde4b63a","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":3691}],"isAsset":true,"meta":{"size":7098,"contentType":"image/png","width":314,"height":97}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":725,"name":"v4p logo.png","blobHash":"6f1e1af3bb3cf5544f1eff9e8f6d7fd2e42722813122b6b2f111127d378dc0e5","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":3014}],"isAsset":true,"meta":{"size":4059,"contentType":"image/png","width":197,"height":32}},{"clazz":"File","retina":true,"retinaScaleFactor":2,"localId":878,"name":"v4p logo@2x.png","blobHash":"6f1e1af3bb3cf5544f1eff9e8f6d7fd2e42722813122b6b2f111127d378dc0e5","quality":150,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":2476}],"isAsset":true,"meta":{"size":4059,"contentType":"image/png","width":197,"height":32}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":1142,"name":"Whatever the diagnosis.png","blobHash":"bbdfd98a1354c41ec5fd7fbf5f7fbcdc0a1b7d0a92938839a327ff007f22652d","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":18804}],"isAsset":true,"meta":{"size":21673,"contentType":"image/png","width":339,"height":110}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":1143,"name":"We\u2019re here to support.png","blobHash":"edef075c413e5d0ec5eb8b52ca4e1681f5211b5fd32d897ab53f9cc496740357","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":15478}],"isAsset":true,"meta":{"size":17500,"contentType":"image/png","width":267,"height":110}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":1147,"name":"We offer advanced services.png","blobHash":"97c2483824b71ba923e028d8591b9f0924c3f3075cf950ec047cfcfe81739e5a","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":20216}],"isAsset":true,"meta":{"size":23843,"contentType":"image/png","width":467,"height":97}},{"clazz":"File","retina":false,"retinaScaleFactor":1,"localId":1201,"name":"VETS FOR PETS_LOGO_CORE GREEN AND DARK TEAL_RGB.background.png","blobHash":"6af99d8d6ce7fbcf38d78e6877aeb019f51b3e3b1b407a24deac7e8a22e7ad4d","quality":256,"autoResize":false,"optimizationSettings":[{"creativeUnitVariantId":"default","optimizedSize":71449}],"isAsset":true,"meta":{"size":187733,"contentType":"image/png","width":1000,"height":156}}],"fonts":[{"clazz":"Font","localId":735,"typefaceId":"5a0d75c5","provider":"custom","family":"Pets at Home","name":"Bold","style":"normal","weight":"700","stretch":"normal","files":{"woff":{"blobHash":"703f28d513134d78a5b6334f10222af0d3eaa31c2107eb042176d9a566cc771e","name":"PetsHeadline-Bold"}},"subset":" 'BWacdefghiknoprstuvw","feedFields":["LocationTableImplicitField/5078294c/city"],"feedTextTransforms":["none"],"unicodes":"U+20,U+27,U+42,U+57,U+61,U+63-69,U+6B,U+6E-70,U+72-77"},{"clazz":"Font","localId":736,"typefaceId":"system_arial400n","provider":"system","family":"Arial","name":"Normal","style":"normal","weight":400}],"scripts":[],"version":18,"hostedFiles":null,"googleMapsJavaScriptVersion":"3.52","shareFacebookAppId":"1596868677011707","videoTranscodingPresets":{"mpeg1LQVideo":{"algoVersion":1,"mediaType":{"mime":"video/avi"}},"mpeg1SHQVideo":{"algoVersion":1,"mediaType":{"mime":"video/avi"}},"mpeg1InstaVideo":{"algoVersion":1,"mediaType":{"mime":"video/avi"}},"aacAudio":{"algoVersion":1,"mediaType":{"mime":"audio/mp4","codecs":{"audio":"mp4a.40"}}},"mpeg4HQ":{"algoVersion":3,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1","audio":"mp4a.40"}}},"mpeg4HQPlus":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1","audio":"mp4a.40"}}},"mpeg4HD":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1","audio":"mp4a.40"}}},"webmHQ":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp8","audio":"vorbis"}}},"webmHD":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp8","audio":"vorbis"}}},"mpeg4InstaVideo":{"algoVersion":2,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1"}}},"vp9_1080p":{"algoVersion":1,"mediaType":null},"x264_1080p":{"algoVersion":1,"mediaType":null},"vp9_720p":{"algoVersion":1,"mediaType":null},"x264_videoAsset":{"algoVersion":1,"mediaType":null},"x264_inline480p":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1","audio":"mp4a.40"}}},"x264_inline720p":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"avc1","audio":"mp4a.40"}}},"vp9_inline720p":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp9","audio":"vorbis"}}},"x265_served_480p":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"hvc1","audio":"mp4a.40"}}},"x265_served_1080p":{"algoVersion":1,"mediaType":{"mime":"video/mp4","codecs":{"video":"hvc1","audio":"mp4a.40"}}},"vp9_served_480p":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp9","audio":"opus"}}},"vp9_served_720p":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp9","audio":"opus"}}},"vp9_served_1080p":{"algoVersion":1,"mediaType":{"mime":"video/webm","codecs":{"video":"vp9","audio":"opus"}}},"custom":{"algoVersion":1,"mediaType":null}},"videoTranscodingGroups":{"insta":["mpeg4InstaVideo","mpeg1SHQVideo","mpeg1InstaVideo"],"inline":["vp9_served_480p","vp9_served_720p","x265_served_480p","x265_served_1080p","webmHQ","mpeg4HQPlus","mpeg1SHQVideo","aacAudio","mpeg4HQ","mpeg1LQVideo"],"builder":["vp9_720p","aacAudio"],"vast":["custom"],"vpaid":["vp9_served_720p","vp9_served_1080p","x265_served_1080p","mpeg4HQPlus","mpeg4HD","webmHQ","webmHD","mpeg1SHQVideo","aacAudio","vp9_served_480p","x265_served_480p","mpeg4HQ"],"snapchat":["mpeg4HQPlus","custom"],"twitter":["mpeg4HQPlus"],"facebook":["mpeg4HQPlus"],"youTube":["mpeg4HQPlus"],"videoAsset":["x264_videoAsset"],"exportableBanner":["x264_inline720p","x264_inline480p","vp9_inline720p"],"fastLoadingAds":["vp9_served_480p","vp9_served_720p","vp9_served_1080p","x265_served_480p","x265_served_1080p","mpeg4HQ","mpeg4HQPlus","mpeg4HD","webmHQ"]},"isMoatVideoEnabled":false,"firstAppStoreUrlForInmobi":null}, runtimeParams, trackingCenter, aggregatorTracking, experiments, adapter, urls, urlOpenedOverrideUrls, storeOpenedOverrideUrls, macros, urlOpenedUrlAppendage, clickThroughDestinationUrl, perf);
            })();
        </script></body></html>
